{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./dist/v-markdown-editor.css?3552","webpack:///./dist/v-markdown-editor.js","webpack:///www/app.vue","webpack:///./www/app.vue?212e","webpack:///./node_modules/vue-loader/lib/runtime/componentNormalizer.js","webpack:///(webpack)/buildin/module.js","webpack:///./www/app.js","webpack:///./www/app.vue","webpack:///./www/app.vue?ad30","webpack:///./www/app.vue?38fb","webpack:///external \"Vue\""],"names":["webpackUniversalModuleDefinition","root","factory","exports","module","define","window","modules","installedModules","__webpack_require__","moduleId","i","l","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","getDefault","getModuleExports","object","property","prototype","hasOwnProperty","p","s","__webpack_exports__","markdownparser__WEBPACK_IMPORTED_MODULE_0__","markdownparser__WEBPACK_IMPORTED_MODULE_0___default","marked__WEBPACK_IMPORTED_MODULE_1__","marked__WEBPACK_IMPORTED_MODULE_1___default","codemirror__WEBPACK_IMPORTED_MODULE_2__","codemirror__WEBPACK_IMPORTED_MODULE_2___default","codemirror_addon_display_fullscreen_js__WEBPACK_IMPORTED_MODULE_3__","codemirror_addon_display_fullscreen_js__WEBPACK_IMPORTED_MODULE_3___default","codemirror_mode_markdown_markdown_js__WEBPACK_IMPORTED_MODULE_4__","codemirror_mode_markdown_markdown_js__WEBPACK_IMPORTED_MODULE_4___default","codemirror_addon_display_placeholder_js__WEBPACK_IMPORTED_MODULE_5__","codemirror_addon_display_placeholder_js__WEBPACK_IMPORTED_MODULE_5___default","props","id","type","String","_default","Math","random","toString","substr","css","width","Number","height","toolbar","placeholder","extend","buttons","cmd","ico","title","hotkey","ready","theme","required","options","lineWrapping","shouldBreakOnNewline","Boolean","titles","data","editor","preview","fullScreen","html","toolbars","computed","styles","test","concat","watch","val","getValue","setValue","methods","isEmpty","undefined","isUrl","match","format","a","arguments","length","replace","_toggleBlock","start","end","ed","startPoint","getCursor","endPoint","text","stat","state","getLine","line","slice","ch","replaceRange","getSelection","split","join","replaceSelection","setSelection","_toggleLine","repl","map","pos","getTokenAt","types","ret","bold","quote","italic","strikethrough","code","link","image","_replaceSelection","active","startEnd","keys","forEach","drawImage","obj","drawLink","command","$emit","undo","redo","url","prompt","breaks","setOption","getOption","parse","focus","build","_this","__rendered","assign","shortcuts","group","toLowerCase","b","btn","push","extraKeys","fromTextArea","document","getElementById","setSize","on","mounted","destroy","toTextArea","mod","CodeMirror","defineOption","cm","old","Init","setFullscreen","setNormal","wrap","getWrapperElement","fullScreenRestore","scrollTop","pageYOffset","scrollLeft","pageXOffset","style","className","documentElement","overflow","refresh","info","scrollTo","prev","onBlur","onChange","off","clearPlaceholder","wrapper","hasFocus","parentNode","removeChild","setPlaceholder","elt","createElement","cssText","direction","placeHolder","createTextNode","appendChild","display","lineSpace","insertBefore","firstChild","empty","lineCount","global","userAgent","navigator","platform","gecko","ie_upto10","ie_11up","exec","edge","ie","ie_version","documentMode","webkit","qtwebkit","chrome","presto","safari","vendor","mac_geMountainLion","phantom","ios","android","mobile","mac","chromeOS","windows","presto_version","flipCtrlCmd","captureRightClick","classTest","cls","RegExp","rmClass","node","current","after","index","removeChildren","e","count","childNodes","removeChildrenAndAdd","parent","tag","content","eltP","setAttribute","range","createRange","endNode","setEnd","setStart","body","createTextRange","moveToElementText","collapse","moveEnd","moveStart","contains","child","nodeType","host","activeElt","activeElement","shadowRoot","addClass","joinClasses","as","selectInput","select","selectionStart","selectionEnd","_e","f","args","Array","apply","copyObj","target","overwrite","prop","countColumn","string","tabSize","startIndex","startValue","search","nextTab","indexOf","Delayed","time","handler","onTimeout","self","Date","setTimeout","set","ms","clearTimeout","array","scrollerGap","Pass","sel_dontScroll","scroll","sel_mouse","origin","sel_move","findColumn","goal","col","skipped","min","spaceStrs","spaceStr","lst","arr","out","insertSorted","score","priority","splice","nothing","createObj","base","inst","nonASCIISingleCaseWordChar","isWordCharBasic","toUpperCase","isWordChar","helper","source","extendingChars","isExtendingChar","charCodeAt","skipExtendingChars","str","dir","charAt","findFirst","pred","from","to","midF","mid","ceil","floor","iterateBidiSections","order","found","part","max","level","bidiOther","getBidiPartAt","sticky","cur","bidiOrdering","lowTypes","arabicTypes","charType","bidiRE","isNeutral","isStrong","countsAsLeft","countsAsNum","BidiSpan","outerType","len","i$1","i$2","type$1","i$3","prev$1","type$2","i$4","type$3","j","i$5","cur$1","type$4","i$6","end$1","before","replace$1","j$1","i$7","at","isRTL","j$2","nstart","unshift","reverse","getOrder","noHandlers","emitter","addEventListener","attachEvent","_handlers","getHandlers","removeEventListener","detachEvent","signal","handlers","signalDOMEvent","override","preventDefault","defaultPrevented","e_defaultPrevented","codemirrorIgnore","signalCursorActivity","cursorActivity","curOp","cursorActivityHandlers","hasHandler","eventMixin","ctor","e_preventDefault","returnValue","e_stopPropagation","stopPropagation","cancelBubble","e_stop","e_target","srcElement","e_button","which","button","ctrlKey","dragAndDrop","div","zwspSupported","zeroWidthElement","measure","offsetHeight","offsetWidth","badBidiRects","hasBadBidiRects","txt","r0","getBoundingClientRect","r1","left","right","splitLinesAuto","result","nl","rt","hasSelection","te","ownerDocument","selection","parentElement","compareEndPoints","hasCopyEvent","oncopy","badZoomedRects","hasBadZoomedRects","normal","fromRange","abs","modes","mimeModes","defineMode","dependencies","defineMIME","mime","spec","resolveMode","getMode","mfactory","modeObj","modeExtensions","exts","helperType","modeProps","prop$1","extendMode","properties","copyState","nstate","innerMode","startState","a1","a2","StringStream","lineOracle","lastColumnPos","lastColumnValue","lineStart","eol","sol","peek","next","eat","ok","eatWhile","eatSpace","skipToEnd","skipTo","backUp","column","indentation","pattern","consume","caseInsensitive","cased","hideFirstChars","inner","lookAhead","oracle","baseToken","doc","first","size","Error","chunk","lines","children","sz","chunkSize","getBetween","iter","getLines","updateLineHeight","diff","lineNo","no","lineAtHeight","h","outer","lh","isLine","lineNumberFor","lineNumberFormatter","firstLineNumber","Pos","cmp","equalCursorPos","copyPos","x","maxPos","minPos","clipLine","clipPos","last","clipToLen","linelen","clipPosArray","SavedContext","Context","maxLookAhead","baseTokens","baseTokenPos","nextLine","fromSaved","saved","save","copy","highlightLine","context","forceToEnd","st","modeGen","lineClasses","runMode","loop","overlay","overlays","i_end","opaque","classes","bgClass","textClass","getLineStyles","updateFrontier","getContextBefore","resetState","maxHighlightLength","stateAfter","styleClasses","highlightFrontier","modeFrontier","precise","findStartLine","processLine","viewFrom","viewTo","startAt","stream","callBlankLine","readToken","blankLine","token","Token","takeToken","asArray","tokens","extractLineClasses","output","lineClass","flattenSpans","curStart","curStyle","addModeClass","mName","minindent","minline","lim","indented","retreatFrontier","sawReadOnlySpans","sawCollapsedSpans","seeReadOnlySpans","seeCollapsedSpans","MarkedSpan","marker","getMarkedSpanFor","spans","span","removeMarkedSpan","addMarkedSpan","markedSpans","attachLine","markedSpansBefore","startCh","isInsert","nw","startsBefore","inclusiveLeft","insertLeft","endsAfter","inclusiveRight","markedSpansAfter","endCh","stretchSpansOverChange","change","full","oldFirst","oldLast","sameLine","offset","span$1","found$1","clearEmptySpans","newMarkers","gap","gapMarkers","clearWhenEmpty","removeReadOnlyRanges","markers","mark","readOnly","parts","mk","find","newParts","dfrom","dto","detachMarkedSpans","detachLine","attachMarkedSpans","extraLeft","extraRight","compareCollapsedMarkers","lenDiff","aPos","bPos","fromCmp","toCmp","collapsedSpanAtSide","sps","sp","collapsed","collapsedSpanAtStart","collapsedSpanAtEnd","collapsedSpanAround","conflictingCollapsedRange","visualLine","merged","visualLineEnd","visualLineContinued","visualLineNo","lineN","vis","visualLineEndNo","lastLine","lineIsHidden","widgetNode","lineIsHiddenInner","heightAtLine","lineObj","lineLength","findMaxLine","maxLine","maxLineLength","maxLineChanged","Line","estimateHeight","updateLine","estHeight","cleanUpLine","styleToClassCache","styleToClassCacheWithMode","interpretTokenStyle","cache","buildLineContent","lineView","builder","pre","trailingSpace","splitSpaces","rest","addToken","buildToken","buildTokenBadBidi","allowFrontierUpdate","externalMeasured","insertLineContent","maps","caches","lastChild","querySelector","defaultSpecialCharPlaceholder","startStyle","endStyle","attributes","displayText","special","specialChars","mustWrap","createDocumentFragment","lastIndex","txt$1","tabWidth","specialCharPlaceholder","fullStyle","attr","trailingBefore","spaceBefore","buildCollapsedSpan","ignoreWidget","widget","input","needsContentAttribute","setUneditable","allText","nextChange","spanStyle","spanEndStyle","spanStartStyle","Infinity","foundBookmarks","endStyles","upto","tokenText","LineView","hidden","buildViewArray","nextPos","view","operationGroup","pushOperation","op","ops","ownsGroup","delayedCallbacks","fireCallbacksForOps","callbacks","cursorActivityCalled","finishOperation","endCb","orphanDelayedCallbacks","signalLater","list","fireOrphanDelayed","delayed","updateLineForChanges","dims","changes","updateLineText","updateLineGutter","updateLineClasses","updateLineWidgets","ensureLineWrapped","replaceChild","zIndex","updateLineBackground","background","getLineContent","ext","built","wrapClass","gutter","gutterBackground","gutterClass","fixedGutter","fixedPos","gutterTotalWidth","gutterMarkers","lineNumbers","wrap$1","gutterWrap","lineNumber","gutterLeft","lineNumInnerWidth","k","gutterSpecs","gutterWidth","alignable","isWidget","nextSibling","insertLineWidgets","buildLineElement","insertLineWidgetsFor","allowAbove","widgets","ws","handleMouseEvents","positionLineWidget","above","noHScroll","wrapperWidth","coverGutter","paddingLeft","position","marginLeft","widgetHeight","parentStyle","gutters","clientWidth","eventInWidget","getAttribute","sizer","mover","paddingTop","offsetTop","paddingVert","paddingH","cachedPaddingH","getComputedStyle","currentStyle","parseInt","paddingRight","isNaN","scrollGap","nativeBarWidth","displayWidth","scroller","barWidth","displayHeight","clientHeight","barHeight","ensureLineHeights","rect","wrapping","curWidth","heights","rects","getClientRects","bottom","top","mapFromLineView","updateExternalMeasurement","lineMeasure","measureChar","bias","measureCharPrepared","prepareMeasureForLine","findViewForLine","findViewIndex","getDimensions","forceUpdate","hasHeights","prepared","varHeight","measureCharInner","bogus","rtop","rbottom","nullRect","nodeAndOffsetInLineMap","mStart","mEnd","coverStart","coverEnd","getUsefulRect","place","maybeUpdateRectForZooming","rSpan","charWidth","rbot","bot","singleCursorHeightPerLine","screen","logicalXDPI","deviceXDPI","scaleX","scaleY","logicalYDPI","deviceYDPI","clearLineMeasurementCacheFor","clearLineMeasurementCache","externalMeasure","clearCaches","cachedCharWidth","cachedTextHeight","lineNumChars","pageScrollX","pageScrollY","marginTop","widgetTopHeight","intoCoordSystem","includeWidgets","yOff","viewOffset","lOff","xOff","fromCoordSystem","coords","localBox","lineSpaceBox","charCoords","cursorCoords","preparedMeasure","getBidi","partPos","invert","other","estimateCoords","PosWithInfo","outside","xRel","coordsChar","y","coordsCharInner","rangeEnd","wrappedLineExtent","begin","wrappedLineExtentChar","targetTop","boxIsAfter","box","ltr","coordsBidiPartWrapped","coordsBidiPart","chAround","boxAround","baseX","atLeft","atStart","_lineNo","ref","closestDist","endX","dist","measureText","textHeight","anchor","clientLeft","offsetLeft","compensateForHScroll","th","perLine","widgetsHeight","estimateLineHeights","est","posFromMouse","liberal","forRect","space","clientX","clientY","colDiff","round","regChange","lendiff","updateLineNumbers","viewChanged","resetView","cut","viewCuttingPoint","cut$1","cutTop","cutBot","regLineChange","oldN","newN","adjustView","countDirtyView","dirty","updateSelection","showSelection","prepareSelection","primary","curFragment","cursors","selFragment","sel","ranges","primIndex","showCursorWhenSelecting","drawSelectionCursor","head","drawSelectionRange","cursor","cursorHeight","otherCursor","cmpCoords","fragment","padding","leftSide","rightSide","sizerWidth","docLTR","add","drawForLine","fromArg","toArg","lineLen","wrapX","side","extent","fromPos","toPos","openStart","openEnd","openLeft","openRight","topLeft","topRight","botLeft","botRight","sFrom","sTo","fromLine","toLine","singleVLine","leftEnd","rightStart","restartBlink","focused","clearInterval","blinker","cursorDiv","visibility","cursorBlinkRate","setInterval","ensureFocus","onFocus","delayBlurEvent","delayingBlurEvent","selForContextMenu","reset","receivedFocus","shift","updateHeightsInViewport","prevBottom","lineDiv","updateWidgetHeight","chWidth","w","visibleLines","viewport","ensure","ensureFrom","ensureTo","maybeScrollWindow","doScroll","innerHeight","scrollNode","scrollIntoView","scrollPosIntoView","margin","limit","changed","endCoords","scrollPos","calculateScrollPos","startTop","startLeft","updateScrollTop","setScrollLeft","snapMargin","screentop","docBottom","atTop","atBottom","newTop","screenleft","screenw","tooWide","addToScrollTop","resolveScrollToPos","ensureCursorVisible","scrollToPos","cursorScrollMargin","scrollToCoords","scrollToRange","scrollToCoordsRange","sPos","updateDisplaySimple","setScrollTop","startWorker","forceScroll","scrollHeight","scrollbars","isScroller","scrollWidth","alignHorizontally","measureForScrollbars","gutterW","docH","viewHeight","viewWidth","barLeft","docHeight","NativeScrollbars","vert","horiz","tabIndex","checkedZeroWidth","minHeight","minWidth","update","needsH","needsV","sWidth","totalHeight","totalWidth","zeroWidthHack","disableHoriz","enableZeroWidthBar","disableVert","pointerEvents","bar","delay","maybeDisable","elementFromPoint","clear","NullScrollbars","updateScrollbars","startWidth","startHeight","updateScrollbarsInner","sizes","paddingBottom","heightForcer","borderBottom","scrollbarFiller","coverGutterNextToScrollbar","gutterFiller","scrollbarModel","initScrollbars","scrollbarStyle","axis","nextOpId","startOperation","updateInput","typing","changeObjs","selectionChanged","updateMaxLine","endOperation","endOperations","endOperation_R1","endOperation_W1","endOperation_R2","endOperation_W2","endOperation_finish","maybeClipScrollbars","mustUpdate","DisplayUpdate","updatedDisplay","updateDisplayIfNeeded","barMeasure","adjustWidthTo","maxScrollLeft","preparedSelection","takeFocus","setDocumentHeight","postUpdateDisplay","wheelStartX","wheelStartY","maybeHiddenMarkers","unhidden","maybeUnhiddenMarkers","finish","runInOp","operation","methodOp","docMethodOp","highlight","highlightWorker","workTime","changedLines","oldStyles","highlighted","oldCls","newCls","ischange","workDelay","force","visible","editorIsHidden","wrapperHeight","oldDisplayWidth","events","scrollbarsClipped","marginBottom","borderRightWidth","selectionSnapshot","anchorNode","anchorOffset","focusNode","focusOffset","restoreSelection","snapshot","removeAllRanges","addRange","renderedView","maybeUpdateLineNumberWidth","viewportMargin","different","lastWrapHeight","lastWrapWidth","toUpdate","selSnapshot","patchDisplay","selectionDiv","reportedViewFrom","reportedViewTo","updateNumbersFrom","container","rm","currentWheelTarget","updateNumber","updateGutterSpace","alignWidgets","comp","align","innerW","lineGutter","lineNumWidth","getGutters","sawLineNumbers","renderGutters","specs","gElt","updateGutters","Display","draggable","wheelDX","wheelDY","activeTouch","init","wheelSamples","wheelPixelsPerUnit","wheelEventDelta","dx","wheelDeltaX","dy","wheelDeltaY","detail","HORIZONTAL_AXIS","VERTICAL_AXIS","wheelDelta","wheelEventPixels","delta","onScrollWheel","canScrollX","canScrollY","pixels","movedX","movedY","sample","Selection","equals","here","there","deepCopy","Range","somethingSelected","normalizeSelection","mayTouch","selectionsMayTouch","prim","sort","inv","simpleSelection","changeEnd","adjustForChange","computeSelAfterChange","offsetPos","computeReplacedSel","hint","oldPrev","newPrev","loadMode","modeOption","resetModeState","isWholeLineUpdate","wholeLineUpdateBefore","updateDoc","spansFor","linesFor","firstLine","lastText","lastSpans","nlines","insert","remove","added","added$1","added$2","linkedDocs","sharedHistOnly","propagate","skip","sharedHist","linked","rel","shared","attachDoc","setDirectionClass","directionChanged","History","startGen","done","undone","undoDepth","lastModTime","lastSelTime","lastOp","lastSelOp","lastOrigin","lastSelOrigin","generation","maxGeneration","historyChangeFromChange","histChange","attachLocalSpans","clearSelectionEvents","pop","lastChangeEvent","hist","addChangeToHistory","selAfter","opId","history","historyEventDelay","pushSelectionToHistory","selectionEventCanBeMerged","addSelectionToHistory","clearRedo","dest","existing","removeClearedSpans","explicitlyCleared","getOldSpans","mergeOldSpans","stretched","oldCur","stretchCur","copyHistoryArray","newGroup","instantiateSel","event","newChanges","extendRange","posBefore","extendSelection","extendSelections","heads","newSel","replaceOneSelection","setSimpleSelection","filterSelectionChange","setSelectionReplaceHistory","setSelectionNoUndo","NaN","setSelectionInner","skipAtomicInSelection","reCheckSelection","mayClear","newAnchor","skipAtomic","newHead","skipAtomicInner","oldPos","preventCursorLeft","selectLeft","preventCursorRight","selectRight","atomic","near","movePos","far","cantEdit","selectAll","filterChange","canceled","cancel","makeChange","ignoreReadOnly","suppressEdits","makeChangeInner","makeChangeSingleDoc","rebased","rebaseHist","makeChangeFromHistory","allowSelectionOnly","suppress","antiChanges","filter","returned","v","shiftDoc","distance","removed","makeChangeSingleDocInEditor","recomputeMaxLength","checkWidthStart","changesHandler","changeHandler","splitLines","rebaseHistSelSingle","rebaseHistArray","sub","copied","changeLine","handle","changeType","LeafChunk","removeInner","insertInner","iterN","BranchChunk","oldHeight","remaining","leaf","maybeSpill","me","spilled","sibling","myIndex","used","LineWidget","opt","adjustScrollWhenAboveVisible","this$1","oldH","addLineWidget","insertAt","aboveVisible","nextMarkerId","TextMarker","withOp","visual","dHeight","markText","markTextShared","replacedWith","addToHistory","curLine","clearOnEnter","clearHistory","SharedTextMarker","cloneNode","isParent","findSharedMarkers","findMarks","copySharedMarkers","mFrom","mTo","subMark","detachSharedMarkers","subMarker","nextDocId","Doc","lineSep","cleanGeneration","constructor","lineSeparator","getRange","getLineHandle","getLineNumber","getLineHandleVisualStart","listSelections","setCursor","extendSelectionsBy","setSelections","addSelection","getSelections","dup","replaceSelections","undoSelection","redoSelection","setExtending","getExtending","historySize","markClean","changeGeneration","forceSplit","isClean","gen","getHistory","setHistory","histData","setGutterMarker","gutterID","clearGutter","lineInfo","addLineClass","where","removeLineClass","removeLineWidget","setBookmark","realOpts","findMarksAt","getAllMarks","posFromIndex","sepSize","indexFromPos","copyHistory","linkedDoc","unlinkDoc","splitIds","iterLinkedDocs","getEditor","setDirection","eachLine","lastDrop","onDrop","clearDragCursor","files","dataTransfer","isReadOnly","FileReader","File","read","markAsReadAndPasteIfAllFilesAreRead","readTextFromFile","file","allowDropFileTypes","reader","onerror","onload","readAsText","draggingText","text$1","getData","selected","onDragStart","setData","effectAllowed","setDragImage","img","src","_top","onDragOver","frag","dragCursor","forEachCodeMirror","getElementsByClassName","byClass","editors","globalsRegistered","ensureGlobalHandlers","registerGlobalHandlers","resizeTimer","onResize","keyNames","fromCharCode","keyMap","basic","pcDefault","emacsy","macDefault","normalizeKeyName","alt","ctrl","normalizeKeyMap","keymap","keyname","lookupKey","getKeyMap","fallthrough","isModifierKey","keyCode","addModifierNames","noShift","altKey","metaKey","shiftKey","keyName","altGraphKey","deleteNearSelection","compute","kill","toKill","replaced","moveCharLogically","moveLogically","endOfLine","visually","moveInStorageOrder","prep","moveVisually","bidi","mv","getWrappedLineExtent","searchInVisualLine","getRes","res","nextCh","commands","singleSelection","killLine","deleteLine","delLineLeft","delWrappedLineLeft","leftPos","delWrappedLineRight","rightPos","goDocStart","goDocEnd","goLineStart","goLineStartSmart","lineStartSmart","goLineEnd","lineEnd","goLineRight","goLineLeft","goLineLeftSmart","goLineUp","moveV","goLineDown","goPageUp","goPageDown","goCharLeft","moveH","goCharRight","goColumnLeft","goColumnRight","goWordLeft","goGroupRight","goGroupLeft","goWordRight","delCharBefore","deleteH","delCharAfter","delWordBefore","delWordAfter","delGroupBefore","delGroupAfter","indentAuto","indentSelection","indentMore","indentLess","insertTab","insertSoftTab","spaces","defaultTab","execCommand","transposeChars","newlineAndIndent","sels","indentLine","openLine","toggleOverwrite","firstNonWS","inWS","doHandleBinding","bound","dropShift","ensurePolled","prevShift","lookupKeyForEditor","keyMaps","stopSeq","dispatchKey","seq","keySeq","dispatchKeyInner","handleKeyBinding","motion","handleCharBinding","lastStoppedKey","onKeyDown","handled","showCrossHair","up","onKeyUp","onKeyPress","charCode","DOUBLECLICK_DELAY","PastClick","compare","lastClick","lastDoubleClick","clickRepeat","now","onMouseDown","supportsTouch","clickInGutter","repeat","selectingText","handleMappedButton","leftButtonDown","onContextMenu","configureMouse","option","unit","addNew","moveOnDrag","behavior","contained","dragDrop","leftButtonStartDrag","leftButtonSelect","moved","dragEnd","mouseMove","dragStart","e2","rangeForUnit","findWordAt","ourRange","ourIndex","startSel","lastPos","extendTo","startCol","posCol","oldRange","ranges$1","bidiSimplify","editorSize","counter","curCount","move","anchorLine","boundary","headIndex","usePart","gutterEvent","prevent","mX","mY","touches","lineBox","g","contextMenuInGutter","themeChanged","defaults","optionHandlers","defineOptions","deflt","notOnInit","newBreaks","getInputField","spellcheck","autocorrect","autocapitalize","detach","attach","wrappingChanged","integer","blur","readOnlyChanged","screenReaderLabelChanged","dragDropChanged","resetPosition","getField","wasOn","funcs","dragFunctions","toggle","enter","over","leave","drop","inputStyles","inputStyle","pasteIncoming","cutIncoming","autofocus","registerEventHandlers","finishInit","initHooks","textRendering","word","touchFinished","prevTouch","finishTouch","isMouseLikeTouchEvent","touch","radiusX","radiusY","farAway","pageX","pageY","inp","defineInitHook","how","aggressive","indent","curSpace","curSpaceString","indentUnit","indentString","indentWithTabs","pos$1","lastCopied","setLastCopied","newLastCopied","applyTextInput","inserted","deleted","recent","paste","textLines","multiPaste","pasteLinesPerSelection","lineWise","changeEvent","triggerElectric","handlePaste","pasted","clipboardData","disableInput","electricChars","smartIndent","getModeAt","electricInput","copyableRanges","lineRange","disableBrowserMagic","field","hiddenTextarea","border","addEditorMethods","helpers","getDoc","addKeyMap","removeKeyMap","addOverlay","modeSpec","removeOverlay","newRanges","getLineTokens","getTokenTypeAt","getHelper","getHelpers","help","_global","getStateAfter","defaultTextHeight","defaultCharWidth","getViewport","addWidget","vspace","hspace","triggerOnKeyDown","triggerOnKeyPress","triggerOnKeyUp","triggerOnMouseDown","findPosH","amount","hitSide","rtlMoveVisually","findPosV","goalColumn","goals","headPos","startChar","check","getScrollInfo","interpret","swapDoc","phrase","phraseText","phrases","getScrollerElement","getGutterElement","registerHelper","registerGlobalHelper","predicate","origDir","lineDir","findNextLine","moveOnce","boundToLine","sawType","pageSize","moveAmount","ContentEditableInput","lastAnchorNode","lastAnchorOffset","lastFocusNode","lastFocusOffset","polling","composing","gracePeriod","readDOMTimeout","updateFromDOM","readFromDOMSoon","forceCompositionEnd","onCopyCut","lineWiseCopyCut","clearData","kludge","hadFocus","showPrimarySelection","label","removeAttribute","showMultipleSelections","curAnchor","domToPos","curFocus","bad","posToDOM","rangeCount","getRangeAt","rng","startGracePeriod","rememberSelection","selectionInEditor","commonAncestorContainer","pollSelection","poll","pollInterval","isInGutter","pollContent","fromIndex","fromNode","toIndex","toNode","previousSibling","newText","domTextBetween","oldText","cutFront","cutEnd","oldTop","maxCutFront","newBot","oldBot","maxCutEnd","chFrom","chTo","contentEditable","scan","badPos","closing","extraLinebreak","recognizeMarker","close","addText","walk","cmText","markerID","isBlock","nodeName","textContent","nodeValue","lineNode","locateNodeInLineView","textNode","topNode","curNode","dist$1","TextareaInput","prevInput","pollingFast","createField","textarea","fastPoll","prepareCopyCut","dispatchEvent","Event","_display","moveInputWithCursor","wrapOff","lineOff","teTop","teLeft","drawn","contextMenuPending","slowPoll","missed","same","resetSelectionOnContextMenu","oldCSS","oldWrapperCSS","wrapperBox","offsetParent","oldScrollY","scrollY","rehide","detectingSelectAll","prepareSelectAllHack","extval","mouseup","disabled","tabindex","realSubmit","form","leaveSubmitMethodAlone","submit","wrappedSubmit","getTextArea","addLegacyProps","cmpPos","dontDelegate","method","defineExtension","func","defineDocExtension","version","cmCfg","modeCfg","htmlMode","htmlModeMissing","findModeByName","mimes","highlightFormatting","maxBlockquoteDepth","taskLists","emoji","fencedCodeBlockHighlighting","xml","tokenTypeOverrides","tokenTypes","header","list1","list2","list3","hr","imageAltText","imageMarker","formatting","linkInline","linkEmail","linkText","linkHref","em","strong","tokenType","hrRE","listRE","taskListRE","atxHeaderRE","allowAtxHeaderWithoutSpace","setextHeaderRE","textRE","fencedCodeRE","linkDefRE","punctuation","expandedTab","switchInline","inline","switchBlock","block","lineIsEmpty","linkTitle","indentedCode","htmlBlock","exit","htmlState","tagStart","tokenize","isInText","inlineNormal","blockNormal","trailingSpaceNewLine","prevLine","thisLine","firstTokenOnLine","prevLineLineIsEmpty","prevLineIsIndentedCode","prevLineIsHr","prevLineIsList","maxNonCodeIndentation","listStack","lineIndentation","indentationDiff","allowsInlineContinuation","fencedCodeEnd","isHr","getType","setext","listType","taskList","fencedEndRE","localMode","localState","local","footnoteLink","md_inside","currListInd","hasExitedList","maxFencedEndInd","returnType","taskOpen","taskClosed","listMod","handleText","matchCh","regex","previousFormatting","formattingEscape","atts","substring","leftFlanking","rightFlanking","setEm","setStrong","retType","getLinkHrefInside","linkRE","endChar","returnState","footnoteLinkInside","footnoteUrl","textAfter","blockCommentStart","blockCommentEnd","closeBrackets","fold","modeInfo","alias","findModeByMIME","findModeByExtension","findModeByFileName","filename","dot","lastIndexOf","htmlConfig","autoSelfClosers","implicitlyClosed","contextGrabbers","doNotIndent","allowUnquoted","allowMissing","caseFold","xmlConfig","allowMissingTagName","editorConf","config_","config","setStyle","inText","chain","parser","inBlock","doctype","inTag","baseState","tagName","inAttribute","stringStartCol","closure","isInAttribute","terminator","depth","startOfLine","noIndent","popContext","maybePopContext","nextTagName","parentTagName","tagNameState","closeTagNameState","attrState","matchClosing","closeState","closeStateErr","_stream","attrEqState","attrValueState","attrContinuedState","baseIndent","fullLine","multilineTagIndentPastTag","multilineTagIndentFactor","alignCDATA","tagAfter","grabbers","configuration","skipAttribute","xmlCurrentTag","xmlCurrentContext","cx","_patterns","callback","matches","trim","escape","decode","dec","regexs","_t","isArray","Tokenizer","smartypants","mangle","links","tokenizer","rules","pedantic","gfm","blockTokens","raw","fences","heading","nptable","blockquote","items","def","href","table","lheading","paragraph","errMsg","silent","console","error","l2","row","inlineTokens","cells","inLink","inRawBlock","reflink","codespan","br","del","autolink","inlineText","lexer","Lexer","lex","Renderer","TextRenderer","Slugger","unescape","renderer","textRenderer","slugger","l3","cell","ordered","loose","itemBody","item","checked","task","checkbox","parseInline","lang","escaped","tablecell","tablerow","listitem","Parser","cleanUrl","infostring","langPrefix","headerIds","headerPrefix","slug","xhtml","startatt","flags","sanitize","baseUrl","seen","originalSlug","rtrim","splitCells","findClosingBracket","outputLink","cap","newline","lastToken","trimRight","codeBlockStyle","bull","isordered","itemMatch","addBack","istask","ischecked","bullet","smartLists","sanitizer","lastParenIndex","linkLen","_escapes","nolink","prevCapZero","_backpedal","getDefaults","changeDefaults","newDefaults","escapeTest","escapeReplace","escapeTestNoEncode","escapeReplaceNoEncode","escapeReplacements","getEscapeReplacement","encode","unescapeTest","_","caret","edit","getRegex","nonWordAndColonTest","originIndependentUrl","prot","decodeURIComponent","resolveUrl","encodeURI","baseUrls","justDomain","protocol","domain","relativeBase","noopTest","merge","tableRow","curr","suffLen","currChar","checkSanitizeDeprecation","warn","marked","pending","err","message","setOptions","use","extension","opts","prevRenderer","prevTokenizer","_paragraph","_label","_title","_tag","_comment","_punctuation","_scheme","_email","_attribute","_href","_extended_email","render","staticRenderFns","_vm","_h","$createElement","_c","_self","staticClass","_l","attrs","role","click","$event","_v","domProps","innerHTML","_s","_withStripped","normalizeComponent","scriptExports","functionalTemplate","injectStyles","scopeId","moduleIdentifier","shadowMode","_compiled","functional","_scopeId","hook","$vnode","ssrContext","__VUE_SSR_CONTEXT__","_registeredComponents","_ssrRegister","$root","$options","_injectStyles","originalRender","renderWithStyleInjection","beforeCreate","_editor_vue_vue_type_template_id_7c83f806___WEBPACK_IMPORTED_MODULE_0__","_editor_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__","_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__","component","__file","_node_modules_babel_loader_lib_index_js_node_modules_vue_loader_lib_index_js_vue_loader_options_editor_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__","_node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_editor_vue_vue_type_template_id_7c83f806___WEBPACK_IMPORTED_MODULE_0__","codemirror_lib_codemirror_css__WEBPACK_IMPORTED_MODULE_0__","codemirror_lib_codemirror_css__WEBPACK_IMPORTED_MODULE_0___default","_index_css__WEBPACK_IMPORTED_MODULE_1__","_index_css__WEBPACK_IMPORTED_MODULE_1___default","_editor_vue__WEBPACK_IMPORTED_MODULE_2__","MarkdownEditor","install","Vue","__md_editor_installed","Editor","el","App"],"mappings":"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;AACA,iBAAiB,4BAA4B;AAC7C,wCAAwC,SAAS,mBAAmB,EAAE;AACtE;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAiB,4BAA4B;AAC7C;AACA;AACA,4BAA4B;AAC5B,mBAAmB;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAsB,mCAAmC;AACzD;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,sBAAsB,iCAAiC;AACvD;AACA;AACA,gBAAgB;AAChB,OAAO;AACP;AACA,GAAG;AACH;AACA;AACA;AACA;AACA,yBAAyB,6BAA6B;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAW;AACX,oBAAoB,4CAA4C;AAChE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAoB;AACpB,WAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA,WAAW,SAAS,uDAAuD,EAAE;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;AClMA;AAAA;AAAA;;AAEA;AACA;AACA;;AAEe;AACf;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,yBAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA,qBAAqB;AACrB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;;;;;;;;;;;AC5FA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;AACA;AACA,GAAG;AACH;AACA;AACA;AACA;;;;;;;;;;;;;ACrBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAEAE,0CAAG,CAACtE,GAAJ,CAAQwE,8DAAR;AAEA,IAAIF,0CAAJ,CAAQ;AACNG,IAAE,EAAE,MADE;AAGNzD,QAAM,EAAE,gBAAAtyD,CAAC;AAAA,WAAIA,CAAC,CAACg2D,gDAAD,CAAL;AAAA;AAHH,CAAR,E;;;;;;;;;;;;ACRA;AAAA;AAAA;AAAA;AAAkF;AAC3B;AACL;;;AAGlD;AACuF;AACvF,gBAAgB,2GAAU;AAC1B,EAAE,yEAAM;AACR,EAAE,8EAAM;AACR,EAAE,uFAAe;AACjB;AACA;AACA;AACA;;AAEA;;AAEA;AACA,IAAI,KAAU,EAAE,YAiBf;AACD;AACe,gF;;;;;;;;;;;;ACtCf;AAAA;AAAA,wCAA6J,CAAgB,uOAAG,EAAC,C;;;;;;;;;;;;ACAjL;AAAA;AAAA;AAAA;AAAA;AAAA;;;;;;;;;;;;ACAA,qB","file":"js/app.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./www/app.js\");\n","// extracted by mini-css-extract-plugin","(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(window, function() {\nreturn /******/ (function(modules) { // webpackBootstrap\n/******/ \t// The module cache\n/******/ \tvar installedModules = {};\n/******/\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(installedModules[moduleId]) {\n/******/ \t\t\treturn installedModules[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = installedModules[moduleId] = {\n/******/ \t\t\ti: moduleId,\n/******/ \t\t\tl: false,\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/\n/******/ \t\t// Execute the module function\n/******/ \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n/******/\n/******/ \t\t// Flag the module as loaded\n/******/ \t\tmodule.l = true;\n/******/\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/\n/******/\n/******/ \t// expose the modules object (__webpack_modules__)\n/******/ \t__webpack_require__.m = modules;\n/******/\n/******/ \t// expose the module cache\n/******/ \t__webpack_require__.c = installedModules;\n/******/\n/******/ \t// define getter function for harmony exports\n/******/ \t__webpack_require__.d = function(exports, name, getter) {\n/******/ \t\tif(!__webpack_require__.o(exports, name)) {\n/******/ \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n/******/ \t\t}\n/******/ \t};\n/******/\n/******/ \t// define __esModule on exports\n/******/ \t__webpack_require__.r = function(exports) {\n/******/ \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t}\n/******/ \t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t};\n/******/\n/******/ \t// create a fake namespace object\n/******/ \t// mode & 1: value is a module id, require it\n/******/ \t// mode & 2: merge all properties of value into the ns\n/******/ \t// mode & 4: return value when already ns object\n/******/ \t// mode & 8|1: behave like require\n/******/ \t__webpack_require__.t = function(value, mode) {\n/******/ \t\tif(mode & 1) value = __webpack_require__(value);\n/******/ \t\tif(mode & 8) return value;\n/******/ \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n/******/ \t\tvar ns = Object.create(null);\n/******/ \t\t__webpack_require__.r(ns);\n/******/ \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n/******/ \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n/******/ \t\treturn ns;\n/******/ \t};\n/******/\n/******/ \t// getDefaultExport function for compatibility with non-harmony modules\n/******/ \t__webpack_require__.n = function(module) {\n/******/ \t\tvar getter = module && module.__esModule ?\n/******/ \t\t\tfunction getDefault() { return module['default']; } :\n/******/ \t\t\tfunction getModuleExports() { return module; };\n/******/ \t\t__webpack_require__.d(getter, 'a', getter);\n/******/ \t\treturn getter;\n/******/ \t};\n/******/\n/******/ \t// Object.prototype.hasOwnProperty.call\n/******/ \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n/******/\n/******/ \t// __webpack_public_path__\n/******/ \t__webpack_require__.p = \"\";\n/******/\n/******/\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n/******/ })\n/************************************************************************/\n/******/ ({\n\n/***/ \"./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js?!./src/editor.vue?vue&type=script&lang=js&\":\n/*!***********************************************************************************************************************************!*\\\n  !*** ./node_modules/babel-loader/lib!./node_modules/vue-loader/lib??vue-loader-options!./src/editor.vue?vue&type=script&lang=js& ***!\n  \\***********************************************************************************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var markdownparser__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! markdownparser */ \"./node_modules/markdownparser/index.js\");\n/* harmony import */ var markdownparser__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(markdownparser__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var marked__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! marked */ \"./node_modules/marked/src/marked.js\");\n/* harmony import */ var marked__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(marked__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var codemirror__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! codemirror */ \"./node_modules/codemirror/lib/codemirror.js\");\n/* harmony import */ var codemirror__WEBPACK_IMPORTED_MODULE_2___default = /*#__PURE__*/__webpack_require__.n(codemirror__WEBPACK_IMPORTED_MODULE_2__);\n/* harmony import */ var codemirror_addon_display_fullscreen_js__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! codemirror/addon/display/fullscreen.js */ \"./node_modules/codemirror/addon/display/fullscreen.js\");\n/* harmony import */ var codemirror_addon_display_fullscreen_js__WEBPACK_IMPORTED_MODULE_3___default = /*#__PURE__*/__webpack_require__.n(codemirror_addon_display_fullscreen_js__WEBPACK_IMPORTED_MODULE_3__);\n/* harmony import */ var codemirror_mode_markdown_markdown_js__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! codemirror/mode/markdown/markdown.js */ \"./node_modules/codemirror/mode/markdown/markdown.js\");\n/* harmony import */ var codemirror_mode_markdown_markdown_js__WEBPACK_IMPORTED_MODULE_4___default = /*#__PURE__*/__webpack_require__.n(codemirror_mode_markdown_markdown_js__WEBPACK_IMPORTED_MODULE_4__);\n/* harmony import */ var codemirror_addon_display_placeholder_js__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! codemirror/addon/display/placeholder.js */ \"./node_modules/codemirror/addon/display/placeholder.js\");\n/* harmony import */ var codemirror_addon_display_placeholder_js__WEBPACK_IMPORTED_MODULE_5___default = /*#__PURE__*/__webpack_require__.n(codemirror_addon_display_placeholder_js__WEBPACK_IMPORTED_MODULE_5__);\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n//\n\n\n\n\n\n\n/* harmony default export */ __webpack_exports__[\"default\"] = ({\n  props: {\n    id: {\n      type: String,\n      \"default\": function _default() {\n        return 'v-md-editor-' + Math.random().toString(16).substr(2, 9);\n      }\n    },\n    css: {\n      type: String\n    },\n    width: {\n      type: [String, Number],\n      \"default\": '100%'\n    },\n    height: {\n      type: [String, Number],\n      \"default\": '300px'\n    },\n    toolbar: {\n      type: String,\n      \"default\": 'clean redo undo | bold italic strikethrough heading | image link | numlist bullist code quote | preview fullscreen'\n    },\n    placeholder: {\n      type: String,\n      \"default\": ''\n    },\n    extend: {\n      type: Object\n    },\n    buttons: {\n      type: Object,\n      \"default\": function _default() {\n        return {\n          \"clean\": {\n            cmd: \"clean\",\n            ico: \"fas far fa-remove-format mdi mdi-format-clear\",\n            title: \"Html to markdown\",\n            hotkey: 'Shift-Alt-F'\n          },\n          \"undo\": {\n            cmd: \"undo\",\n            ico: \"fas far fa-undo mdi mdi-undo-variant\",\n            title: \"Undo\",\n            hotkey: 'Ctrl-Z'\n          },\n          \"redo\": {\n            cmd: \"redo\",\n            ico: \"fas far fa-redo mdi mdi-redo-variant\",\n            title: \"Redo\",\n            hotkey: 'Ctrl-Y'\n          },\n          \"bullist\": {\n            cmd: \"bullist\",\n            ico: \"fas far fa-list-ul mdi mdi-format-list-bulleted\",\n            title: \"Generic List\"\n          },\n          \"numlist\": {\n            cmd: \"numlist\",\n            ico: \"fas far fa-list-ol mdi mdi-format-list-numbered\",\n            title: \"Numbered List\"\n          },\n          'bold': {\n            title: 'Bold',\n            ico: 'fas far fa-bold mdi mdi-format-bold',\n            cmd: 'bold',\n            hotkey: 'Ctrl-B'\n          },\n          'italic': {\n            title: 'Italic',\n            ico: \"fas far fa-italic mdi mdi-format-italic\",\n            cmd: 'italic',\n            hotkey: 'Ctrl-I'\n          },\n          \"strikethrough\": {\n            cmd: \"strikethrough\",\n            ico: \"fas far fa-strikethrough mdi mdi-format-strikethrough\",\n            title: \"Strikethrough\"\n          },\n          'heading': {\n            title: 'Heading',\n            ico: \"fas far fa-heading mdi mdi-format-header-3\",\n            cmd: 'heading',\n            hotkey: 'Ctrl-H'\n          },\n          'code': {\n            title: 'Code',\n            ico: \"fas far fa-code mdi mdi-code-tags\",\n            cmd: 'code',\n            hotkey: 'Ctrl-X'\n          },\n          'quote': {\n            title: 'Quote',\n            ico: \"fas far fa-quote-left mdi mdi-format-quote-open\",\n            cmd: 'quote',\n            hotkey: 'Ctrl-Q'\n          },\n          'link': {\n            title: 'Link',\n            ico: \"fas far fa-link mdi mdi-link\",\n            cmd: 'link',\n            hotkey: 'Ctrl-K'\n          },\n          'image': {\n            title: 'Image',\n            ico: \"fas far fa-image mdi mdi-image\",\n            cmd: 'image',\n            hotkey: 'Ctrl-P'\n          },\n          \"fullscreen\": {\n            cmd: \"fullscreen\",\n            ico: \"fas far fa-expand mdi mdi-fullscreen\",\n            title: \"Toggle Fullscreen\",\n            hotkey: 'F11',\n            ready: true\n          },\n          \"preview\": {\n            cmd: \"preview\",\n            ico: \"fas far fa-eye mdi mdi-eye\",\n            title: \"Toggle Preview\",\n            hotkey: 'Ctrl-P',\n            ready: true\n          }\n        };\n      }\n    },\n    theme: {\n      type: String,\n      \"default\": 'outline-secondary'\n    },\n    value: {\n      type: String,\n      \"default\": '',\n      required: false\n    },\n    options: {\n      type: Object,\n      \"default\": function _default() {\n        return {\n          lineWrapping: true\n        };\n      }\n    },\n    shouldBreakOnNewline: {\n      type: Boolean,\n      \"default\": true\n    },\n    titles: {\n      type: Object,\n      \"default\": function _default() {\n        return {};\n      }\n    }\n  },\n  data: function data() {\n    return {\n      editor: null,\n      preview: false,\n      fullScreen: false,\n      html: '',\n      toolbars: []\n    };\n  },\n  computed: {\n    styles: function styles() {\n      return {\n        width: !/^\\d+$/.test(this.width) ? this.width : \"\".concat(this.width, \"px\"),\n        height: !/^\\d+$/.test(this.height) ? this.height : \"\".concat(this.height, \"px\")\n      };\n    }\n  },\n  watch: {\n    value: function value(val) {\n      if (val != this.editor.getValue()) {\n        this.editor.setValue(val); // this.editor.focus();\n      }\n    }\n  },\n  methods: {\n    isEmpty: function isEmpty(s) {\n      return s === null || s === undefined ? true : /^[\\s\\xa0]*$/.test(s);\n    },\n    isUrl: function isUrl(s) {\n      return this.isEmpty(s) ? false : s.match(/((http(s)?):\\/\\/[\\w\\.\\/\\-=?#]+)/gi);\n    },\n    format: function format() {\n      var a = arguments[0];\n\n      for (var i = 1; i <= arguments.length; i++) {\n        a = a.replace(/%[a-z]/, arguments[i]);\n      }\n\n      return a; // Make chainable\n    },\n    _toggleBlock: function _toggleBlock(type, start, end) {\n      end = this.isEmpty(end) ? start : end;\n      var ed = this.editor;\n      var startPoint = ed.getCursor(\"start\");\n      var endPoint = ed.getCursor(\"end\");\n      var text;\n      var stat = this.state();\n\n      if (stat[type]) {\n        text = ed.getLine(startPoint.line);\n        start = text.slice(0, startPoint.ch);\n        end = text.slice(startPoint.ch);\n\n        if (type == \"bold\") {\n          start = start.replace(/(\\*\\*|__)(?![\\s\\S]*(\\*\\*|__))/, \"\");\n          end = end.replace(/(\\*\\*|__)/, \"\");\n        } else if (type == \"italic\") {\n          start = start.replace(/(\\*|_)(?![\\s\\S]*(\\*|_))/, \"\");\n          end = end.replace(/(\\*|_)/, \"\");\n        } else if (type == \"strikethrough\") {\n          start = start.replace(/(\\*\\*|~~)(?![\\s\\S]*(\\*\\*|~~))/, \"\");\n          end = end.replace(/(\\*\\*|~~)/, \"\");\n        }\n\n        ed.replaceRange(start + end, {\n          line: startPoint.line,\n          ch: 0\n        }, {\n          line: startPoint.line,\n          ch: 99999999999999\n        });\n\n        if (type == \"bold\" || type == \"strikethrough\") {\n          startPoint.ch -= 2;\n\n          if (startPoint !== endPoint) {\n            endPoint.ch -= 2;\n          }\n        } else if (type == \"italic\") {\n          startPoint.ch -= 1;\n\n          if (startPoint !== endPoint) {\n            endPoint.ch -= 1;\n          }\n        }\n      } else {\n        text = ed.getSelection();\n\n        if (type == \"bold\") {\n          text = text.split(\"**\").join(\"\");\n          text = text.split(\"__\").join(\"\");\n        } else if (type == \"italic\") {\n          text = text.split(\"*\").join(\"\");\n          text = text.split(\"_\").join(\"\");\n        } else if (type == \"strikethrough\") {\n          text = text.split(\"~~\").join(\"\");\n        }\n\n        ed.replaceSelection(start + text + end);\n        startPoint.ch += start.length;\n        endPoint.ch = startPoint.ch + text.length;\n      }\n\n      ed.setSelection(startPoint, endPoint);\n    },\n    _toggleLine: function _toggleLine(name) {\n      var ed = this.editor;\n      var stat = this.state();\n      var startPoint = ed.getCursor(\"start\");\n      var endPoint = ed.getCursor(\"end\");\n      var repl = {\n        \"quote\": /^(\\s*)\\>\\s+/,\n        \"bullist\": /^(\\s*)(\\*|\\-|\\+)\\s+/,\n        \"numlist\": /^(\\s*)\\d+\\.\\s+/\n      };\n      var map = {\n        \"quote\": \"> \",\n        \"bullist\": \"* \",\n        \"numlist\": \"1. \"\n      };\n\n      for (var i = startPoint.line; i <= endPoint.line; i++) {\n        (function (i) {\n          var text = ed.getLine(i);\n\n          if (stat[name]) {\n            text = text.replace(repl[name], \"$1\");\n          } else {\n            text = map[name] + text;\n          }\n\n          ed.replaceRange(text, {\n            line: i,\n            ch: 0\n          }, {\n            line: i,\n            ch: 99999999999999\n          });\n        })(i);\n      }\n    },\n    state: function state(pos) {\n      pos = pos || this.editor.getCursor(\"start\");\n      var stat = this.editor.getTokenAt(pos);\n      if (!stat.type) return {};\n      var types = stat.type.split(\" \"); // console.log(types);\n\n      var ret = {},\n          data,\n          text;\n\n      for (var i = 0; i < types.length; i++) {\n        data = types[i];\n\n        if (data === \"strong\") {\n          ret.bold = true;\n        } else if (data === \"variable-2\") {\n          text = this.editor.getLine(pos.line);\n\n          if (/^\\s*\\d+\\.\\s/.test(text)) {\n            ret[\"numlist\"] = true;\n          } else {\n            ret[\"bullist\"] = true;\n          }\n        } else if (data === \"atom\") {\n          ret.quote = true;\n        } else if (data === \"em\") {\n          ret.italic = true;\n        } else if (data === \"quote\") {\n          ret.quote = true;\n        } else if (data === \"strikethrough\") {\n          ret.strikethrough = true;\n        } else if (data === \"comment\") {\n          ret.code = true;\n        } else if (data === \"link\" || data === \"url\") {\n          ret.link = true;\n        } else if (data === \"image\") {\n          ret.image = true;\n        } else if (data.match(/^header(\\-[1-6])?$/)) {\n          ret[data.replace(\"header\", \"heading\")] = true;\n        }\n      }\n\n      return ret;\n    },\n    _replaceSelection: function _replaceSelection(active, startEnd, val) {\n      var ed = this.editor;\n      var text;\n      var start = startEnd[0];\n      var end = startEnd[1];\n      var startPoint = ed.getCursor(\"start\");\n      var endPoint = ed.getCursor(\"end\");\n\n      if (val) {\n        Object.keys(val).forEach(function (key) {\n          start = start.replace('#' + key + '#', val[key]);\n          end = end.replace('#' + key + '#', val[key]);\n        });\n      }\n\n      if (active) {\n        text = ed.getLine(startPoint.line);\n        start = text.slice(0, startPoint.ch);\n        end = text.slice(startPoint.ch);\n        ed.replaceRange(start + end, {\n          line: startPoint.line,\n          ch: 0\n        });\n      } else {\n        ed.replaceSelection(start + end);\n        startPoint.ch += start.length;\n\n        if (startPoint !== endPoint) {\n          endPoint.ch += start.length;\n        }\n      }\n\n      ed.setSelection(startPoint, endPoint);\n    },\n    drawImage: function drawImage(obj) {\n      var stat = this.state();\n\n      this._replaceSelection(stat.image, [\"![#title#](\", '#url# \"#title#\")'], obj);\n    },\n    drawLink: function drawLink(obj) {\n      var stat = this.state();\n\n      this._replaceSelection(stat.link, ['[#title#]', '(#url# \"#title#\")'], obj);\n    },\n    command: function command(key) {\n      var ed = this.editor;\n      var text = ed.getSelection(); // this.$root.$emit('markdown-editor:' + key, this);\n\n      this.$emit('command:' + key, this);\n\n      switch (key) {\n        case 'undo':\n          ed.undo();\n          break;\n\n        case 'redo':\n          ed.redo();\n          break;\n\n        case 'bold':\n          this._toggleBlock('bold', '**');\n\n          break;\n\n        case 'italic':\n          this._toggleBlock('italic', '*');\n\n          break;\n\n        case 'strikethrough':\n          this._toggleBlock('strikethrough', '~~');\n\n          break;\n\n        case 'code':\n          this._toggleBlock('code', '```');\n\n          break;\n\n        case 'heading':\n          ed.replaceSelection('\\n### ' + text);\n          break;\n\n        case 'image':\n          var url = prompt(\"Please enter image url\", \"https://\");\n\n          if (this.isUrl(url)) {\n            var title = !this.isEmpty(text) ? text : \"This is image title\";\n            this.drawImage({\n              title: title,\n              url: url\n            });\n          }\n\n          break;\n\n        case 'link':\n          var url = prompt(\"Please enter link\", \"https://\");\n\n          if (this.isUrl(url)) {\n            var title = !this.isEmpty(text) ? text : url;\n            this.drawLink({\n              title: title,\n              url: url\n            });\n          }\n\n          break;\n\n        case 'quote':\n          this._toggleLine('quote');\n\n          break;\n\n        case 'numlist':\n          this._toggleLine('numlist');\n\n          break;\n\n        case 'bullist':\n          this._toggleLine('bullist');\n\n          break;\n\n        case 'preview':\n          this.html = marked__WEBPACK_IMPORTED_MODULE_1___default()(ed.getValue(), {\n            breaks: this.shouldBreakOnNewline\n          });\n          this.preview = !this.preview;\n          break;\n\n        case 'fullscreen':\n          this.fullScreen = !this.fullScreen;\n          ed.setOption(\"fullScreen\", !ed.getOption(\"fullScreen\"));\n          break;\n\n        case 'clean':\n          ed.replaceSelection(markdownparser__WEBPACK_IMPORTED_MODULE_0___default.a.parse(text));\n          break;\n      }\n\n      ed.focus();\n    },\n    build: function build() {\n      var _this = this;\n\n      if (this.__rendered) return;\n      var buttons = Object.assign({}, this.buttons, this.extend);\n      Object.keys(this.titles).forEach(function (key) {\n        buttons[key].title = _this.titles[key];\n      });\n      var shortcuts = {};\n      this.toolbar.split('|').forEach(function (t, i) {\n        var group = [];\n        t.toLowerCase().split(/(\\s)/).forEach(function (b) {\n          if (!_this.isEmpty(b)) {\n            var btn = buttons[b];\n\n            if (!_this.isEmpty(btn.hotkey)) {\n              shortcuts[btn.hotkey] = function () {\n                return _this.command(btn.cmd);\n              };\n            }\n\n            group.push(btn);\n          }\n        });\n        if (group.length > 0) _this.toolbars.push(group);\n      });\n      var o = Object.assign({\n        mode: 'markdown',\n        extraKeys: shortcuts\n      }, this.options);\n      var ed = this.editor = codemirror__WEBPACK_IMPORTED_MODULE_2___default.a.fromTextArea(document.getElementById(this.id), o);\n      ed.setValue(this.value);\n      ed.setSize(this.width, this.height);\n      ed.on(\"change\", function (ed) {\n        var val = ed.getValue();\n\n        _this.$emit('change', val);\n\n        _this.$emit('input', val);\n      });\n      this.__rendered = true;\n    }\n  },\n  mounted: function mounted() {\n    this.build();\n  },\n  destroy: function destroy() {\n    this.editor.toTextArea();\n  }\n});\n\n/***/ }),\n\n/***/ \"./node_modules/codemirror/addon/display/fullscreen.js\":\n/*!*************************************************************!*\\\n  !*** ./node_modules/codemirror/addon/display/fullscreen.js ***!\n  \\*************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n(function (mod) {\n  if (true) // CommonJS\n    mod(__webpack_require__(/*! ../../lib/codemirror */ \"./node_modules/codemirror/lib/codemirror.js\"));else {}\n})(function (CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.defineOption(\"fullScreen\", false, function (cm, val, old) {\n    if (old == CodeMirror.Init) old = false;\n    if (!old == !val) return;\n    if (val) setFullscreen(cm);else setNormal(cm);\n  });\n\n  function setFullscreen(cm) {\n    var wrap = cm.getWrapperElement();\n    cm.state.fullScreenRestore = {\n      scrollTop: window.pageYOffset,\n      scrollLeft: window.pageXOffset,\n      width: wrap.style.width,\n      height: wrap.style.height\n    };\n    wrap.style.width = \"\";\n    wrap.style.height = \"auto\";\n    wrap.className += \" CodeMirror-fullscreen\";\n    document.documentElement.style.overflow = \"hidden\";\n    cm.refresh();\n  }\n\n  function setNormal(cm) {\n    var wrap = cm.getWrapperElement();\n    wrap.className = wrap.className.replace(/\\s*CodeMirror-fullscreen\\b/, \"\");\n    document.documentElement.style.overflow = \"\";\n    var info = cm.state.fullScreenRestore;\n    wrap.style.width = info.width;\n    wrap.style.height = info.height;\n    window.scrollTo(info.scrollLeft, info.scrollTop);\n    cm.refresh();\n  }\n});\n\n/***/ }),\n\n/***/ \"./node_modules/codemirror/addon/display/placeholder.js\":\n/*!**************************************************************!*\\\n  !*** ./node_modules/codemirror/addon/display/placeholder.js ***!\n  \\**************************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n(function (mod) {\n  if (true) // CommonJS\n    mod(__webpack_require__(/*! ../../lib/codemirror */ \"./node_modules/codemirror/lib/codemirror.js\"));else {}\n})(function (CodeMirror) {\n  CodeMirror.defineOption(\"placeholder\", \"\", function (cm, val, old) {\n    var prev = old && old != CodeMirror.Init;\n\n    if (val && !prev) {\n      cm.on(\"blur\", onBlur);\n      cm.on(\"change\", onChange);\n      cm.on(\"swapDoc\", onChange);\n      onChange(cm);\n    } else if (!val && prev) {\n      cm.off(\"blur\", onBlur);\n      cm.off(\"change\", onChange);\n      cm.off(\"swapDoc\", onChange);\n      clearPlaceholder(cm);\n      var wrapper = cm.getWrapperElement();\n      wrapper.className = wrapper.className.replace(\" CodeMirror-empty\", \"\");\n    }\n\n    if (val && !cm.hasFocus()) onBlur(cm);\n  });\n\n  function clearPlaceholder(cm) {\n    if (cm.state.placeholder) {\n      cm.state.placeholder.parentNode.removeChild(cm.state.placeholder);\n      cm.state.placeholder = null;\n    }\n  }\n\n  function setPlaceholder(cm) {\n    clearPlaceholder(cm);\n    var elt = cm.state.placeholder = document.createElement(\"pre\");\n    elt.style.cssText = \"height: 0; overflow: visible\";\n    elt.style.direction = cm.getOption(\"direction\");\n    elt.className = \"CodeMirror-placeholder CodeMirror-line-like\";\n    var placeHolder = cm.getOption(\"placeholder\");\n    if (typeof placeHolder == \"string\") placeHolder = document.createTextNode(placeHolder);\n    elt.appendChild(placeHolder);\n    cm.display.lineSpace.insertBefore(elt, cm.display.lineSpace.firstChild);\n  }\n\n  function onBlur(cm) {\n    if (isEmpty(cm)) setPlaceholder(cm);\n  }\n\n  function onChange(cm) {\n    var wrapper = cm.getWrapperElement(),\n        empty = isEmpty(cm);\n    wrapper.className = wrapper.className.replace(\" CodeMirror-empty\", \"\") + (empty ? \" CodeMirror-empty\" : \"\");\n    if (empty) setPlaceholder(cm);else clearPlaceholder(cm);\n  }\n\n  function isEmpty(cm) {\n    return cm.lineCount() === 1 && cm.getLine(0) === \"\";\n  }\n});\n\n/***/ }),\n\n/***/ \"./node_modules/codemirror/lib/codemirror.css\":\n/*!****************************************************!*\\\n  !*** ./node_modules/codemirror/lib/codemirror.css ***!\n  \\****************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ \"./node_modules/codemirror/lib/codemirror.js\":\n/*!***************************************************!*\\\n  !*** ./node_modules/codemirror/lib/codemirror.js ***!\n  \\***************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n// This is CodeMirror (https://codemirror.net), a code editor\n// implemented in JavaScript on top of the browser's DOM.\n//\n// You can find some technical background for some of the code below\n// at http://marijnhaverbeke.nl/blog/#cm-internals .\n(function (global, factory) {\n   true ? module.exports = factory() : undefined;\n})(this, function () {\n  'use strict'; // Kludges for bugs and behavior differences that can't be feature\n  // detected are enabled based on userAgent etc sniffing.\n\n  var userAgent = navigator.userAgent;\n  var platform = navigator.platform;\n  var gecko = /gecko\\/\\d/i.test(userAgent);\n  var ie_upto10 = /MSIE \\d/.test(userAgent);\n  var ie_11up = /Trident\\/(?:[7-9]|\\d{2,})\\..*rv:(\\d+)/.exec(userAgent);\n  var edge = /Edge\\/(\\d+)/.exec(userAgent);\n  var ie = ie_upto10 || ie_11up || edge;\n  var ie_version = ie && (ie_upto10 ? document.documentMode || 6 : +(edge || ie_11up)[1]);\n  var webkit = !edge && /WebKit\\//.test(userAgent);\n  var qtwebkit = webkit && /Qt\\/\\d+\\.\\d+/.test(userAgent);\n  var chrome = !edge && /Chrome\\//.test(userAgent);\n  var presto = /Opera\\//.test(userAgent);\n  var safari = /Apple Computer/.test(navigator.vendor);\n  var mac_geMountainLion = /Mac OS X 1\\d\\D([8-9]|\\d\\d)\\D/.test(userAgent);\n  var phantom = /PhantomJS/.test(userAgent);\n  var ios = !edge && /AppleWebKit/.test(userAgent) && /Mobile\\/\\w+/.test(userAgent);\n  var android = /Android/.test(userAgent); // This is woefully incomplete. Suggestions for alternative methods welcome.\n\n  var mobile = ios || android || /webOS|BlackBerry|Opera Mini|Opera Mobi|IEMobile/i.test(userAgent);\n  var mac = ios || /Mac/.test(platform);\n  var chromeOS = /\\bCrOS\\b/.test(userAgent);\n  var windows = /win/i.test(platform);\n  var presto_version = presto && userAgent.match(/Version\\/(\\d*\\.\\d*)/);\n\n  if (presto_version) {\n    presto_version = Number(presto_version[1]);\n  }\n\n  if (presto_version && presto_version >= 15) {\n    presto = false;\n    webkit = true;\n  } // Some browsers use the wrong event properties to signal cmd/ctrl on OS X\n\n\n  var flipCtrlCmd = mac && (qtwebkit || presto && (presto_version == null || presto_version < 12.11));\n  var captureRightClick = gecko || ie && ie_version >= 9;\n\n  function classTest(cls) {\n    return new RegExp(\"(^|\\\\s)\" + cls + \"(?:$|\\\\s)\\\\s*\");\n  }\n\n  var rmClass = function (node, cls) {\n    var current = node.className;\n    var match = classTest(cls).exec(current);\n\n    if (match) {\n      var after = current.slice(match.index + match[0].length);\n      node.className = current.slice(0, match.index) + (after ? match[1] + after : \"\");\n    }\n  };\n\n  function removeChildren(e) {\n    for (var count = e.childNodes.length; count > 0; --count) {\n      e.removeChild(e.firstChild);\n    }\n\n    return e;\n  }\n\n  function removeChildrenAndAdd(parent, e) {\n    return removeChildren(parent).appendChild(e);\n  }\n\n  function elt(tag, content, className, style) {\n    var e = document.createElement(tag);\n\n    if (className) {\n      e.className = className;\n    }\n\n    if (style) {\n      e.style.cssText = style;\n    }\n\n    if (typeof content == \"string\") {\n      e.appendChild(document.createTextNode(content));\n    } else if (content) {\n      for (var i = 0; i < content.length; ++i) {\n        e.appendChild(content[i]);\n      }\n    }\n\n    return e;\n  } // wrapper for elt, which removes the elt from the accessibility tree\n\n\n  function eltP(tag, content, className, style) {\n    var e = elt(tag, content, className, style);\n    e.setAttribute(\"role\", \"presentation\");\n    return e;\n  }\n\n  var range;\n\n  if (document.createRange) {\n    range = function (node, start, end, endNode) {\n      var r = document.createRange();\n      r.setEnd(endNode || node, end);\n      r.setStart(node, start);\n      return r;\n    };\n  } else {\n    range = function (node, start, end) {\n      var r = document.body.createTextRange();\n\n      try {\n        r.moveToElementText(node.parentNode);\n      } catch (e) {\n        return r;\n      }\n\n      r.collapse(true);\n      r.moveEnd(\"character\", end);\n      r.moveStart(\"character\", start);\n      return r;\n    };\n  }\n\n  function contains(parent, child) {\n    if (child.nodeType == 3) // Android browser always returns false when child is a textnode\n      {\n        child = child.parentNode;\n      }\n\n    if (parent.contains) {\n      return parent.contains(child);\n    }\n\n    do {\n      if (child.nodeType == 11) {\n        child = child.host;\n      }\n\n      if (child == parent) {\n        return true;\n      }\n    } while (child = child.parentNode);\n  }\n\n  function activeElt() {\n    // IE and Edge may throw an \"Unspecified Error\" when accessing document.activeElement.\n    // IE < 10 will throw when accessed while the page is loading or in an iframe.\n    // IE > 9 and Edge will throw when accessed in an iframe if document.body is unavailable.\n    var activeElement;\n\n    try {\n      activeElement = document.activeElement;\n    } catch (e) {\n      activeElement = document.body || null;\n    }\n\n    while (activeElement && activeElement.shadowRoot && activeElement.shadowRoot.activeElement) {\n      activeElement = activeElement.shadowRoot.activeElement;\n    }\n\n    return activeElement;\n  }\n\n  function addClass(node, cls) {\n    var current = node.className;\n\n    if (!classTest(cls).test(current)) {\n      node.className += (current ? \" \" : \"\") + cls;\n    }\n  }\n\n  function joinClasses(a, b) {\n    var as = a.split(\" \");\n\n    for (var i = 0; i < as.length; i++) {\n      if (as[i] && !classTest(as[i]).test(b)) {\n        b += \" \" + as[i];\n      }\n    }\n\n    return b;\n  }\n\n  var selectInput = function (node) {\n    node.select();\n  };\n\n  if (ios) // Mobile Safari apparently has a bug where select() is broken.\n    {\n      selectInput = function (node) {\n        node.selectionStart = 0;\n        node.selectionEnd = node.value.length;\n      };\n    } else if (ie) // Suppress mysterious IE10 errors\n    {\n      selectInput = function (node) {\n        try {\n          node.select();\n        } catch (_e) {}\n      };\n    }\n\n  function bind(f) {\n    var args = Array.prototype.slice.call(arguments, 1);\n    return function () {\n      return f.apply(null, args);\n    };\n  }\n\n  function copyObj(obj, target, overwrite) {\n    if (!target) {\n      target = {};\n    }\n\n    for (var prop in obj) {\n      if (obj.hasOwnProperty(prop) && (overwrite !== false || !target.hasOwnProperty(prop))) {\n        target[prop] = obj[prop];\n      }\n    }\n\n    return target;\n  } // Counts the column offset in a string, taking tabs into account.\n  // Used mostly to find indentation.\n\n\n  function countColumn(string, end, tabSize, startIndex, startValue) {\n    if (end == null) {\n      end = string.search(/[^\\s\\u00a0]/);\n\n      if (end == -1) {\n        end = string.length;\n      }\n    }\n\n    for (var i = startIndex || 0, n = startValue || 0;;) {\n      var nextTab = string.indexOf(\"\\t\", i);\n\n      if (nextTab < 0 || nextTab >= end) {\n        return n + (end - i);\n      }\n\n      n += nextTab - i;\n      n += tabSize - n % tabSize;\n      i = nextTab + 1;\n    }\n  }\n\n  var Delayed = function () {\n    this.id = null;\n    this.f = null;\n    this.time = 0;\n    this.handler = bind(this.onTimeout, this);\n  };\n\n  Delayed.prototype.onTimeout = function (self) {\n    self.id = 0;\n\n    if (self.time <= +new Date()) {\n      self.f();\n    } else {\n      setTimeout(self.handler, self.time - +new Date());\n    }\n  };\n\n  Delayed.prototype.set = function (ms, f) {\n    this.f = f;\n    var time = +new Date() + ms;\n\n    if (!this.id || time < this.time) {\n      clearTimeout(this.id);\n      this.id = setTimeout(this.handler, ms);\n      this.time = time;\n    }\n  };\n\n  function indexOf(array, elt) {\n    for (var i = 0; i < array.length; ++i) {\n      if (array[i] == elt) {\n        return i;\n      }\n    }\n\n    return -1;\n  } // Number of pixels added to scroller and sizer to hide scrollbar\n\n\n  var scrollerGap = 30; // Returned or thrown by various protocols to signal 'I'm not\n  // handling this'.\n\n  var Pass = {\n    toString: function () {\n      return \"CodeMirror.Pass\";\n    }\n  }; // Reused option objects for setSelection & friends\n\n  var sel_dontScroll = {\n    scroll: false\n  },\n      sel_mouse = {\n    origin: \"*mouse\"\n  },\n      sel_move = {\n    origin: \"+move\"\n  }; // The inverse of countColumn -- find the offset that corresponds to\n  // a particular column.\n\n  function findColumn(string, goal, tabSize) {\n    for (var pos = 0, col = 0;;) {\n      var nextTab = string.indexOf(\"\\t\", pos);\n\n      if (nextTab == -1) {\n        nextTab = string.length;\n      }\n\n      var skipped = nextTab - pos;\n\n      if (nextTab == string.length || col + skipped >= goal) {\n        return pos + Math.min(skipped, goal - col);\n      }\n\n      col += nextTab - pos;\n      col += tabSize - col % tabSize;\n      pos = nextTab + 1;\n\n      if (col >= goal) {\n        return pos;\n      }\n    }\n  }\n\n  var spaceStrs = [\"\"];\n\n  function spaceStr(n) {\n    while (spaceStrs.length <= n) {\n      spaceStrs.push(lst(spaceStrs) + \" \");\n    }\n\n    return spaceStrs[n];\n  }\n\n  function lst(arr) {\n    return arr[arr.length - 1];\n  }\n\n  function map(array, f) {\n    var out = [];\n\n    for (var i = 0; i < array.length; i++) {\n      out[i] = f(array[i], i);\n    }\n\n    return out;\n  }\n\n  function insertSorted(array, value, score) {\n    var pos = 0,\n        priority = score(value);\n\n    while (pos < array.length && score(array[pos]) <= priority) {\n      pos++;\n    }\n\n    array.splice(pos, 0, value);\n  }\n\n  function nothing() {}\n\n  function createObj(base, props) {\n    var inst;\n\n    if (Object.create) {\n      inst = Object.create(base);\n    } else {\n      nothing.prototype = base;\n      inst = new nothing();\n    }\n\n    if (props) {\n      copyObj(props, inst);\n    }\n\n    return inst;\n  }\n\n  var nonASCIISingleCaseWordChar = /[\\u00df\\u0587\\u0590-\\u05f4\\u0600-\\u06ff\\u3040-\\u309f\\u30a0-\\u30ff\\u3400-\\u4db5\\u4e00-\\u9fcc\\uac00-\\ud7af]/;\n\n  function isWordCharBasic(ch) {\n    return /\\w/.test(ch) || ch > \"\\x80\" && (ch.toUpperCase() != ch.toLowerCase() || nonASCIISingleCaseWordChar.test(ch));\n  }\n\n  function isWordChar(ch, helper) {\n    if (!helper) {\n      return isWordCharBasic(ch);\n    }\n\n    if (helper.source.indexOf(\"\\\\w\") > -1 && isWordCharBasic(ch)) {\n      return true;\n    }\n\n    return helper.test(ch);\n  }\n\n  function isEmpty(obj) {\n    for (var n in obj) {\n      if (obj.hasOwnProperty(n) && obj[n]) {\n        return false;\n      }\n    }\n\n    return true;\n  } // Extending unicode characters. A series of a non-extending char +\n  // any number of extending chars is treated as a single unit as far\n  // as editing and measuring is concerned. This is not fully correct,\n  // since some scripts/fonts/browsers also treat other configurations\n  // of code points as a group.\n\n\n  var extendingChars = /[\\u0300-\\u036f\\u0483-\\u0489\\u0591-\\u05bd\\u05bf\\u05c1\\u05c2\\u05c4\\u05c5\\u05c7\\u0610-\\u061a\\u064b-\\u065e\\u0670\\u06d6-\\u06dc\\u06de-\\u06e4\\u06e7\\u06e8\\u06ea-\\u06ed\\u0711\\u0730-\\u074a\\u07a6-\\u07b0\\u07eb-\\u07f3\\u0816-\\u0819\\u081b-\\u0823\\u0825-\\u0827\\u0829-\\u082d\\u0900-\\u0902\\u093c\\u0941-\\u0948\\u094d\\u0951-\\u0955\\u0962\\u0963\\u0981\\u09bc\\u09be\\u09c1-\\u09c4\\u09cd\\u09d7\\u09e2\\u09e3\\u0a01\\u0a02\\u0a3c\\u0a41\\u0a42\\u0a47\\u0a48\\u0a4b-\\u0a4d\\u0a51\\u0a70\\u0a71\\u0a75\\u0a81\\u0a82\\u0abc\\u0ac1-\\u0ac5\\u0ac7\\u0ac8\\u0acd\\u0ae2\\u0ae3\\u0b01\\u0b3c\\u0b3e\\u0b3f\\u0b41-\\u0b44\\u0b4d\\u0b56\\u0b57\\u0b62\\u0b63\\u0b82\\u0bbe\\u0bc0\\u0bcd\\u0bd7\\u0c3e-\\u0c40\\u0c46-\\u0c48\\u0c4a-\\u0c4d\\u0c55\\u0c56\\u0c62\\u0c63\\u0cbc\\u0cbf\\u0cc2\\u0cc6\\u0ccc\\u0ccd\\u0cd5\\u0cd6\\u0ce2\\u0ce3\\u0d3e\\u0d41-\\u0d44\\u0d4d\\u0d57\\u0d62\\u0d63\\u0dca\\u0dcf\\u0dd2-\\u0dd4\\u0dd6\\u0ddf\\u0e31\\u0e34-\\u0e3a\\u0e47-\\u0e4e\\u0eb1\\u0eb4-\\u0eb9\\u0ebb\\u0ebc\\u0ec8-\\u0ecd\\u0f18\\u0f19\\u0f35\\u0f37\\u0f39\\u0f71-\\u0f7e\\u0f80-\\u0f84\\u0f86\\u0f87\\u0f90-\\u0f97\\u0f99-\\u0fbc\\u0fc6\\u102d-\\u1030\\u1032-\\u1037\\u1039\\u103a\\u103d\\u103e\\u1058\\u1059\\u105e-\\u1060\\u1071-\\u1074\\u1082\\u1085\\u1086\\u108d\\u109d\\u135f\\u1712-\\u1714\\u1732-\\u1734\\u1752\\u1753\\u1772\\u1773\\u17b7-\\u17bd\\u17c6\\u17c9-\\u17d3\\u17dd\\u180b-\\u180d\\u18a9\\u1920-\\u1922\\u1927\\u1928\\u1932\\u1939-\\u193b\\u1a17\\u1a18\\u1a56\\u1a58-\\u1a5e\\u1a60\\u1a62\\u1a65-\\u1a6c\\u1a73-\\u1a7c\\u1a7f\\u1b00-\\u1b03\\u1b34\\u1b36-\\u1b3a\\u1b3c\\u1b42\\u1b6b-\\u1b73\\u1b80\\u1b81\\u1ba2-\\u1ba5\\u1ba8\\u1ba9\\u1c2c-\\u1c33\\u1c36\\u1c37\\u1cd0-\\u1cd2\\u1cd4-\\u1ce0\\u1ce2-\\u1ce8\\u1ced\\u1dc0-\\u1de6\\u1dfd-\\u1dff\\u200c\\u200d\\u20d0-\\u20f0\\u2cef-\\u2cf1\\u2de0-\\u2dff\\u302a-\\u302f\\u3099\\u309a\\ua66f-\\ua672\\ua67c\\ua67d\\ua6f0\\ua6f1\\ua802\\ua806\\ua80b\\ua825\\ua826\\ua8c4\\ua8e0-\\ua8f1\\ua926-\\ua92d\\ua947-\\ua951\\ua980-\\ua982\\ua9b3\\ua9b6-\\ua9b9\\ua9bc\\uaa29-\\uaa2e\\uaa31\\uaa32\\uaa35\\uaa36\\uaa43\\uaa4c\\uaab0\\uaab2-\\uaab4\\uaab7\\uaab8\\uaabe\\uaabf\\uaac1\\uabe5\\uabe8\\uabed\\udc00-\\udfff\\ufb1e\\ufe00-\\ufe0f\\ufe20-\\ufe26\\uff9e\\uff9f]/;\n\n  function isExtendingChar(ch) {\n    return ch.charCodeAt(0) >= 768 && extendingChars.test(ch);\n  } // Returns a number from the range [`0`; `str.length`] unless `pos` is outside that range.\n\n\n  function skipExtendingChars(str, pos, dir) {\n    while ((dir < 0 ? pos > 0 : pos < str.length) && isExtendingChar(str.charAt(pos))) {\n      pos += dir;\n    }\n\n    return pos;\n  } // Returns the value from the range [`from`; `to`] that satisfies\n  // `pred` and is closest to `from`. Assumes that at least `to`\n  // satisfies `pred`. Supports `from` being greater than `to`.\n\n\n  function findFirst(pred, from, to) {\n    // At any point we are certain `to` satisfies `pred`, don't know\n    // whether `from` does.\n    var dir = from > to ? -1 : 1;\n\n    for (;;) {\n      if (from == to) {\n        return from;\n      }\n\n      var midF = (from + to) / 2,\n          mid = dir < 0 ? Math.ceil(midF) : Math.floor(midF);\n\n      if (mid == from) {\n        return pred(mid) ? from : to;\n      }\n\n      if (pred(mid)) {\n        to = mid;\n      } else {\n        from = mid + dir;\n      }\n    }\n  } // BIDI HELPERS\n\n\n  function iterateBidiSections(order, from, to, f) {\n    if (!order) {\n      return f(from, to, \"ltr\", 0);\n    }\n\n    var found = false;\n\n    for (var i = 0; i < order.length; ++i) {\n      var part = order[i];\n\n      if (part.from < to && part.to > from || from == to && part.to == from) {\n        f(Math.max(part.from, from), Math.min(part.to, to), part.level == 1 ? \"rtl\" : \"ltr\", i);\n        found = true;\n      }\n    }\n\n    if (!found) {\n      f(from, to, \"ltr\");\n    }\n  }\n\n  var bidiOther = null;\n\n  function getBidiPartAt(order, ch, sticky) {\n    var found;\n    bidiOther = null;\n\n    for (var i = 0; i < order.length; ++i) {\n      var cur = order[i];\n\n      if (cur.from < ch && cur.to > ch) {\n        return i;\n      }\n\n      if (cur.to == ch) {\n        if (cur.from != cur.to && sticky == \"before\") {\n          found = i;\n        } else {\n          bidiOther = i;\n        }\n      }\n\n      if (cur.from == ch) {\n        if (cur.from != cur.to && sticky != \"before\") {\n          found = i;\n        } else {\n          bidiOther = i;\n        }\n      }\n    }\n\n    return found != null ? found : bidiOther;\n  } // Bidirectional ordering algorithm\n  // See http://unicode.org/reports/tr9/tr9-13.html for the algorithm\n  // that this (partially) implements.\n  // One-char codes used for character types:\n  // L (L):   Left-to-Right\n  // R (R):   Right-to-Left\n  // r (AL):  Right-to-Left Arabic\n  // 1 (EN):  European Number\n  // + (ES):  European Number Separator\n  // % (ET):  European Number Terminator\n  // n (AN):  Arabic Number\n  // , (CS):  Common Number Separator\n  // m (NSM): Non-Spacing Mark\n  // b (BN):  Boundary Neutral\n  // s (B):   Paragraph Separator\n  // t (S):   Segment Separator\n  // w (WS):  Whitespace\n  // N (ON):  Other Neutrals\n  // Returns null if characters are ordered as they appear\n  // (left-to-right), or an array of sections ({from, to, level}\n  // objects) in the order in which they occur visually.\n\n\n  var bidiOrdering = function () {\n    // Character types for codepoints 0 to 0xff\n    var lowTypes = \"bbbbbbbbbtstwsbbbbbbbbbbbbbbssstwNN%%%NNNNNN,N,N1111111111NNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNNNLLLLLLLLLLLLLLLLLLLLLLLLLLNNNNbbbbbbsbbbbbbbbbbbbbbbbbbbbbbbbbb,N%%%%NNNNLNNNNN%%11NLNNN1LNNNNNLLLLLLLLLLLLLLLLLLLLLLLNLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLLN\"; // Character types for codepoints 0x600 to 0x6f9\n\n    var arabicTypes = \"nnnnnnNNr%%r,rNNmmmmmmmmmmmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmmmmmmmmmmmmmmmnnnnnnnnnn%nnrrrmrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrrmmmmmmmnNmmmmmmrrmmNmmmmrr1111111111\";\n\n    function charType(code) {\n      if (code <= 0xf7) {\n        return lowTypes.charAt(code);\n      } else if (0x590 <= code && code <= 0x5f4) {\n        return \"R\";\n      } else if (0x600 <= code && code <= 0x6f9) {\n        return arabicTypes.charAt(code - 0x600);\n      } else if (0x6ee <= code && code <= 0x8ac) {\n        return \"r\";\n      } else if (0x2000 <= code && code <= 0x200b) {\n        return \"w\";\n      } else if (code == 0x200c) {\n        return \"b\";\n      } else {\n        return \"L\";\n      }\n    }\n\n    var bidiRE = /[\\u0590-\\u05f4\\u0600-\\u06ff\\u0700-\\u08ac]/;\n    var isNeutral = /[stwN]/,\n        isStrong = /[LRr]/,\n        countsAsLeft = /[Lb1n]/,\n        countsAsNum = /[1n]/;\n\n    function BidiSpan(level, from, to) {\n      this.level = level;\n      this.from = from;\n      this.to = to;\n    }\n\n    return function (str, direction) {\n      var outerType = direction == \"ltr\" ? \"L\" : \"R\";\n\n      if (str.length == 0 || direction == \"ltr\" && !bidiRE.test(str)) {\n        return false;\n      }\n\n      var len = str.length,\n          types = [];\n\n      for (var i = 0; i < len; ++i) {\n        types.push(charType(str.charCodeAt(i)));\n      } // W1. Examine each non-spacing mark (NSM) in the level run, and\n      // change the type of the NSM to the type of the previous\n      // character. If the NSM is at the start of the level run, it will\n      // get the type of sor.\n\n\n      for (var i$1 = 0, prev = outerType; i$1 < len; ++i$1) {\n        var type = types[i$1];\n\n        if (type == \"m\") {\n          types[i$1] = prev;\n        } else {\n          prev = type;\n        }\n      } // W2. Search backwards from each instance of a European number\n      // until the first strong type (R, L, AL, or sor) is found. If an\n      // AL is found, change the type of the European number to Arabic\n      // number.\n      // W3. Change all ALs to R.\n\n\n      for (var i$2 = 0, cur = outerType; i$2 < len; ++i$2) {\n        var type$1 = types[i$2];\n\n        if (type$1 == \"1\" && cur == \"r\") {\n          types[i$2] = \"n\";\n        } else if (isStrong.test(type$1)) {\n          cur = type$1;\n\n          if (type$1 == \"r\") {\n            types[i$2] = \"R\";\n          }\n        }\n      } // W4. A single European separator between two European numbers\n      // changes to a European number. A single common separator between\n      // two numbers of the same type changes to that type.\n\n\n      for (var i$3 = 1, prev$1 = types[0]; i$3 < len - 1; ++i$3) {\n        var type$2 = types[i$3];\n\n        if (type$2 == \"+\" && prev$1 == \"1\" && types[i$3 + 1] == \"1\") {\n          types[i$3] = \"1\";\n        } else if (type$2 == \",\" && prev$1 == types[i$3 + 1] && (prev$1 == \"1\" || prev$1 == \"n\")) {\n          types[i$3] = prev$1;\n        }\n\n        prev$1 = type$2;\n      } // W5. A sequence of European terminators adjacent to European\n      // numbers changes to all European numbers.\n      // W6. Otherwise, separators and terminators change to Other\n      // Neutral.\n\n\n      for (var i$4 = 0; i$4 < len; ++i$4) {\n        var type$3 = types[i$4];\n\n        if (type$3 == \",\") {\n          types[i$4] = \"N\";\n        } else if (type$3 == \"%\") {\n          var end = void 0;\n\n          for (end = i$4 + 1; end < len && types[end] == \"%\"; ++end) {}\n\n          var replace = i$4 && types[i$4 - 1] == \"!\" || end < len && types[end] == \"1\" ? \"1\" : \"N\";\n\n          for (var j = i$4; j < end; ++j) {\n            types[j] = replace;\n          }\n\n          i$4 = end - 1;\n        }\n      } // W7. Search backwards from each instance of a European number\n      // until the first strong type (R, L, or sor) is found. If an L is\n      // found, then change the type of the European number to L.\n\n\n      for (var i$5 = 0, cur$1 = outerType; i$5 < len; ++i$5) {\n        var type$4 = types[i$5];\n\n        if (cur$1 == \"L\" && type$4 == \"1\") {\n          types[i$5] = \"L\";\n        } else if (isStrong.test(type$4)) {\n          cur$1 = type$4;\n        }\n      } // N1. A sequence of neutrals takes the direction of the\n      // surrounding strong text if the text on both sides has the same\n      // direction. European and Arabic numbers act as if they were R in\n      // terms of their influence on neutrals. Start-of-level-run (sor)\n      // and end-of-level-run (eor) are used at level run boundaries.\n      // N2. Any remaining neutrals take the embedding direction.\n\n\n      for (var i$6 = 0; i$6 < len; ++i$6) {\n        if (isNeutral.test(types[i$6])) {\n          var end$1 = void 0;\n\n          for (end$1 = i$6 + 1; end$1 < len && isNeutral.test(types[end$1]); ++end$1) {}\n\n          var before = (i$6 ? types[i$6 - 1] : outerType) == \"L\";\n          var after = (end$1 < len ? types[end$1] : outerType) == \"L\";\n          var replace$1 = before == after ? before ? \"L\" : \"R\" : outerType;\n\n          for (var j$1 = i$6; j$1 < end$1; ++j$1) {\n            types[j$1] = replace$1;\n          }\n\n          i$6 = end$1 - 1;\n        }\n      } // Here we depart from the documented algorithm, in order to avoid\n      // building up an actual levels array. Since there are only three\n      // levels (0, 1, 2) in an implementation that doesn't take\n      // explicit embedding into account, we can build up the order on\n      // the fly, without following the level-based algorithm.\n\n\n      var order = [],\n          m;\n\n      for (var i$7 = 0; i$7 < len;) {\n        if (countsAsLeft.test(types[i$7])) {\n          var start = i$7;\n\n          for (++i$7; i$7 < len && countsAsLeft.test(types[i$7]); ++i$7) {}\n\n          order.push(new BidiSpan(0, start, i$7));\n        } else {\n          var pos = i$7,\n              at = order.length,\n              isRTL = direction == \"rtl\" ? 1 : 0;\n\n          for (++i$7; i$7 < len && types[i$7] != \"L\"; ++i$7) {}\n\n          for (var j$2 = pos; j$2 < i$7;) {\n            if (countsAsNum.test(types[j$2])) {\n              if (pos < j$2) {\n                order.splice(at, 0, new BidiSpan(1, pos, j$2));\n                at += isRTL;\n              }\n\n              var nstart = j$2;\n\n              for (++j$2; j$2 < i$7 && countsAsNum.test(types[j$2]); ++j$2) {}\n\n              order.splice(at, 0, new BidiSpan(2, nstart, j$2));\n              at += isRTL;\n              pos = j$2;\n            } else {\n              ++j$2;\n            }\n          }\n\n          if (pos < i$7) {\n            order.splice(at, 0, new BidiSpan(1, pos, i$7));\n          }\n        }\n      }\n\n      if (direction == \"ltr\") {\n        if (order[0].level == 1 && (m = str.match(/^\\s+/))) {\n          order[0].from = m[0].length;\n          order.unshift(new BidiSpan(0, 0, m[0].length));\n        }\n\n        if (lst(order).level == 1 && (m = str.match(/\\s+$/))) {\n          lst(order).to -= m[0].length;\n          order.push(new BidiSpan(0, len - m[0].length, len));\n        }\n      }\n\n      return direction == \"rtl\" ? order.reverse() : order;\n    };\n  }(); // Get the bidi ordering for the given line (and cache it). Returns\n  // false for lines that are fully left-to-right, and an array of\n  // BidiSpan objects otherwise.\n\n\n  function getOrder(line, direction) {\n    var order = line.order;\n\n    if (order == null) {\n      order = line.order = bidiOrdering(line.text, direction);\n    }\n\n    return order;\n  } // EVENT HANDLING\n  // Lightweight event framework. on/off also work on DOM nodes,\n  // registering native DOM handlers.\n\n\n  var noHandlers = [];\n\n  var on = function (emitter, type, f) {\n    if (emitter.addEventListener) {\n      emitter.addEventListener(type, f, false);\n    } else if (emitter.attachEvent) {\n      emitter.attachEvent(\"on\" + type, f);\n    } else {\n      var map = emitter._handlers || (emitter._handlers = {});\n      map[type] = (map[type] || noHandlers).concat(f);\n    }\n  };\n\n  function getHandlers(emitter, type) {\n    return emitter._handlers && emitter._handlers[type] || noHandlers;\n  }\n\n  function off(emitter, type, f) {\n    if (emitter.removeEventListener) {\n      emitter.removeEventListener(type, f, false);\n    } else if (emitter.detachEvent) {\n      emitter.detachEvent(\"on\" + type, f);\n    } else {\n      var map = emitter._handlers,\n          arr = map && map[type];\n\n      if (arr) {\n        var index = indexOf(arr, f);\n\n        if (index > -1) {\n          map[type] = arr.slice(0, index).concat(arr.slice(index + 1));\n        }\n      }\n    }\n  }\n\n  function signal(emitter, type\n  /*, values...*/\n  ) {\n    var handlers = getHandlers(emitter, type);\n\n    if (!handlers.length) {\n      return;\n    }\n\n    var args = Array.prototype.slice.call(arguments, 2);\n\n    for (var i = 0; i < handlers.length; ++i) {\n      handlers[i].apply(null, args);\n    }\n  } // The DOM events that CodeMirror handles can be overridden by\n  // registering a (non-DOM) handler on the editor for the event name,\n  // and preventDefault-ing the event in that handler.\n\n\n  function signalDOMEvent(cm, e, override) {\n    if (typeof e == \"string\") {\n      e = {\n        type: e,\n        preventDefault: function () {\n          this.defaultPrevented = true;\n        }\n      };\n    }\n\n    signal(cm, override || e.type, cm, e);\n    return e_defaultPrevented(e) || e.codemirrorIgnore;\n  }\n\n  function signalCursorActivity(cm) {\n    var arr = cm._handlers && cm._handlers.cursorActivity;\n\n    if (!arr) {\n      return;\n    }\n\n    var set = cm.curOp.cursorActivityHandlers || (cm.curOp.cursorActivityHandlers = []);\n\n    for (var i = 0; i < arr.length; ++i) {\n      if (indexOf(set, arr[i]) == -1) {\n        set.push(arr[i]);\n      }\n    }\n  }\n\n  function hasHandler(emitter, type) {\n    return getHandlers(emitter, type).length > 0;\n  } // Add on and off methods to a constructor's prototype, to make\n  // registering events on such objects more convenient.\n\n\n  function eventMixin(ctor) {\n    ctor.prototype.on = function (type, f) {\n      on(this, type, f);\n    };\n\n    ctor.prototype.off = function (type, f) {\n      off(this, type, f);\n    };\n  } // Due to the fact that we still support jurassic IE versions, some\n  // compatibility wrappers are needed.\n\n\n  function e_preventDefault(e) {\n    if (e.preventDefault) {\n      e.preventDefault();\n    } else {\n      e.returnValue = false;\n    }\n  }\n\n  function e_stopPropagation(e) {\n    if (e.stopPropagation) {\n      e.stopPropagation();\n    } else {\n      e.cancelBubble = true;\n    }\n  }\n\n  function e_defaultPrevented(e) {\n    return e.defaultPrevented != null ? e.defaultPrevented : e.returnValue == false;\n  }\n\n  function e_stop(e) {\n    e_preventDefault(e);\n    e_stopPropagation(e);\n  }\n\n  function e_target(e) {\n    return e.target || e.srcElement;\n  }\n\n  function e_button(e) {\n    var b = e.which;\n\n    if (b == null) {\n      if (e.button & 1) {\n        b = 1;\n      } else if (e.button & 2) {\n        b = 3;\n      } else if (e.button & 4) {\n        b = 2;\n      }\n    }\n\n    if (mac && e.ctrlKey && b == 1) {\n      b = 3;\n    }\n\n    return b;\n  } // Detect drag-and-drop\n\n\n  var dragAndDrop = function () {\n    // There is *some* kind of drag-and-drop support in IE6-8, but I\n    // couldn't get it to work yet.\n    if (ie && ie_version < 9) {\n      return false;\n    }\n\n    var div = elt('div');\n    return \"draggable\" in div || \"dragDrop\" in div;\n  }();\n\n  var zwspSupported;\n\n  function zeroWidthElement(measure) {\n    if (zwspSupported == null) {\n      var test = elt(\"span\", \"\\u200b\");\n      removeChildrenAndAdd(measure, elt(\"span\", [test, document.createTextNode(\"x\")]));\n\n      if (measure.firstChild.offsetHeight != 0) {\n        zwspSupported = test.offsetWidth <= 1 && test.offsetHeight > 2 && !(ie && ie_version < 8);\n      }\n    }\n\n    var node = zwspSupported ? elt(\"span\", \"\\u200b\") : elt(\"span\", \"\\u00a0\", null, \"display: inline-block; width: 1px; margin-right: -1px\");\n    node.setAttribute(\"cm-text\", \"\");\n    return node;\n  } // Feature-detect IE's crummy client rect reporting for bidi text\n\n\n  var badBidiRects;\n\n  function hasBadBidiRects(measure) {\n    if (badBidiRects != null) {\n      return badBidiRects;\n    }\n\n    var txt = removeChildrenAndAdd(measure, document.createTextNode(\"A\\u062eA\"));\n    var r0 = range(txt, 0, 1).getBoundingClientRect();\n    var r1 = range(txt, 1, 2).getBoundingClientRect();\n    removeChildren(measure);\n\n    if (!r0 || r0.left == r0.right) {\n      return false;\n    } // Safari returns null in some cases (#2780)\n\n\n    return badBidiRects = r1.right - r0.right < 3;\n  } // See if \"\".split is the broken IE version, if so, provide an\n  // alternative way to split lines.\n\n\n  var splitLinesAuto = \"\\n\\nb\".split(/\\n/).length != 3 ? function (string) {\n    var pos = 0,\n        result = [],\n        l = string.length;\n\n    while (pos <= l) {\n      var nl = string.indexOf(\"\\n\", pos);\n\n      if (nl == -1) {\n        nl = string.length;\n      }\n\n      var line = string.slice(pos, string.charAt(nl - 1) == \"\\r\" ? nl - 1 : nl);\n      var rt = line.indexOf(\"\\r\");\n\n      if (rt != -1) {\n        result.push(line.slice(0, rt));\n        pos += rt + 1;\n      } else {\n        result.push(line);\n        pos = nl + 1;\n      }\n    }\n\n    return result;\n  } : function (string) {\n    return string.split(/\\r\\n?|\\n/);\n  };\n  var hasSelection = window.getSelection ? function (te) {\n    try {\n      return te.selectionStart != te.selectionEnd;\n    } catch (e) {\n      return false;\n    }\n  } : function (te) {\n    var range;\n\n    try {\n      range = te.ownerDocument.selection.createRange();\n    } catch (e) {}\n\n    if (!range || range.parentElement() != te) {\n      return false;\n    }\n\n    return range.compareEndPoints(\"StartToEnd\", range) != 0;\n  };\n\n  var hasCopyEvent = function () {\n    var e = elt(\"div\");\n\n    if (\"oncopy\" in e) {\n      return true;\n    }\n\n    e.setAttribute(\"oncopy\", \"return;\");\n    return typeof e.oncopy == \"function\";\n  }();\n\n  var badZoomedRects = null;\n\n  function hasBadZoomedRects(measure) {\n    if (badZoomedRects != null) {\n      return badZoomedRects;\n    }\n\n    var node = removeChildrenAndAdd(measure, elt(\"span\", \"x\"));\n    var normal = node.getBoundingClientRect();\n    var fromRange = range(node, 0, 1).getBoundingClientRect();\n    return badZoomedRects = Math.abs(normal.left - fromRange.left) > 1;\n  } // Known modes, by name and by MIME\n\n\n  var modes = {},\n      mimeModes = {}; // Extra arguments are stored as the mode's dependencies, which is\n  // used by (legacy) mechanisms like loadmode.js to automatically\n  // load a mode. (Preferred mechanism is the require/define calls.)\n\n  function defineMode(name, mode) {\n    if (arguments.length > 2) {\n      mode.dependencies = Array.prototype.slice.call(arguments, 2);\n    }\n\n    modes[name] = mode;\n  }\n\n  function defineMIME(mime, spec) {\n    mimeModes[mime] = spec;\n  } // Given a MIME type, a {name, ...options} config object, or a name\n  // string, return a mode config object.\n\n\n  function resolveMode(spec) {\n    if (typeof spec == \"string\" && mimeModes.hasOwnProperty(spec)) {\n      spec = mimeModes[spec];\n    } else if (spec && typeof spec.name == \"string\" && mimeModes.hasOwnProperty(spec.name)) {\n      var found = mimeModes[spec.name];\n\n      if (typeof found == \"string\") {\n        found = {\n          name: found\n        };\n      }\n\n      spec = createObj(found, spec);\n      spec.name = found.name;\n    } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+xml$/.test(spec)) {\n      return resolveMode(\"application/xml\");\n    } else if (typeof spec == \"string\" && /^[\\w\\-]+\\/[\\w\\-]+\\+json$/.test(spec)) {\n      return resolveMode(\"application/json\");\n    }\n\n    if (typeof spec == \"string\") {\n      return {\n        name: spec\n      };\n    } else {\n      return spec || {\n        name: \"null\"\n      };\n    }\n  } // Given a mode spec (anything that resolveMode accepts), find and\n  // initialize an actual mode object.\n\n\n  function getMode(options, spec) {\n    spec = resolveMode(spec);\n    var mfactory = modes[spec.name];\n\n    if (!mfactory) {\n      return getMode(options, \"text/plain\");\n    }\n\n    var modeObj = mfactory(options, spec);\n\n    if (modeExtensions.hasOwnProperty(spec.name)) {\n      var exts = modeExtensions[spec.name];\n\n      for (var prop in exts) {\n        if (!exts.hasOwnProperty(prop)) {\n          continue;\n        }\n\n        if (modeObj.hasOwnProperty(prop)) {\n          modeObj[\"_\" + prop] = modeObj[prop];\n        }\n\n        modeObj[prop] = exts[prop];\n      }\n    }\n\n    modeObj.name = spec.name;\n\n    if (spec.helperType) {\n      modeObj.helperType = spec.helperType;\n    }\n\n    if (spec.modeProps) {\n      for (var prop$1 in spec.modeProps) {\n        modeObj[prop$1] = spec.modeProps[prop$1];\n      }\n    }\n\n    return modeObj;\n  } // This can be used to attach properties to mode objects from\n  // outside the actual mode definition.\n\n\n  var modeExtensions = {};\n\n  function extendMode(mode, properties) {\n    var exts = modeExtensions.hasOwnProperty(mode) ? modeExtensions[mode] : modeExtensions[mode] = {};\n    copyObj(properties, exts);\n  }\n\n  function copyState(mode, state) {\n    if (state === true) {\n      return state;\n    }\n\n    if (mode.copyState) {\n      return mode.copyState(state);\n    }\n\n    var nstate = {};\n\n    for (var n in state) {\n      var val = state[n];\n\n      if (val instanceof Array) {\n        val = val.concat([]);\n      }\n\n      nstate[n] = val;\n    }\n\n    return nstate;\n  } // Given a mode and a state (for that mode), find the inner mode and\n  // state at the position that the state refers to.\n\n\n  function innerMode(mode, state) {\n    var info;\n\n    while (mode.innerMode) {\n      info = mode.innerMode(state);\n\n      if (!info || info.mode == mode) {\n        break;\n      }\n\n      state = info.state;\n      mode = info.mode;\n    }\n\n    return info || {\n      mode: mode,\n      state: state\n    };\n  }\n\n  function startState(mode, a1, a2) {\n    return mode.startState ? mode.startState(a1, a2) : true;\n  } // STRING STREAM\n  // Fed to the mode parsers, provides helper functions to make\n  // parsers more succinct.\n\n\n  var StringStream = function (string, tabSize, lineOracle) {\n    this.pos = this.start = 0;\n    this.string = string;\n    this.tabSize = tabSize || 8;\n    this.lastColumnPos = this.lastColumnValue = 0;\n    this.lineStart = 0;\n    this.lineOracle = lineOracle;\n  };\n\n  StringStream.prototype.eol = function () {\n    return this.pos >= this.string.length;\n  };\n\n  StringStream.prototype.sol = function () {\n    return this.pos == this.lineStart;\n  };\n\n  StringStream.prototype.peek = function () {\n    return this.string.charAt(this.pos) || undefined;\n  };\n\n  StringStream.prototype.next = function () {\n    if (this.pos < this.string.length) {\n      return this.string.charAt(this.pos++);\n    }\n  };\n\n  StringStream.prototype.eat = function (match) {\n    var ch = this.string.charAt(this.pos);\n    var ok;\n\n    if (typeof match == \"string\") {\n      ok = ch == match;\n    } else {\n      ok = ch && (match.test ? match.test(ch) : match(ch));\n    }\n\n    if (ok) {\n      ++this.pos;\n      return ch;\n    }\n  };\n\n  StringStream.prototype.eatWhile = function (match) {\n    var start = this.pos;\n\n    while (this.eat(match)) {}\n\n    return this.pos > start;\n  };\n\n  StringStream.prototype.eatSpace = function () {\n    var start = this.pos;\n\n    while (/[\\s\\u00a0]/.test(this.string.charAt(this.pos))) {\n      ++this.pos;\n    }\n\n    return this.pos > start;\n  };\n\n  StringStream.prototype.skipToEnd = function () {\n    this.pos = this.string.length;\n  };\n\n  StringStream.prototype.skipTo = function (ch) {\n    var found = this.string.indexOf(ch, this.pos);\n\n    if (found > -1) {\n      this.pos = found;\n      return true;\n    }\n  };\n\n  StringStream.prototype.backUp = function (n) {\n    this.pos -= n;\n  };\n\n  StringStream.prototype.column = function () {\n    if (this.lastColumnPos < this.start) {\n      this.lastColumnValue = countColumn(this.string, this.start, this.tabSize, this.lastColumnPos, this.lastColumnValue);\n      this.lastColumnPos = this.start;\n    }\n\n    return this.lastColumnValue - (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0);\n  };\n\n  StringStream.prototype.indentation = function () {\n    return countColumn(this.string, null, this.tabSize) - (this.lineStart ? countColumn(this.string, this.lineStart, this.tabSize) : 0);\n  };\n\n  StringStream.prototype.match = function (pattern, consume, caseInsensitive) {\n    if (typeof pattern == \"string\") {\n      var cased = function (str) {\n        return caseInsensitive ? str.toLowerCase() : str;\n      };\n\n      var substr = this.string.substr(this.pos, pattern.length);\n\n      if (cased(substr) == cased(pattern)) {\n        if (consume !== false) {\n          this.pos += pattern.length;\n        }\n\n        return true;\n      }\n    } else {\n      var match = this.string.slice(this.pos).match(pattern);\n\n      if (match && match.index > 0) {\n        return null;\n      }\n\n      if (match && consume !== false) {\n        this.pos += match[0].length;\n      }\n\n      return match;\n    }\n  };\n\n  StringStream.prototype.current = function () {\n    return this.string.slice(this.start, this.pos);\n  };\n\n  StringStream.prototype.hideFirstChars = function (n, inner) {\n    this.lineStart += n;\n\n    try {\n      return inner();\n    } finally {\n      this.lineStart -= n;\n    }\n  };\n\n  StringStream.prototype.lookAhead = function (n) {\n    var oracle = this.lineOracle;\n    return oracle && oracle.lookAhead(n);\n  };\n\n  StringStream.prototype.baseToken = function () {\n    var oracle = this.lineOracle;\n    return oracle && oracle.baseToken(this.pos);\n  }; // Find the line object corresponding to the given line number.\n\n\n  function getLine(doc, n) {\n    n -= doc.first;\n\n    if (n < 0 || n >= doc.size) {\n      throw new Error(\"There is no line \" + (n + doc.first) + \" in the document.\");\n    }\n\n    var chunk = doc;\n\n    while (!chunk.lines) {\n      for (var i = 0;; ++i) {\n        var child = chunk.children[i],\n            sz = child.chunkSize();\n\n        if (n < sz) {\n          chunk = child;\n          break;\n        }\n\n        n -= sz;\n      }\n    }\n\n    return chunk.lines[n];\n  } // Get the part of a document between two positions, as an array of\n  // strings.\n\n\n  function getBetween(doc, start, end) {\n    var out = [],\n        n = start.line;\n    doc.iter(start.line, end.line + 1, function (line) {\n      var text = line.text;\n\n      if (n == end.line) {\n        text = text.slice(0, end.ch);\n      }\n\n      if (n == start.line) {\n        text = text.slice(start.ch);\n      }\n\n      out.push(text);\n      ++n;\n    });\n    return out;\n  } // Get the lines between from and to, as array of strings.\n\n\n  function getLines(doc, from, to) {\n    var out = [];\n    doc.iter(from, to, function (line) {\n      out.push(line.text);\n    }); // iter aborts when callback returns truthy value\n\n    return out;\n  } // Update the height of a line, propagating the height change\n  // upwards to parent nodes.\n\n\n  function updateLineHeight(line, height) {\n    var diff = height - line.height;\n\n    if (diff) {\n      for (var n = line; n; n = n.parent) {\n        n.height += diff;\n      }\n    }\n  } // Given a line object, find its line number by walking up through\n  // its parent links.\n\n\n  function lineNo(line) {\n    if (line.parent == null) {\n      return null;\n    }\n\n    var cur = line.parent,\n        no = indexOf(cur.lines, line);\n\n    for (var chunk = cur.parent; chunk; cur = chunk, chunk = chunk.parent) {\n      for (var i = 0;; ++i) {\n        if (chunk.children[i] == cur) {\n          break;\n        }\n\n        no += chunk.children[i].chunkSize();\n      }\n    }\n\n    return no + cur.first;\n  } // Find the line at the given vertical position, using the height\n  // information in the document tree.\n\n\n  function lineAtHeight(chunk, h) {\n    var n = chunk.first;\n\n    outer: do {\n      for (var i$1 = 0; i$1 < chunk.children.length; ++i$1) {\n        var child = chunk.children[i$1],\n            ch = child.height;\n\n        if (h < ch) {\n          chunk = child;\n          continue outer;\n        }\n\n        h -= ch;\n        n += child.chunkSize();\n      }\n\n      return n;\n    } while (!chunk.lines);\n\n    var i = 0;\n\n    for (; i < chunk.lines.length; ++i) {\n      var line = chunk.lines[i],\n          lh = line.height;\n\n      if (h < lh) {\n        break;\n      }\n\n      h -= lh;\n    }\n\n    return n + i;\n  }\n\n  function isLine(doc, l) {\n    return l >= doc.first && l < doc.first + doc.size;\n  }\n\n  function lineNumberFor(options, i) {\n    return String(options.lineNumberFormatter(i + options.firstLineNumber));\n  } // A Pos instance represents a position within the text.\n\n\n  function Pos(line, ch, sticky) {\n    if (sticky === void 0) sticky = null;\n\n    if (!(this instanceof Pos)) {\n      return new Pos(line, ch, sticky);\n    }\n\n    this.line = line;\n    this.ch = ch;\n    this.sticky = sticky;\n  } // Compare two positions, return 0 if they are the same, a negative\n  // number when a is less, and a positive number otherwise.\n\n\n  function cmp(a, b) {\n    return a.line - b.line || a.ch - b.ch;\n  }\n\n  function equalCursorPos(a, b) {\n    return a.sticky == b.sticky && cmp(a, b) == 0;\n  }\n\n  function copyPos(x) {\n    return Pos(x.line, x.ch);\n  }\n\n  function maxPos(a, b) {\n    return cmp(a, b) < 0 ? b : a;\n  }\n\n  function minPos(a, b) {\n    return cmp(a, b) < 0 ? a : b;\n  } // Most of the external API clips given positions to make sure they\n  // actually exist within the document.\n\n\n  function clipLine(doc, n) {\n    return Math.max(doc.first, Math.min(n, doc.first + doc.size - 1));\n  }\n\n  function clipPos(doc, pos) {\n    if (pos.line < doc.first) {\n      return Pos(doc.first, 0);\n    }\n\n    var last = doc.first + doc.size - 1;\n\n    if (pos.line > last) {\n      return Pos(last, getLine(doc, last).text.length);\n    }\n\n    return clipToLen(pos, getLine(doc, pos.line).text.length);\n  }\n\n  function clipToLen(pos, linelen) {\n    var ch = pos.ch;\n\n    if (ch == null || ch > linelen) {\n      return Pos(pos.line, linelen);\n    } else if (ch < 0) {\n      return Pos(pos.line, 0);\n    } else {\n      return pos;\n    }\n  }\n\n  function clipPosArray(doc, array) {\n    var out = [];\n\n    for (var i = 0; i < array.length; i++) {\n      out[i] = clipPos(doc, array[i]);\n    }\n\n    return out;\n  }\n\n  var SavedContext = function (state, lookAhead) {\n    this.state = state;\n    this.lookAhead = lookAhead;\n  };\n\n  var Context = function (doc, state, line, lookAhead) {\n    this.state = state;\n    this.doc = doc;\n    this.line = line;\n    this.maxLookAhead = lookAhead || 0;\n    this.baseTokens = null;\n    this.baseTokenPos = 1;\n  };\n\n  Context.prototype.lookAhead = function (n) {\n    var line = this.doc.getLine(this.line + n);\n\n    if (line != null && n > this.maxLookAhead) {\n      this.maxLookAhead = n;\n    }\n\n    return line;\n  };\n\n  Context.prototype.baseToken = function (n) {\n    if (!this.baseTokens) {\n      return null;\n    }\n\n    while (this.baseTokens[this.baseTokenPos] <= n) {\n      this.baseTokenPos += 2;\n    }\n\n    var type = this.baseTokens[this.baseTokenPos + 1];\n    return {\n      type: type && type.replace(/( |^)overlay .*/, \"\"),\n      size: this.baseTokens[this.baseTokenPos] - n\n    };\n  };\n\n  Context.prototype.nextLine = function () {\n    this.line++;\n\n    if (this.maxLookAhead > 0) {\n      this.maxLookAhead--;\n    }\n  };\n\n  Context.fromSaved = function (doc, saved, line) {\n    if (saved instanceof SavedContext) {\n      return new Context(doc, copyState(doc.mode, saved.state), line, saved.lookAhead);\n    } else {\n      return new Context(doc, copyState(doc.mode, saved), line);\n    }\n  };\n\n  Context.prototype.save = function (copy) {\n    var state = copy !== false ? copyState(this.doc.mode, this.state) : this.state;\n    return this.maxLookAhead > 0 ? new SavedContext(state, this.maxLookAhead) : state;\n  }; // Compute a style array (an array starting with a mode generation\n  // -- for invalidation -- followed by pairs of end positions and\n  // style strings), which is used to highlight the tokens on the\n  // line.\n\n\n  function highlightLine(cm, line, context, forceToEnd) {\n    // A styles array always starts with a number identifying the\n    // mode/overlays that it is based on (for easy invalidation).\n    var st = [cm.state.modeGen],\n        lineClasses = {}; // Compute the base array of styles\n\n    runMode(cm, line.text, cm.doc.mode, context, function (end, style) {\n      return st.push(end, style);\n    }, lineClasses, forceToEnd);\n    var state = context.state; // Run overlays, adjust style array.\n\n    var loop = function (o) {\n      context.baseTokens = st;\n      var overlay = cm.state.overlays[o],\n          i = 1,\n          at = 0;\n      context.state = true;\n      runMode(cm, line.text, overlay.mode, context, function (end, style) {\n        var start = i; // Ensure there's a token end at the current position, and that i points at it\n\n        while (at < end) {\n          var i_end = st[i];\n\n          if (i_end > end) {\n            st.splice(i, 1, end, st[i + 1], i_end);\n          }\n\n          i += 2;\n          at = Math.min(end, i_end);\n        }\n\n        if (!style) {\n          return;\n        }\n\n        if (overlay.opaque) {\n          st.splice(start, i - start, end, \"overlay \" + style);\n          i = start + 2;\n        } else {\n          for (; start < i; start += 2) {\n            var cur = st[start + 1];\n            st[start + 1] = (cur ? cur + \" \" : \"\") + \"overlay \" + style;\n          }\n        }\n      }, lineClasses);\n      context.state = state;\n      context.baseTokens = null;\n      context.baseTokenPos = 1;\n    };\n\n    for (var o = 0; o < cm.state.overlays.length; ++o) loop(o);\n\n    return {\n      styles: st,\n      classes: lineClasses.bgClass || lineClasses.textClass ? lineClasses : null\n    };\n  }\n\n  function getLineStyles(cm, line, updateFrontier) {\n    if (!line.styles || line.styles[0] != cm.state.modeGen) {\n      var context = getContextBefore(cm, lineNo(line));\n      var resetState = line.text.length > cm.options.maxHighlightLength && copyState(cm.doc.mode, context.state);\n      var result = highlightLine(cm, line, context);\n\n      if (resetState) {\n        context.state = resetState;\n      }\n\n      line.stateAfter = context.save(!resetState);\n      line.styles = result.styles;\n\n      if (result.classes) {\n        line.styleClasses = result.classes;\n      } else if (line.styleClasses) {\n        line.styleClasses = null;\n      }\n\n      if (updateFrontier === cm.doc.highlightFrontier) {\n        cm.doc.modeFrontier = Math.max(cm.doc.modeFrontier, ++cm.doc.highlightFrontier);\n      }\n    }\n\n    return line.styles;\n  }\n\n  function getContextBefore(cm, n, precise) {\n    var doc = cm.doc,\n        display = cm.display;\n\n    if (!doc.mode.startState) {\n      return new Context(doc, true, n);\n    }\n\n    var start = findStartLine(cm, n, precise);\n    var saved = start > doc.first && getLine(doc, start - 1).stateAfter;\n    var context = saved ? Context.fromSaved(doc, saved, start) : new Context(doc, startState(doc.mode), start);\n    doc.iter(start, n, function (line) {\n      processLine(cm, line.text, context);\n      var pos = context.line;\n      line.stateAfter = pos == n - 1 || pos % 5 == 0 || pos >= display.viewFrom && pos < display.viewTo ? context.save() : null;\n      context.nextLine();\n    });\n\n    if (precise) {\n      doc.modeFrontier = context.line;\n    }\n\n    return context;\n  } // Lightweight form of highlight -- proceed over this line and\n  // update state, but don't save a style array. Used for lines that\n  // aren't currently visible.\n\n\n  function processLine(cm, text, context, startAt) {\n    var mode = cm.doc.mode;\n    var stream = new StringStream(text, cm.options.tabSize, context);\n    stream.start = stream.pos = startAt || 0;\n\n    if (text == \"\") {\n      callBlankLine(mode, context.state);\n    }\n\n    while (!stream.eol()) {\n      readToken(mode, stream, context.state);\n      stream.start = stream.pos;\n    }\n  }\n\n  function callBlankLine(mode, state) {\n    if (mode.blankLine) {\n      return mode.blankLine(state);\n    }\n\n    if (!mode.innerMode) {\n      return;\n    }\n\n    var inner = innerMode(mode, state);\n\n    if (inner.mode.blankLine) {\n      return inner.mode.blankLine(inner.state);\n    }\n  }\n\n  function readToken(mode, stream, state, inner) {\n    for (var i = 0; i < 10; i++) {\n      if (inner) {\n        inner[0] = innerMode(mode, state).mode;\n      }\n\n      var style = mode.token(stream, state);\n\n      if (stream.pos > stream.start) {\n        return style;\n      }\n    }\n\n    throw new Error(\"Mode \" + mode.name + \" failed to advance stream.\");\n  }\n\n  var Token = function (stream, type, state) {\n    this.start = stream.start;\n    this.end = stream.pos;\n    this.string = stream.current();\n    this.type = type || null;\n    this.state = state;\n  }; // Utility for getTokenAt and getLineTokens\n\n\n  function takeToken(cm, pos, precise, asArray) {\n    var doc = cm.doc,\n        mode = doc.mode,\n        style;\n    pos = clipPos(doc, pos);\n    var line = getLine(doc, pos.line),\n        context = getContextBefore(cm, pos.line, precise);\n    var stream = new StringStream(line.text, cm.options.tabSize, context),\n        tokens;\n\n    if (asArray) {\n      tokens = [];\n    }\n\n    while ((asArray || stream.pos < pos.ch) && !stream.eol()) {\n      stream.start = stream.pos;\n      style = readToken(mode, stream, context.state);\n\n      if (asArray) {\n        tokens.push(new Token(stream, style, copyState(doc.mode, context.state)));\n      }\n    }\n\n    return asArray ? tokens : new Token(stream, style, context.state);\n  }\n\n  function extractLineClasses(type, output) {\n    if (type) {\n      for (;;) {\n        var lineClass = type.match(/(?:^|\\s+)line-(background-)?(\\S+)/);\n\n        if (!lineClass) {\n          break;\n        }\n\n        type = type.slice(0, lineClass.index) + type.slice(lineClass.index + lineClass[0].length);\n        var prop = lineClass[1] ? \"bgClass\" : \"textClass\";\n\n        if (output[prop] == null) {\n          output[prop] = lineClass[2];\n        } else if (!new RegExp(\"(?:^|\\s)\" + lineClass[2] + \"(?:$|\\s)\").test(output[prop])) {\n          output[prop] += \" \" + lineClass[2];\n        }\n      }\n    }\n\n    return type;\n  } // Run the given mode's parser over a line, calling f for each token.\n\n\n  function runMode(cm, text, mode, context, f, lineClasses, forceToEnd) {\n    var flattenSpans = mode.flattenSpans;\n\n    if (flattenSpans == null) {\n      flattenSpans = cm.options.flattenSpans;\n    }\n\n    var curStart = 0,\n        curStyle = null;\n    var stream = new StringStream(text, cm.options.tabSize, context),\n        style;\n    var inner = cm.options.addModeClass && [null];\n\n    if (text == \"\") {\n      extractLineClasses(callBlankLine(mode, context.state), lineClasses);\n    }\n\n    while (!stream.eol()) {\n      if (stream.pos > cm.options.maxHighlightLength) {\n        flattenSpans = false;\n\n        if (forceToEnd) {\n          processLine(cm, text, context, stream.pos);\n        }\n\n        stream.pos = text.length;\n        style = null;\n      } else {\n        style = extractLineClasses(readToken(mode, stream, context.state, inner), lineClasses);\n      }\n\n      if (inner) {\n        var mName = inner[0].name;\n\n        if (mName) {\n          style = \"m-\" + (style ? mName + \" \" + style : mName);\n        }\n      }\n\n      if (!flattenSpans || curStyle != style) {\n        while (curStart < stream.start) {\n          curStart = Math.min(stream.start, curStart + 5000);\n          f(curStart, curStyle);\n        }\n\n        curStyle = style;\n      }\n\n      stream.start = stream.pos;\n    }\n\n    while (curStart < stream.pos) {\n      // Webkit seems to refuse to render text nodes longer than 57444\n      // characters, and returns inaccurate measurements in nodes\n      // starting around 5000 chars.\n      var pos = Math.min(stream.pos, curStart + 5000);\n      f(pos, curStyle);\n      curStart = pos;\n    }\n  } // Finds the line to start with when starting a parse. Tries to\n  // find a line with a stateAfter, so that it can start with a\n  // valid state. If that fails, it returns the line with the\n  // smallest indentation, which tends to need the least context to\n  // parse correctly.\n\n\n  function findStartLine(cm, n, precise) {\n    var minindent,\n        minline,\n        doc = cm.doc;\n    var lim = precise ? -1 : n - (cm.doc.mode.innerMode ? 1000 : 100);\n\n    for (var search = n; search > lim; --search) {\n      if (search <= doc.first) {\n        return doc.first;\n      }\n\n      var line = getLine(doc, search - 1),\n          after = line.stateAfter;\n\n      if (after && (!precise || search + (after instanceof SavedContext ? after.lookAhead : 0) <= doc.modeFrontier)) {\n        return search;\n      }\n\n      var indented = countColumn(line.text, null, cm.options.tabSize);\n\n      if (minline == null || minindent > indented) {\n        minline = search - 1;\n        minindent = indented;\n      }\n    }\n\n    return minline;\n  }\n\n  function retreatFrontier(doc, n) {\n    doc.modeFrontier = Math.min(doc.modeFrontier, n);\n\n    if (doc.highlightFrontier < n - 10) {\n      return;\n    }\n\n    var start = doc.first;\n\n    for (var line = n - 1; line > start; line--) {\n      var saved = getLine(doc, line).stateAfter; // change is on 3\n      // state on line 1 looked ahead 2 -- so saw 3\n      // test 1 + 2 < 3 should cover this\n\n      if (saved && (!(saved instanceof SavedContext) || line + saved.lookAhead < n)) {\n        start = line + 1;\n        break;\n      }\n    }\n\n    doc.highlightFrontier = Math.min(doc.highlightFrontier, start);\n  } // Optimize some code when these features are not used.\n\n\n  var sawReadOnlySpans = false,\n      sawCollapsedSpans = false;\n\n  function seeReadOnlySpans() {\n    sawReadOnlySpans = true;\n  }\n\n  function seeCollapsedSpans() {\n    sawCollapsedSpans = true;\n  } // TEXTMARKER SPANS\n\n\n  function MarkedSpan(marker, from, to) {\n    this.marker = marker;\n    this.from = from;\n    this.to = to;\n  } // Search an array of spans for a span matching the given marker.\n\n\n  function getMarkedSpanFor(spans, marker) {\n    if (spans) {\n      for (var i = 0; i < spans.length; ++i) {\n        var span = spans[i];\n\n        if (span.marker == marker) {\n          return span;\n        }\n      }\n    }\n  } // Remove a span from an array, returning undefined if no spans are\n  // left (we don't store arrays for lines without spans).\n\n\n  function removeMarkedSpan(spans, span) {\n    var r;\n\n    for (var i = 0; i < spans.length; ++i) {\n      if (spans[i] != span) {\n        (r || (r = [])).push(spans[i]);\n      }\n    }\n\n    return r;\n  } // Add a span to a line.\n\n\n  function addMarkedSpan(line, span) {\n    line.markedSpans = line.markedSpans ? line.markedSpans.concat([span]) : [span];\n    span.marker.attachLine(line);\n  } // Used for the algorithm that adjusts markers for a change in the\n  // document. These functions cut an array of spans at a given\n  // character position, returning an array of remaining chunks (or\n  // undefined if nothing remains).\n\n\n  function markedSpansBefore(old, startCh, isInsert) {\n    var nw;\n\n    if (old) {\n      for (var i = 0; i < old.length; ++i) {\n        var span = old[i],\n            marker = span.marker;\n        var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= startCh : span.from < startCh);\n\n        if (startsBefore || span.from == startCh && marker.type == \"bookmark\" && (!isInsert || !span.marker.insertLeft)) {\n          var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= startCh : span.to > startCh);\n          (nw || (nw = [])).push(new MarkedSpan(marker, span.from, endsAfter ? null : span.to));\n        }\n      }\n    }\n\n    return nw;\n  }\n\n  function markedSpansAfter(old, endCh, isInsert) {\n    var nw;\n\n    if (old) {\n      for (var i = 0; i < old.length; ++i) {\n        var span = old[i],\n            marker = span.marker;\n        var endsAfter = span.to == null || (marker.inclusiveRight ? span.to >= endCh : span.to > endCh);\n\n        if (endsAfter || span.from == endCh && marker.type == \"bookmark\" && (!isInsert || span.marker.insertLeft)) {\n          var startsBefore = span.from == null || (marker.inclusiveLeft ? span.from <= endCh : span.from < endCh);\n          (nw || (nw = [])).push(new MarkedSpan(marker, startsBefore ? null : span.from - endCh, span.to == null ? null : span.to - endCh));\n        }\n      }\n    }\n\n    return nw;\n  } // Given a change object, compute the new set of marker spans that\n  // cover the line in which the change took place. Removes spans\n  // entirely within the change, reconnects spans belonging to the\n  // same marker that appear on both sides of the change, and cuts off\n  // spans partially within the change. Returns an array of span\n  // arrays with one element for each line in (after) the change.\n\n\n  function stretchSpansOverChange(doc, change) {\n    if (change.full) {\n      return null;\n    }\n\n    var oldFirst = isLine(doc, change.from.line) && getLine(doc, change.from.line).markedSpans;\n    var oldLast = isLine(doc, change.to.line) && getLine(doc, change.to.line).markedSpans;\n\n    if (!oldFirst && !oldLast) {\n      return null;\n    }\n\n    var startCh = change.from.ch,\n        endCh = change.to.ch,\n        isInsert = cmp(change.from, change.to) == 0; // Get the spans that 'stick out' on both sides\n\n    var first = markedSpansBefore(oldFirst, startCh, isInsert);\n    var last = markedSpansAfter(oldLast, endCh, isInsert); // Next, merge those two ends\n\n    var sameLine = change.text.length == 1,\n        offset = lst(change.text).length + (sameLine ? startCh : 0);\n\n    if (first) {\n      // Fix up .to properties of first\n      for (var i = 0; i < first.length; ++i) {\n        var span = first[i];\n\n        if (span.to == null) {\n          var found = getMarkedSpanFor(last, span.marker);\n\n          if (!found) {\n            span.to = startCh;\n          } else if (sameLine) {\n            span.to = found.to == null ? null : found.to + offset;\n          }\n        }\n      }\n    }\n\n    if (last) {\n      // Fix up .from in last (or move them into first in case of sameLine)\n      for (var i$1 = 0; i$1 < last.length; ++i$1) {\n        var span$1 = last[i$1];\n\n        if (span$1.to != null) {\n          span$1.to += offset;\n        }\n\n        if (span$1.from == null) {\n          var found$1 = getMarkedSpanFor(first, span$1.marker);\n\n          if (!found$1) {\n            span$1.from = offset;\n\n            if (sameLine) {\n              (first || (first = [])).push(span$1);\n            }\n          }\n        } else {\n          span$1.from += offset;\n\n          if (sameLine) {\n            (first || (first = [])).push(span$1);\n          }\n        }\n      }\n    } // Make sure we didn't create any zero-length spans\n\n\n    if (first) {\n      first = clearEmptySpans(first);\n    }\n\n    if (last && last != first) {\n      last = clearEmptySpans(last);\n    }\n\n    var newMarkers = [first];\n\n    if (!sameLine) {\n      // Fill gap with whole-line-spans\n      var gap = change.text.length - 2,\n          gapMarkers;\n\n      if (gap > 0 && first) {\n        for (var i$2 = 0; i$2 < first.length; ++i$2) {\n          if (first[i$2].to == null) {\n            (gapMarkers || (gapMarkers = [])).push(new MarkedSpan(first[i$2].marker, null, null));\n          }\n        }\n      }\n\n      for (var i$3 = 0; i$3 < gap; ++i$3) {\n        newMarkers.push(gapMarkers);\n      }\n\n      newMarkers.push(last);\n    }\n\n    return newMarkers;\n  } // Remove spans that are empty and don't have a clearWhenEmpty\n  // option of false.\n\n\n  function clearEmptySpans(spans) {\n    for (var i = 0; i < spans.length; ++i) {\n      var span = spans[i];\n\n      if (span.from != null && span.from == span.to && span.marker.clearWhenEmpty !== false) {\n        spans.splice(i--, 1);\n      }\n    }\n\n    if (!spans.length) {\n      return null;\n    }\n\n    return spans;\n  } // Used to 'clip' out readOnly ranges when making a change.\n\n\n  function removeReadOnlyRanges(doc, from, to) {\n    var markers = null;\n    doc.iter(from.line, to.line + 1, function (line) {\n      if (line.markedSpans) {\n        for (var i = 0; i < line.markedSpans.length; ++i) {\n          var mark = line.markedSpans[i].marker;\n\n          if (mark.readOnly && (!markers || indexOf(markers, mark) == -1)) {\n            (markers || (markers = [])).push(mark);\n          }\n        }\n      }\n    });\n\n    if (!markers) {\n      return null;\n    }\n\n    var parts = [{\n      from: from,\n      to: to\n    }];\n\n    for (var i = 0; i < markers.length; ++i) {\n      var mk = markers[i],\n          m = mk.find(0);\n\n      for (var j = 0; j < parts.length; ++j) {\n        var p = parts[j];\n\n        if (cmp(p.to, m.from) < 0 || cmp(p.from, m.to) > 0) {\n          continue;\n        }\n\n        var newParts = [j, 1],\n            dfrom = cmp(p.from, m.from),\n            dto = cmp(p.to, m.to);\n\n        if (dfrom < 0 || !mk.inclusiveLeft && !dfrom) {\n          newParts.push({\n            from: p.from,\n            to: m.from\n          });\n        }\n\n        if (dto > 0 || !mk.inclusiveRight && !dto) {\n          newParts.push({\n            from: m.to,\n            to: p.to\n          });\n        }\n\n        parts.splice.apply(parts, newParts);\n        j += newParts.length - 3;\n      }\n    }\n\n    return parts;\n  } // Connect or disconnect spans from a line.\n\n\n  function detachMarkedSpans(line) {\n    var spans = line.markedSpans;\n\n    if (!spans) {\n      return;\n    }\n\n    for (var i = 0; i < spans.length; ++i) {\n      spans[i].marker.detachLine(line);\n    }\n\n    line.markedSpans = null;\n  }\n\n  function attachMarkedSpans(line, spans) {\n    if (!spans) {\n      return;\n    }\n\n    for (var i = 0; i < spans.length; ++i) {\n      spans[i].marker.attachLine(line);\n    }\n\n    line.markedSpans = spans;\n  } // Helpers used when computing which overlapping collapsed span\n  // counts as the larger one.\n\n\n  function extraLeft(marker) {\n    return marker.inclusiveLeft ? -1 : 0;\n  }\n\n  function extraRight(marker) {\n    return marker.inclusiveRight ? 1 : 0;\n  } // Returns a number indicating which of two overlapping collapsed\n  // spans is larger (and thus includes the other). Falls back to\n  // comparing ids when the spans cover exactly the same range.\n\n\n  function compareCollapsedMarkers(a, b) {\n    var lenDiff = a.lines.length - b.lines.length;\n\n    if (lenDiff != 0) {\n      return lenDiff;\n    }\n\n    var aPos = a.find(),\n        bPos = b.find();\n    var fromCmp = cmp(aPos.from, bPos.from) || extraLeft(a) - extraLeft(b);\n\n    if (fromCmp) {\n      return -fromCmp;\n    }\n\n    var toCmp = cmp(aPos.to, bPos.to) || extraRight(a) - extraRight(b);\n\n    if (toCmp) {\n      return toCmp;\n    }\n\n    return b.id - a.id;\n  } // Find out whether a line ends or starts in a collapsed span. If\n  // so, return the marker for that span.\n\n\n  function collapsedSpanAtSide(line, start) {\n    var sps = sawCollapsedSpans && line.markedSpans,\n        found;\n\n    if (sps) {\n      for (var sp = void 0, i = 0; i < sps.length; ++i) {\n        sp = sps[i];\n\n        if (sp.marker.collapsed && (start ? sp.from : sp.to) == null && (!found || compareCollapsedMarkers(found, sp.marker) < 0)) {\n          found = sp.marker;\n        }\n      }\n    }\n\n    return found;\n  }\n\n  function collapsedSpanAtStart(line) {\n    return collapsedSpanAtSide(line, true);\n  }\n\n  function collapsedSpanAtEnd(line) {\n    return collapsedSpanAtSide(line, false);\n  }\n\n  function collapsedSpanAround(line, ch) {\n    var sps = sawCollapsedSpans && line.markedSpans,\n        found;\n\n    if (sps) {\n      for (var i = 0; i < sps.length; ++i) {\n        var sp = sps[i];\n\n        if (sp.marker.collapsed && (sp.from == null || sp.from < ch) && (sp.to == null || sp.to > ch) && (!found || compareCollapsedMarkers(found, sp.marker) < 0)) {\n          found = sp.marker;\n        }\n      }\n    }\n\n    return found;\n  } // Test whether there exists a collapsed span that partially\n  // overlaps (covers the start or end, but not both) of a new span.\n  // Such overlap is not allowed.\n\n\n  function conflictingCollapsedRange(doc, lineNo, from, to, marker) {\n    var line = getLine(doc, lineNo);\n    var sps = sawCollapsedSpans && line.markedSpans;\n\n    if (sps) {\n      for (var i = 0; i < sps.length; ++i) {\n        var sp = sps[i];\n\n        if (!sp.marker.collapsed) {\n          continue;\n        }\n\n        var found = sp.marker.find(0);\n        var fromCmp = cmp(found.from, from) || extraLeft(sp.marker) - extraLeft(marker);\n        var toCmp = cmp(found.to, to) || extraRight(sp.marker) - extraRight(marker);\n\n        if (fromCmp >= 0 && toCmp <= 0 || fromCmp <= 0 && toCmp >= 0) {\n          continue;\n        }\n\n        if (fromCmp <= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.to, from) >= 0 : cmp(found.to, from) > 0) || fromCmp >= 0 && (sp.marker.inclusiveRight && marker.inclusiveLeft ? cmp(found.from, to) <= 0 : cmp(found.from, to) < 0)) {\n          return true;\n        }\n      }\n    }\n  } // A visual line is a line as drawn on the screen. Folding, for\n  // example, can cause multiple logical lines to appear on the same\n  // visual line. This finds the start of the visual line that the\n  // given line is part of (usually that is the line itself).\n\n\n  function visualLine(line) {\n    var merged;\n\n    while (merged = collapsedSpanAtStart(line)) {\n      line = merged.find(-1, true).line;\n    }\n\n    return line;\n  }\n\n  function visualLineEnd(line) {\n    var merged;\n\n    while (merged = collapsedSpanAtEnd(line)) {\n      line = merged.find(1, true).line;\n    }\n\n    return line;\n  } // Returns an array of logical lines that continue the visual line\n  // started by the argument, or undefined if there are no such lines.\n\n\n  function visualLineContinued(line) {\n    var merged, lines;\n\n    while (merged = collapsedSpanAtEnd(line)) {\n      line = merged.find(1, true).line;\n      (lines || (lines = [])).push(line);\n    }\n\n    return lines;\n  } // Get the line number of the start of the visual line that the\n  // given line number is part of.\n\n\n  function visualLineNo(doc, lineN) {\n    var line = getLine(doc, lineN),\n        vis = visualLine(line);\n\n    if (line == vis) {\n      return lineN;\n    }\n\n    return lineNo(vis);\n  } // Get the line number of the start of the next visual line after\n  // the given line.\n\n\n  function visualLineEndNo(doc, lineN) {\n    if (lineN > doc.lastLine()) {\n      return lineN;\n    }\n\n    var line = getLine(doc, lineN),\n        merged;\n\n    if (!lineIsHidden(doc, line)) {\n      return lineN;\n    }\n\n    while (merged = collapsedSpanAtEnd(line)) {\n      line = merged.find(1, true).line;\n    }\n\n    return lineNo(line) + 1;\n  } // Compute whether a line is hidden. Lines count as hidden when they\n  // are part of a visual line that starts with another line, or when\n  // they are entirely covered by collapsed, non-widget span.\n\n\n  function lineIsHidden(doc, line) {\n    var sps = sawCollapsedSpans && line.markedSpans;\n\n    if (sps) {\n      for (var sp = void 0, i = 0; i < sps.length; ++i) {\n        sp = sps[i];\n\n        if (!sp.marker.collapsed) {\n          continue;\n        }\n\n        if (sp.from == null) {\n          return true;\n        }\n\n        if (sp.marker.widgetNode) {\n          continue;\n        }\n\n        if (sp.from == 0 && sp.marker.inclusiveLeft && lineIsHiddenInner(doc, line, sp)) {\n          return true;\n        }\n      }\n    }\n  }\n\n  function lineIsHiddenInner(doc, line, span) {\n    if (span.to == null) {\n      var end = span.marker.find(1, true);\n      return lineIsHiddenInner(doc, end.line, getMarkedSpanFor(end.line.markedSpans, span.marker));\n    }\n\n    if (span.marker.inclusiveRight && span.to == line.text.length) {\n      return true;\n    }\n\n    for (var sp = void 0, i = 0; i < line.markedSpans.length; ++i) {\n      sp = line.markedSpans[i];\n\n      if (sp.marker.collapsed && !sp.marker.widgetNode && sp.from == span.to && (sp.to == null || sp.to != span.from) && (sp.marker.inclusiveLeft || span.marker.inclusiveRight) && lineIsHiddenInner(doc, line, sp)) {\n        return true;\n      }\n    }\n  } // Find the height above the given line.\n\n\n  function heightAtLine(lineObj) {\n    lineObj = visualLine(lineObj);\n    var h = 0,\n        chunk = lineObj.parent;\n\n    for (var i = 0; i < chunk.lines.length; ++i) {\n      var line = chunk.lines[i];\n\n      if (line == lineObj) {\n        break;\n      } else {\n        h += line.height;\n      }\n    }\n\n    for (var p = chunk.parent; p; chunk = p, p = chunk.parent) {\n      for (var i$1 = 0; i$1 < p.children.length; ++i$1) {\n        var cur = p.children[i$1];\n\n        if (cur == chunk) {\n          break;\n        } else {\n          h += cur.height;\n        }\n      }\n    }\n\n    return h;\n  } // Compute the character length of a line, taking into account\n  // collapsed ranges (see markText) that might hide parts, and join\n  // other lines onto it.\n\n\n  function lineLength(line) {\n    if (line.height == 0) {\n      return 0;\n    }\n\n    var len = line.text.length,\n        merged,\n        cur = line;\n\n    while (merged = collapsedSpanAtStart(cur)) {\n      var found = merged.find(0, true);\n      cur = found.from.line;\n      len += found.from.ch - found.to.ch;\n    }\n\n    cur = line;\n\n    while (merged = collapsedSpanAtEnd(cur)) {\n      var found$1 = merged.find(0, true);\n      len -= cur.text.length - found$1.from.ch;\n      cur = found$1.to.line;\n      len += cur.text.length - found$1.to.ch;\n    }\n\n    return len;\n  } // Find the longest line in the document.\n\n\n  function findMaxLine(cm) {\n    var d = cm.display,\n        doc = cm.doc;\n    d.maxLine = getLine(doc, doc.first);\n    d.maxLineLength = lineLength(d.maxLine);\n    d.maxLineChanged = true;\n    doc.iter(function (line) {\n      var len = lineLength(line);\n\n      if (len > d.maxLineLength) {\n        d.maxLineLength = len;\n        d.maxLine = line;\n      }\n    });\n  } // LINE DATA STRUCTURE\n  // Line objects. These hold state related to a line, including\n  // highlighting info (the styles array).\n\n\n  var Line = function (text, markedSpans, estimateHeight) {\n    this.text = text;\n    attachMarkedSpans(this, markedSpans);\n    this.height = estimateHeight ? estimateHeight(this) : 1;\n  };\n\n  Line.prototype.lineNo = function () {\n    return lineNo(this);\n  };\n\n  eventMixin(Line); // Change the content (text, markers) of a line. Automatically\n  // invalidates cached information and tries to re-estimate the\n  // line's height.\n\n  function updateLine(line, text, markedSpans, estimateHeight) {\n    line.text = text;\n\n    if (line.stateAfter) {\n      line.stateAfter = null;\n    }\n\n    if (line.styles) {\n      line.styles = null;\n    }\n\n    if (line.order != null) {\n      line.order = null;\n    }\n\n    detachMarkedSpans(line);\n    attachMarkedSpans(line, markedSpans);\n    var estHeight = estimateHeight ? estimateHeight(line) : 1;\n\n    if (estHeight != line.height) {\n      updateLineHeight(line, estHeight);\n    }\n  } // Detach a line from the document tree and its markers.\n\n\n  function cleanUpLine(line) {\n    line.parent = null;\n    detachMarkedSpans(line);\n  } // Convert a style as returned by a mode (either null, or a string\n  // containing one or more styles) to a CSS style. This is cached,\n  // and also looks for line-wide styles.\n\n\n  var styleToClassCache = {},\n      styleToClassCacheWithMode = {};\n\n  function interpretTokenStyle(style, options) {\n    if (!style || /^\\s*$/.test(style)) {\n      return null;\n    }\n\n    var cache = options.addModeClass ? styleToClassCacheWithMode : styleToClassCache;\n    return cache[style] || (cache[style] = style.replace(/\\S+/g, \"cm-$&\"));\n  } // Render the DOM representation of the text of a line. Also builds\n  // up a 'line map', which points at the DOM nodes that represent\n  // specific stretches of text, and is used by the measuring code.\n  // The returned object contains the DOM node, this map, and\n  // information about line-wide styles that were set by the mode.\n\n\n  function buildLineContent(cm, lineView) {\n    // The padding-right forces the element to have a 'border', which\n    // is needed on Webkit to be able to get line-level bounding\n    // rectangles for it (in measureChar).\n    var content = eltP(\"span\", null, null, webkit ? \"padding-right: .1px\" : null);\n    var builder = {\n      pre: eltP(\"pre\", [content], \"CodeMirror-line\"),\n      content: content,\n      col: 0,\n      pos: 0,\n      cm: cm,\n      trailingSpace: false,\n      splitSpaces: cm.getOption(\"lineWrapping\")\n    };\n    lineView.measure = {}; // Iterate over the logical lines that make up this visual line.\n\n    for (var i = 0; i <= (lineView.rest ? lineView.rest.length : 0); i++) {\n      var line = i ? lineView.rest[i - 1] : lineView.line,\n          order = void 0;\n      builder.pos = 0;\n      builder.addToken = buildToken; // Optionally wire in some hacks into the token-rendering\n      // algorithm, to deal with browser quirks.\n\n      if (hasBadBidiRects(cm.display.measure) && (order = getOrder(line, cm.doc.direction))) {\n        builder.addToken = buildTokenBadBidi(builder.addToken, order);\n      }\n\n      builder.map = [];\n      var allowFrontierUpdate = lineView != cm.display.externalMeasured && lineNo(line);\n      insertLineContent(line, builder, getLineStyles(cm, line, allowFrontierUpdate));\n\n      if (line.styleClasses) {\n        if (line.styleClasses.bgClass) {\n          builder.bgClass = joinClasses(line.styleClasses.bgClass, builder.bgClass || \"\");\n        }\n\n        if (line.styleClasses.textClass) {\n          builder.textClass = joinClasses(line.styleClasses.textClass, builder.textClass || \"\");\n        }\n      } // Ensure at least a single node is present, for measuring.\n\n\n      if (builder.map.length == 0) {\n        builder.map.push(0, 0, builder.content.appendChild(zeroWidthElement(cm.display.measure)));\n      } // Store the map and a cache object for the current logical line\n\n\n      if (i == 0) {\n        lineView.measure.map = builder.map;\n        lineView.measure.cache = {};\n      } else {\n        (lineView.measure.maps || (lineView.measure.maps = [])).push(builder.map);\n        (lineView.measure.caches || (lineView.measure.caches = [])).push({});\n      }\n    } // See issue #2901\n\n\n    if (webkit) {\n      var last = builder.content.lastChild;\n\n      if (/\\bcm-tab\\b/.test(last.className) || last.querySelector && last.querySelector(\".cm-tab\")) {\n        builder.content.className = \"cm-tab-wrap-hack\";\n      }\n    }\n\n    signal(cm, \"renderLine\", cm, lineView.line, builder.pre);\n\n    if (builder.pre.className) {\n      builder.textClass = joinClasses(builder.pre.className, builder.textClass || \"\");\n    }\n\n    return builder;\n  }\n\n  function defaultSpecialCharPlaceholder(ch) {\n    var token = elt(\"span\", \"\\u2022\", \"cm-invalidchar\");\n    token.title = \"\\\\u\" + ch.charCodeAt(0).toString(16);\n    token.setAttribute(\"aria-label\", token.title);\n    return token;\n  } // Build up the DOM representation for a single token, and add it to\n  // the line map. Takes care to render special characters separately.\n\n\n  function buildToken(builder, text, style, startStyle, endStyle, css, attributes) {\n    if (!text) {\n      return;\n    }\n\n    var displayText = builder.splitSpaces ? splitSpaces(text, builder.trailingSpace) : text;\n    var special = builder.cm.state.specialChars,\n        mustWrap = false;\n    var content;\n\n    if (!special.test(text)) {\n      builder.col += text.length;\n      content = document.createTextNode(displayText);\n      builder.map.push(builder.pos, builder.pos + text.length, content);\n\n      if (ie && ie_version < 9) {\n        mustWrap = true;\n      }\n\n      builder.pos += text.length;\n    } else {\n      content = document.createDocumentFragment();\n      var pos = 0;\n\n      while (true) {\n        special.lastIndex = pos;\n        var m = special.exec(text);\n        var skipped = m ? m.index - pos : text.length - pos;\n\n        if (skipped) {\n          var txt = document.createTextNode(displayText.slice(pos, pos + skipped));\n\n          if (ie && ie_version < 9) {\n            content.appendChild(elt(\"span\", [txt]));\n          } else {\n            content.appendChild(txt);\n          }\n\n          builder.map.push(builder.pos, builder.pos + skipped, txt);\n          builder.col += skipped;\n          builder.pos += skipped;\n        }\n\n        if (!m) {\n          break;\n        }\n\n        pos += skipped + 1;\n        var txt$1 = void 0;\n\n        if (m[0] == \"\\t\") {\n          var tabSize = builder.cm.options.tabSize,\n              tabWidth = tabSize - builder.col % tabSize;\n          txt$1 = content.appendChild(elt(\"span\", spaceStr(tabWidth), \"cm-tab\"));\n          txt$1.setAttribute(\"role\", \"presentation\");\n          txt$1.setAttribute(\"cm-text\", \"\\t\");\n          builder.col += tabWidth;\n        } else if (m[0] == \"\\r\" || m[0] == \"\\n\") {\n          txt$1 = content.appendChild(elt(\"span\", m[0] == \"\\r\" ? \"\\u240d\" : \"\\u2424\", \"cm-invalidchar\"));\n          txt$1.setAttribute(\"cm-text\", m[0]);\n          builder.col += 1;\n        } else {\n          txt$1 = builder.cm.options.specialCharPlaceholder(m[0]);\n          txt$1.setAttribute(\"cm-text\", m[0]);\n\n          if (ie && ie_version < 9) {\n            content.appendChild(elt(\"span\", [txt$1]));\n          } else {\n            content.appendChild(txt$1);\n          }\n\n          builder.col += 1;\n        }\n\n        builder.map.push(builder.pos, builder.pos + 1, txt$1);\n        builder.pos++;\n      }\n    }\n\n    builder.trailingSpace = displayText.charCodeAt(text.length - 1) == 32;\n\n    if (style || startStyle || endStyle || mustWrap || css) {\n      var fullStyle = style || \"\";\n\n      if (startStyle) {\n        fullStyle += startStyle;\n      }\n\n      if (endStyle) {\n        fullStyle += endStyle;\n      }\n\n      var token = elt(\"span\", [content], fullStyle, css);\n\n      if (attributes) {\n        for (var attr in attributes) {\n          if (attributes.hasOwnProperty(attr) && attr != \"style\" && attr != \"class\") {\n            token.setAttribute(attr, attributes[attr]);\n          }\n        }\n      }\n\n      return builder.content.appendChild(token);\n    }\n\n    builder.content.appendChild(content);\n  } // Change some spaces to NBSP to prevent the browser from collapsing\n  // trailing spaces at the end of a line when rendering text (issue #1362).\n\n\n  function splitSpaces(text, trailingBefore) {\n    if (text.length > 1 && !/  /.test(text)) {\n      return text;\n    }\n\n    var spaceBefore = trailingBefore,\n        result = \"\";\n\n    for (var i = 0; i < text.length; i++) {\n      var ch = text.charAt(i);\n\n      if (ch == \" \" && spaceBefore && (i == text.length - 1 || text.charCodeAt(i + 1) == 32)) {\n        ch = \"\\u00a0\";\n      }\n\n      result += ch;\n      spaceBefore = ch == \" \";\n    }\n\n    return result;\n  } // Work around nonsense dimensions being reported for stretches of\n  // right-to-left text.\n\n\n  function buildTokenBadBidi(inner, order) {\n    return function (builder, text, style, startStyle, endStyle, css, attributes) {\n      style = style ? style + \" cm-force-border\" : \"cm-force-border\";\n      var start = builder.pos,\n          end = start + text.length;\n\n      for (;;) {\n        // Find the part that overlaps with the start of this text\n        var part = void 0;\n\n        for (var i = 0; i < order.length; i++) {\n          part = order[i];\n\n          if (part.to > start && part.from <= start) {\n            break;\n          }\n        }\n\n        if (part.to >= end) {\n          return inner(builder, text, style, startStyle, endStyle, css, attributes);\n        }\n\n        inner(builder, text.slice(0, part.to - start), style, startStyle, null, css, attributes);\n        startStyle = null;\n        text = text.slice(part.to - start);\n        start = part.to;\n      }\n    };\n  }\n\n  function buildCollapsedSpan(builder, size, marker, ignoreWidget) {\n    var widget = !ignoreWidget && marker.widgetNode;\n\n    if (widget) {\n      builder.map.push(builder.pos, builder.pos + size, widget);\n    }\n\n    if (!ignoreWidget && builder.cm.display.input.needsContentAttribute) {\n      if (!widget) {\n        widget = builder.content.appendChild(document.createElement(\"span\"));\n      }\n\n      widget.setAttribute(\"cm-marker\", marker.id);\n    }\n\n    if (widget) {\n      builder.cm.display.input.setUneditable(widget);\n      builder.content.appendChild(widget);\n    }\n\n    builder.pos += size;\n    builder.trailingSpace = false;\n  } // Outputs a number of spans to make up a line, taking highlighting\n  // and marked text into account.\n\n\n  function insertLineContent(line, builder, styles) {\n    var spans = line.markedSpans,\n        allText = line.text,\n        at = 0;\n\n    if (!spans) {\n      for (var i$1 = 1; i$1 < styles.length; i$1 += 2) {\n        builder.addToken(builder, allText.slice(at, at = styles[i$1]), interpretTokenStyle(styles[i$1 + 1], builder.cm.options));\n      }\n\n      return;\n    }\n\n    var len = allText.length,\n        pos = 0,\n        i = 1,\n        text = \"\",\n        style,\n        css;\n    var nextChange = 0,\n        spanStyle,\n        spanEndStyle,\n        spanStartStyle,\n        collapsed,\n        attributes;\n\n    for (;;) {\n      if (nextChange == pos) {\n        // Update current marker set\n        spanStyle = spanEndStyle = spanStartStyle = css = \"\";\n        attributes = null;\n        collapsed = null;\n        nextChange = Infinity;\n        var foundBookmarks = [],\n            endStyles = void 0;\n\n        for (var j = 0; j < spans.length; ++j) {\n          var sp = spans[j],\n              m = sp.marker;\n\n          if (m.type == \"bookmark\" && sp.from == pos && m.widgetNode) {\n            foundBookmarks.push(m);\n          } else if (sp.from <= pos && (sp.to == null || sp.to > pos || m.collapsed && sp.to == pos && sp.from == pos)) {\n            if (sp.to != null && sp.to != pos && nextChange > sp.to) {\n              nextChange = sp.to;\n              spanEndStyle = \"\";\n            }\n\n            if (m.className) {\n              spanStyle += \" \" + m.className;\n            }\n\n            if (m.css) {\n              css = (css ? css + \";\" : \"\") + m.css;\n            }\n\n            if (m.startStyle && sp.from == pos) {\n              spanStartStyle += \" \" + m.startStyle;\n            }\n\n            if (m.endStyle && sp.to == nextChange) {\n              (endStyles || (endStyles = [])).push(m.endStyle, sp.to);\n            } // support for the old title property\n            // https://github.com/codemirror/CodeMirror/pull/5673\n\n\n            if (m.title) {\n              (attributes || (attributes = {})).title = m.title;\n            }\n\n            if (m.attributes) {\n              for (var attr in m.attributes) {\n                (attributes || (attributes = {}))[attr] = m.attributes[attr];\n              }\n            }\n\n            if (m.collapsed && (!collapsed || compareCollapsedMarkers(collapsed.marker, m) < 0)) {\n              collapsed = sp;\n            }\n          } else if (sp.from > pos && nextChange > sp.from) {\n            nextChange = sp.from;\n          }\n        }\n\n        if (endStyles) {\n          for (var j$1 = 0; j$1 < endStyles.length; j$1 += 2) {\n            if (endStyles[j$1 + 1] == nextChange) {\n              spanEndStyle += \" \" + endStyles[j$1];\n            }\n          }\n        }\n\n        if (!collapsed || collapsed.from == pos) {\n          for (var j$2 = 0; j$2 < foundBookmarks.length; ++j$2) {\n            buildCollapsedSpan(builder, 0, foundBookmarks[j$2]);\n          }\n        }\n\n        if (collapsed && (collapsed.from || 0) == pos) {\n          buildCollapsedSpan(builder, (collapsed.to == null ? len + 1 : collapsed.to) - pos, collapsed.marker, collapsed.from == null);\n\n          if (collapsed.to == null) {\n            return;\n          }\n\n          if (collapsed.to == pos) {\n            collapsed = false;\n          }\n        }\n      }\n\n      if (pos >= len) {\n        break;\n      }\n\n      var upto = Math.min(len, nextChange);\n\n      while (true) {\n        if (text) {\n          var end = pos + text.length;\n\n          if (!collapsed) {\n            var tokenText = end > upto ? text.slice(0, upto - pos) : text;\n            builder.addToken(builder, tokenText, style ? style + spanStyle : spanStyle, spanStartStyle, pos + tokenText.length == nextChange ? spanEndStyle : \"\", css, attributes);\n          }\n\n          if (end >= upto) {\n            text = text.slice(upto - pos);\n            pos = upto;\n            break;\n          }\n\n          pos = end;\n          spanStartStyle = \"\";\n        }\n\n        text = allText.slice(at, at = styles[i++]);\n        style = interpretTokenStyle(styles[i++], builder.cm.options);\n      }\n    }\n  } // These objects are used to represent the visible (currently drawn)\n  // part of the document. A LineView may correspond to multiple\n  // logical lines, if those are connected by collapsed ranges.\n\n\n  function LineView(doc, line, lineN) {\n    // The starting line\n    this.line = line; // Continuing lines, if any\n\n    this.rest = visualLineContinued(line); // Number of logical lines in this visual line\n\n    this.size = this.rest ? lineNo(lst(this.rest)) - lineN + 1 : 1;\n    this.node = this.text = null;\n    this.hidden = lineIsHidden(doc, line);\n  } // Create a range of LineView objects for the given lines.\n\n\n  function buildViewArray(cm, from, to) {\n    var array = [],\n        nextPos;\n\n    for (var pos = from; pos < to; pos = nextPos) {\n      var view = new LineView(cm.doc, getLine(cm.doc, pos), pos);\n      nextPos = pos + view.size;\n      array.push(view);\n    }\n\n    return array;\n  }\n\n  var operationGroup = null;\n\n  function pushOperation(op) {\n    if (operationGroup) {\n      operationGroup.ops.push(op);\n    } else {\n      op.ownsGroup = operationGroup = {\n        ops: [op],\n        delayedCallbacks: []\n      };\n    }\n  }\n\n  function fireCallbacksForOps(group) {\n    // Calls delayed callbacks and cursorActivity handlers until no\n    // new ones appear\n    var callbacks = group.delayedCallbacks,\n        i = 0;\n\n    do {\n      for (; i < callbacks.length; i++) {\n        callbacks[i].call(null);\n      }\n\n      for (var j = 0; j < group.ops.length; j++) {\n        var op = group.ops[j];\n\n        if (op.cursorActivityHandlers) {\n          while (op.cursorActivityCalled < op.cursorActivityHandlers.length) {\n            op.cursorActivityHandlers[op.cursorActivityCalled++].call(null, op.cm);\n          }\n        }\n      }\n    } while (i < callbacks.length);\n  }\n\n  function finishOperation(op, endCb) {\n    var group = op.ownsGroup;\n\n    if (!group) {\n      return;\n    }\n\n    try {\n      fireCallbacksForOps(group);\n    } finally {\n      operationGroup = null;\n      endCb(group);\n    }\n  }\n\n  var orphanDelayedCallbacks = null; // Often, we want to signal events at a point where we are in the\n  // middle of some work, but don't want the handler to start calling\n  // other methods on the editor, which might be in an inconsistent\n  // state or simply not expect any other events to happen.\n  // signalLater looks whether there are any handlers, and schedules\n  // them to be executed when the last operation ends, or, if no\n  // operation is active, when a timeout fires.\n\n  function signalLater(emitter, type\n  /*, values...*/\n  ) {\n    var arr = getHandlers(emitter, type);\n\n    if (!arr.length) {\n      return;\n    }\n\n    var args = Array.prototype.slice.call(arguments, 2),\n        list;\n\n    if (operationGroup) {\n      list = operationGroup.delayedCallbacks;\n    } else if (orphanDelayedCallbacks) {\n      list = orphanDelayedCallbacks;\n    } else {\n      list = orphanDelayedCallbacks = [];\n      setTimeout(fireOrphanDelayed, 0);\n    }\n\n    var loop = function (i) {\n      list.push(function () {\n        return arr[i].apply(null, args);\n      });\n    };\n\n    for (var i = 0; i < arr.length; ++i) loop(i);\n  }\n\n  function fireOrphanDelayed() {\n    var delayed = orphanDelayedCallbacks;\n    orphanDelayedCallbacks = null;\n\n    for (var i = 0; i < delayed.length; ++i) {\n      delayed[i]();\n    }\n  } // When an aspect of a line changes, a string is added to\n  // lineView.changes. This updates the relevant part of the line's\n  // DOM structure.\n\n\n  function updateLineForChanges(cm, lineView, lineN, dims) {\n    for (var j = 0; j < lineView.changes.length; j++) {\n      var type = lineView.changes[j];\n\n      if (type == \"text\") {\n        updateLineText(cm, lineView);\n      } else if (type == \"gutter\") {\n        updateLineGutter(cm, lineView, lineN, dims);\n      } else if (type == \"class\") {\n        updateLineClasses(cm, lineView);\n      } else if (type == \"widget\") {\n        updateLineWidgets(cm, lineView, dims);\n      }\n    }\n\n    lineView.changes = null;\n  } // Lines with gutter elements, widgets or a background class need to\n  // be wrapped, and have the extra elements added to the wrapper div\n\n\n  function ensureLineWrapped(lineView) {\n    if (lineView.node == lineView.text) {\n      lineView.node = elt(\"div\", null, null, \"position: relative\");\n\n      if (lineView.text.parentNode) {\n        lineView.text.parentNode.replaceChild(lineView.node, lineView.text);\n      }\n\n      lineView.node.appendChild(lineView.text);\n\n      if (ie && ie_version < 8) {\n        lineView.node.style.zIndex = 2;\n      }\n    }\n\n    return lineView.node;\n  }\n\n  function updateLineBackground(cm, lineView) {\n    var cls = lineView.bgClass ? lineView.bgClass + \" \" + (lineView.line.bgClass || \"\") : lineView.line.bgClass;\n\n    if (cls) {\n      cls += \" CodeMirror-linebackground\";\n    }\n\n    if (lineView.background) {\n      if (cls) {\n        lineView.background.className = cls;\n      } else {\n        lineView.background.parentNode.removeChild(lineView.background);\n        lineView.background = null;\n      }\n    } else if (cls) {\n      var wrap = ensureLineWrapped(lineView);\n      lineView.background = wrap.insertBefore(elt(\"div\", null, cls), wrap.firstChild);\n      cm.display.input.setUneditable(lineView.background);\n    }\n  } // Wrapper around buildLineContent which will reuse the structure\n  // in display.externalMeasured when possible.\n\n\n  function getLineContent(cm, lineView) {\n    var ext = cm.display.externalMeasured;\n\n    if (ext && ext.line == lineView.line) {\n      cm.display.externalMeasured = null;\n      lineView.measure = ext.measure;\n      return ext.built;\n    }\n\n    return buildLineContent(cm, lineView);\n  } // Redraw the line's text. Interacts with the background and text\n  // classes because the mode may output tokens that influence these\n  // classes.\n\n\n  function updateLineText(cm, lineView) {\n    var cls = lineView.text.className;\n    var built = getLineContent(cm, lineView);\n\n    if (lineView.text == lineView.node) {\n      lineView.node = built.pre;\n    }\n\n    lineView.text.parentNode.replaceChild(built.pre, lineView.text);\n    lineView.text = built.pre;\n\n    if (built.bgClass != lineView.bgClass || built.textClass != lineView.textClass) {\n      lineView.bgClass = built.bgClass;\n      lineView.textClass = built.textClass;\n      updateLineClasses(cm, lineView);\n    } else if (cls) {\n      lineView.text.className = cls;\n    }\n  }\n\n  function updateLineClasses(cm, lineView) {\n    updateLineBackground(cm, lineView);\n\n    if (lineView.line.wrapClass) {\n      ensureLineWrapped(lineView).className = lineView.line.wrapClass;\n    } else if (lineView.node != lineView.text) {\n      lineView.node.className = \"\";\n    }\n\n    var textClass = lineView.textClass ? lineView.textClass + \" \" + (lineView.line.textClass || \"\") : lineView.line.textClass;\n    lineView.text.className = textClass || \"\";\n  }\n\n  function updateLineGutter(cm, lineView, lineN, dims) {\n    if (lineView.gutter) {\n      lineView.node.removeChild(lineView.gutter);\n      lineView.gutter = null;\n    }\n\n    if (lineView.gutterBackground) {\n      lineView.node.removeChild(lineView.gutterBackground);\n      lineView.gutterBackground = null;\n    }\n\n    if (lineView.line.gutterClass) {\n      var wrap = ensureLineWrapped(lineView);\n      lineView.gutterBackground = elt(\"div\", null, \"CodeMirror-gutter-background \" + lineView.line.gutterClass, \"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px; width: \" + dims.gutterTotalWidth + \"px\");\n      cm.display.input.setUneditable(lineView.gutterBackground);\n      wrap.insertBefore(lineView.gutterBackground, lineView.text);\n    }\n\n    var markers = lineView.line.gutterMarkers;\n\n    if (cm.options.lineNumbers || markers) {\n      var wrap$1 = ensureLineWrapped(lineView);\n      var gutterWrap = lineView.gutter = elt(\"div\", null, \"CodeMirror-gutter-wrapper\", \"left: \" + (cm.options.fixedGutter ? dims.fixedPos : -dims.gutterTotalWidth) + \"px\");\n      cm.display.input.setUneditable(gutterWrap);\n      wrap$1.insertBefore(gutterWrap, lineView.text);\n\n      if (lineView.line.gutterClass) {\n        gutterWrap.className += \" \" + lineView.line.gutterClass;\n      }\n\n      if (cm.options.lineNumbers && (!markers || !markers[\"CodeMirror-linenumbers\"])) {\n        lineView.lineNumber = gutterWrap.appendChild(elt(\"div\", lineNumberFor(cm.options, lineN), \"CodeMirror-linenumber CodeMirror-gutter-elt\", \"left: \" + dims.gutterLeft[\"CodeMirror-linenumbers\"] + \"px; width: \" + cm.display.lineNumInnerWidth + \"px\"));\n      }\n\n      if (markers) {\n        for (var k = 0; k < cm.display.gutterSpecs.length; ++k) {\n          var id = cm.display.gutterSpecs[k].className,\n              found = markers.hasOwnProperty(id) && markers[id];\n\n          if (found) {\n            gutterWrap.appendChild(elt(\"div\", [found], \"CodeMirror-gutter-elt\", \"left: \" + dims.gutterLeft[id] + \"px; width: \" + dims.gutterWidth[id] + \"px\"));\n          }\n        }\n      }\n    }\n  }\n\n  function updateLineWidgets(cm, lineView, dims) {\n    if (lineView.alignable) {\n      lineView.alignable = null;\n    }\n\n    var isWidget = classTest(\"CodeMirror-linewidget\");\n\n    for (var node = lineView.node.firstChild, next = void 0; node; node = next) {\n      next = node.nextSibling;\n\n      if (isWidget.test(node.className)) {\n        lineView.node.removeChild(node);\n      }\n    }\n\n    insertLineWidgets(cm, lineView, dims);\n  } // Build a line's DOM representation from scratch\n\n\n  function buildLineElement(cm, lineView, lineN, dims) {\n    var built = getLineContent(cm, lineView);\n    lineView.text = lineView.node = built.pre;\n\n    if (built.bgClass) {\n      lineView.bgClass = built.bgClass;\n    }\n\n    if (built.textClass) {\n      lineView.textClass = built.textClass;\n    }\n\n    updateLineClasses(cm, lineView);\n    updateLineGutter(cm, lineView, lineN, dims);\n    insertLineWidgets(cm, lineView, dims);\n    return lineView.node;\n  } // A lineView may contain multiple logical lines (when merged by\n  // collapsed spans). The widgets for all of them need to be drawn.\n\n\n  function insertLineWidgets(cm, lineView, dims) {\n    insertLineWidgetsFor(cm, lineView.line, lineView, dims, true);\n\n    if (lineView.rest) {\n      for (var i = 0; i < lineView.rest.length; i++) {\n        insertLineWidgetsFor(cm, lineView.rest[i], lineView, dims, false);\n      }\n    }\n  }\n\n  function insertLineWidgetsFor(cm, line, lineView, dims, allowAbove) {\n    if (!line.widgets) {\n      return;\n    }\n\n    var wrap = ensureLineWrapped(lineView);\n\n    for (var i = 0, ws = line.widgets; i < ws.length; ++i) {\n      var widget = ws[i],\n          node = elt(\"div\", [widget.node], \"CodeMirror-linewidget\" + (widget.className ? \" \" + widget.className : \"\"));\n\n      if (!widget.handleMouseEvents) {\n        node.setAttribute(\"cm-ignore-events\", \"true\");\n      }\n\n      positionLineWidget(widget, node, lineView, dims);\n      cm.display.input.setUneditable(node);\n\n      if (allowAbove && widget.above) {\n        wrap.insertBefore(node, lineView.gutter || lineView.text);\n      } else {\n        wrap.appendChild(node);\n      }\n\n      signalLater(widget, \"redraw\");\n    }\n  }\n\n  function positionLineWidget(widget, node, lineView, dims) {\n    if (widget.noHScroll) {\n      (lineView.alignable || (lineView.alignable = [])).push(node);\n      var width = dims.wrapperWidth;\n      node.style.left = dims.fixedPos + \"px\";\n\n      if (!widget.coverGutter) {\n        width -= dims.gutterTotalWidth;\n        node.style.paddingLeft = dims.gutterTotalWidth + \"px\";\n      }\n\n      node.style.width = width + \"px\";\n    }\n\n    if (widget.coverGutter) {\n      node.style.zIndex = 5;\n      node.style.position = \"relative\";\n\n      if (!widget.noHScroll) {\n        node.style.marginLeft = -dims.gutterTotalWidth + \"px\";\n      }\n    }\n  }\n\n  function widgetHeight(widget) {\n    if (widget.height != null) {\n      return widget.height;\n    }\n\n    var cm = widget.doc.cm;\n\n    if (!cm) {\n      return 0;\n    }\n\n    if (!contains(document.body, widget.node)) {\n      var parentStyle = \"position: relative;\";\n\n      if (widget.coverGutter) {\n        parentStyle += \"margin-left: -\" + cm.display.gutters.offsetWidth + \"px;\";\n      }\n\n      if (widget.noHScroll) {\n        parentStyle += \"width: \" + cm.display.wrapper.clientWidth + \"px;\";\n      }\n\n      removeChildrenAndAdd(cm.display.measure, elt(\"div\", [widget.node], null, parentStyle));\n    }\n\n    return widget.height = widget.node.parentNode.offsetHeight;\n  } // Return true when the given mouse event happened in a widget\n\n\n  function eventInWidget(display, e) {\n    for (var n = e_target(e); n != display.wrapper; n = n.parentNode) {\n      if (!n || n.nodeType == 1 && n.getAttribute(\"cm-ignore-events\") == \"true\" || n.parentNode == display.sizer && n != display.mover) {\n        return true;\n      }\n    }\n  } // POSITION MEASUREMENT\n\n\n  function paddingTop(display) {\n    return display.lineSpace.offsetTop;\n  }\n\n  function paddingVert(display) {\n    return display.mover.offsetHeight - display.lineSpace.offsetHeight;\n  }\n\n  function paddingH(display) {\n    if (display.cachedPaddingH) {\n      return display.cachedPaddingH;\n    }\n\n    var e = removeChildrenAndAdd(display.measure, elt(\"pre\", \"x\", \"CodeMirror-line-like\"));\n    var style = window.getComputedStyle ? window.getComputedStyle(e) : e.currentStyle;\n    var data = {\n      left: parseInt(style.paddingLeft),\n      right: parseInt(style.paddingRight)\n    };\n\n    if (!isNaN(data.left) && !isNaN(data.right)) {\n      display.cachedPaddingH = data;\n    }\n\n    return data;\n  }\n\n  function scrollGap(cm) {\n    return scrollerGap - cm.display.nativeBarWidth;\n  }\n\n  function displayWidth(cm) {\n    return cm.display.scroller.clientWidth - scrollGap(cm) - cm.display.barWidth;\n  }\n\n  function displayHeight(cm) {\n    return cm.display.scroller.clientHeight - scrollGap(cm) - cm.display.barHeight;\n  } // Ensure the lineView.wrapping.heights array is populated. This is\n  // an array of bottom offsets for the lines that make up a drawn\n  // line. When lineWrapping is on, there might be more than one\n  // height.\n\n\n  function ensureLineHeights(cm, lineView, rect) {\n    var wrapping = cm.options.lineWrapping;\n    var curWidth = wrapping && displayWidth(cm);\n\n    if (!lineView.measure.heights || wrapping && lineView.measure.width != curWidth) {\n      var heights = lineView.measure.heights = [];\n\n      if (wrapping) {\n        lineView.measure.width = curWidth;\n        var rects = lineView.text.firstChild.getClientRects();\n\n        for (var i = 0; i < rects.length - 1; i++) {\n          var cur = rects[i],\n              next = rects[i + 1];\n\n          if (Math.abs(cur.bottom - next.bottom) > 2) {\n            heights.push((cur.bottom + next.top) / 2 - rect.top);\n          }\n        }\n      }\n\n      heights.push(rect.bottom - rect.top);\n    }\n  } // Find a line map (mapping character offsets to text nodes) and a\n  // measurement cache for the given line number. (A line view might\n  // contain multiple lines when collapsed ranges are present.)\n\n\n  function mapFromLineView(lineView, line, lineN) {\n    if (lineView.line == line) {\n      return {\n        map: lineView.measure.map,\n        cache: lineView.measure.cache\n      };\n    }\n\n    for (var i = 0; i < lineView.rest.length; i++) {\n      if (lineView.rest[i] == line) {\n        return {\n          map: lineView.measure.maps[i],\n          cache: lineView.measure.caches[i]\n        };\n      }\n    }\n\n    for (var i$1 = 0; i$1 < lineView.rest.length; i$1++) {\n      if (lineNo(lineView.rest[i$1]) > lineN) {\n        return {\n          map: lineView.measure.maps[i$1],\n          cache: lineView.measure.caches[i$1],\n          before: true\n        };\n      }\n    }\n  } // Render a line into the hidden node display.externalMeasured. Used\n  // when measurement is needed for a line that's not in the viewport.\n\n\n  function updateExternalMeasurement(cm, line) {\n    line = visualLine(line);\n    var lineN = lineNo(line);\n    var view = cm.display.externalMeasured = new LineView(cm.doc, line, lineN);\n    view.lineN = lineN;\n    var built = view.built = buildLineContent(cm, view);\n    view.text = built.pre;\n    removeChildrenAndAdd(cm.display.lineMeasure, built.pre);\n    return view;\n  } // Get a {top, bottom, left, right} box (in line-local coordinates)\n  // for a given character.\n\n\n  function measureChar(cm, line, ch, bias) {\n    return measureCharPrepared(cm, prepareMeasureForLine(cm, line), ch, bias);\n  } // Find a line view that corresponds to the given line number.\n\n\n  function findViewForLine(cm, lineN) {\n    if (lineN >= cm.display.viewFrom && lineN < cm.display.viewTo) {\n      return cm.display.view[findViewIndex(cm, lineN)];\n    }\n\n    var ext = cm.display.externalMeasured;\n\n    if (ext && lineN >= ext.lineN && lineN < ext.lineN + ext.size) {\n      return ext;\n    }\n  } // Measurement can be split in two steps, the set-up work that\n  // applies to the whole line, and the measurement of the actual\n  // character. Functions like coordsChar, that need to do a lot of\n  // measurements in a row, can thus ensure that the set-up work is\n  // only done once.\n\n\n  function prepareMeasureForLine(cm, line) {\n    var lineN = lineNo(line);\n    var view = findViewForLine(cm, lineN);\n\n    if (view && !view.text) {\n      view = null;\n    } else if (view && view.changes) {\n      updateLineForChanges(cm, view, lineN, getDimensions(cm));\n      cm.curOp.forceUpdate = true;\n    }\n\n    if (!view) {\n      view = updateExternalMeasurement(cm, line);\n    }\n\n    var info = mapFromLineView(view, line, lineN);\n    return {\n      line: line,\n      view: view,\n      rect: null,\n      map: info.map,\n      cache: info.cache,\n      before: info.before,\n      hasHeights: false\n    };\n  } // Given a prepared measurement object, measures the position of an\n  // actual character (or fetches it from the cache).\n\n\n  function measureCharPrepared(cm, prepared, ch, bias, varHeight) {\n    if (prepared.before) {\n      ch = -1;\n    }\n\n    var key = ch + (bias || \"\"),\n        found;\n\n    if (prepared.cache.hasOwnProperty(key)) {\n      found = prepared.cache[key];\n    } else {\n      if (!prepared.rect) {\n        prepared.rect = prepared.view.text.getBoundingClientRect();\n      }\n\n      if (!prepared.hasHeights) {\n        ensureLineHeights(cm, prepared.view, prepared.rect);\n        prepared.hasHeights = true;\n      }\n\n      found = measureCharInner(cm, prepared, ch, bias);\n\n      if (!found.bogus) {\n        prepared.cache[key] = found;\n      }\n    }\n\n    return {\n      left: found.left,\n      right: found.right,\n      top: varHeight ? found.rtop : found.top,\n      bottom: varHeight ? found.rbottom : found.bottom\n    };\n  }\n\n  var nullRect = {\n    left: 0,\n    right: 0,\n    top: 0,\n    bottom: 0\n  };\n\n  function nodeAndOffsetInLineMap(map, ch, bias) {\n    var node, start, end, collapse, mStart, mEnd; // First, search the line map for the text node corresponding to,\n    // or closest to, the target character.\n\n    for (var i = 0; i < map.length; i += 3) {\n      mStart = map[i];\n      mEnd = map[i + 1];\n\n      if (ch < mStart) {\n        start = 0;\n        end = 1;\n        collapse = \"left\";\n      } else if (ch < mEnd) {\n        start = ch - mStart;\n        end = start + 1;\n      } else if (i == map.length - 3 || ch == mEnd && map[i + 3] > ch) {\n        end = mEnd - mStart;\n        start = end - 1;\n\n        if (ch >= mEnd) {\n          collapse = \"right\";\n        }\n      }\n\n      if (start != null) {\n        node = map[i + 2];\n\n        if (mStart == mEnd && bias == (node.insertLeft ? \"left\" : \"right\")) {\n          collapse = bias;\n        }\n\n        if (bias == \"left\" && start == 0) {\n          while (i && map[i - 2] == map[i - 3] && map[i - 1].insertLeft) {\n            node = map[(i -= 3) + 2];\n            collapse = \"left\";\n          }\n        }\n\n        if (bias == \"right\" && start == mEnd - mStart) {\n          while (i < map.length - 3 && map[i + 3] == map[i + 4] && !map[i + 5].insertLeft) {\n            node = map[(i += 3) + 2];\n            collapse = \"right\";\n          }\n        }\n\n        break;\n      }\n    }\n\n    return {\n      node: node,\n      start: start,\n      end: end,\n      collapse: collapse,\n      coverStart: mStart,\n      coverEnd: mEnd\n    };\n  }\n\n  function getUsefulRect(rects, bias) {\n    var rect = nullRect;\n\n    if (bias == \"left\") {\n      for (var i = 0; i < rects.length; i++) {\n        if ((rect = rects[i]).left != rect.right) {\n          break;\n        }\n      }\n    } else {\n      for (var i$1 = rects.length - 1; i$1 >= 0; i$1--) {\n        if ((rect = rects[i$1]).left != rect.right) {\n          break;\n        }\n      }\n    }\n\n    return rect;\n  }\n\n  function measureCharInner(cm, prepared, ch, bias) {\n    var place = nodeAndOffsetInLineMap(prepared.map, ch, bias);\n    var node = place.node,\n        start = place.start,\n        end = place.end,\n        collapse = place.collapse;\n    var rect;\n\n    if (node.nodeType == 3) {\n      // If it is a text node, use a range to retrieve the coordinates.\n      for (var i$1 = 0; i$1 < 4; i$1++) {\n        // Retry a maximum of 4 times when nonsense rectangles are returned\n        while (start && isExtendingChar(prepared.line.text.charAt(place.coverStart + start))) {\n          --start;\n        }\n\n        while (place.coverStart + end < place.coverEnd && isExtendingChar(prepared.line.text.charAt(place.coverStart + end))) {\n          ++end;\n        }\n\n        if (ie && ie_version < 9 && start == 0 && end == place.coverEnd - place.coverStart) {\n          rect = node.parentNode.getBoundingClientRect();\n        } else {\n          rect = getUsefulRect(range(node, start, end).getClientRects(), bias);\n        }\n\n        if (rect.left || rect.right || start == 0) {\n          break;\n        }\n\n        end = start;\n        start = start - 1;\n        collapse = \"right\";\n      }\n\n      if (ie && ie_version < 11) {\n        rect = maybeUpdateRectForZooming(cm.display.measure, rect);\n      }\n    } else {\n      // If it is a widget, simply get the box for the whole widget.\n      if (start > 0) {\n        collapse = bias = \"right\";\n      }\n\n      var rects;\n\n      if (cm.options.lineWrapping && (rects = node.getClientRects()).length > 1) {\n        rect = rects[bias == \"right\" ? rects.length - 1 : 0];\n      } else {\n        rect = node.getBoundingClientRect();\n      }\n    }\n\n    if (ie && ie_version < 9 && !start && (!rect || !rect.left && !rect.right)) {\n      var rSpan = node.parentNode.getClientRects()[0];\n\n      if (rSpan) {\n        rect = {\n          left: rSpan.left,\n          right: rSpan.left + charWidth(cm.display),\n          top: rSpan.top,\n          bottom: rSpan.bottom\n        };\n      } else {\n        rect = nullRect;\n      }\n    }\n\n    var rtop = rect.top - prepared.rect.top,\n        rbot = rect.bottom - prepared.rect.top;\n    var mid = (rtop + rbot) / 2;\n    var heights = prepared.view.measure.heights;\n    var i = 0;\n\n    for (; i < heights.length - 1; i++) {\n      if (mid < heights[i]) {\n        break;\n      }\n    }\n\n    var top = i ? heights[i - 1] : 0,\n        bot = heights[i];\n    var result = {\n      left: (collapse == \"right\" ? rect.right : rect.left) - prepared.rect.left,\n      right: (collapse == \"left\" ? rect.left : rect.right) - prepared.rect.left,\n      top: top,\n      bottom: bot\n    };\n\n    if (!rect.left && !rect.right) {\n      result.bogus = true;\n    }\n\n    if (!cm.options.singleCursorHeightPerLine) {\n      result.rtop = rtop;\n      result.rbottom = rbot;\n    }\n\n    return result;\n  } // Work around problem with bounding client rects on ranges being\n  // returned incorrectly when zoomed on IE10 and below.\n\n\n  function maybeUpdateRectForZooming(measure, rect) {\n    if (!window.screen || screen.logicalXDPI == null || screen.logicalXDPI == screen.deviceXDPI || !hasBadZoomedRects(measure)) {\n      return rect;\n    }\n\n    var scaleX = screen.logicalXDPI / screen.deviceXDPI;\n    var scaleY = screen.logicalYDPI / screen.deviceYDPI;\n    return {\n      left: rect.left * scaleX,\n      right: rect.right * scaleX,\n      top: rect.top * scaleY,\n      bottom: rect.bottom * scaleY\n    };\n  }\n\n  function clearLineMeasurementCacheFor(lineView) {\n    if (lineView.measure) {\n      lineView.measure.cache = {};\n      lineView.measure.heights = null;\n\n      if (lineView.rest) {\n        for (var i = 0; i < lineView.rest.length; i++) {\n          lineView.measure.caches[i] = {};\n        }\n      }\n    }\n  }\n\n  function clearLineMeasurementCache(cm) {\n    cm.display.externalMeasure = null;\n    removeChildren(cm.display.lineMeasure);\n\n    for (var i = 0; i < cm.display.view.length; i++) {\n      clearLineMeasurementCacheFor(cm.display.view[i]);\n    }\n  }\n\n  function clearCaches(cm) {\n    clearLineMeasurementCache(cm);\n    cm.display.cachedCharWidth = cm.display.cachedTextHeight = cm.display.cachedPaddingH = null;\n\n    if (!cm.options.lineWrapping) {\n      cm.display.maxLineChanged = true;\n    }\n\n    cm.display.lineNumChars = null;\n  }\n\n  function pageScrollX() {\n    // Work around https://bugs.chromium.org/p/chromium/issues/detail?id=489206\n    // which causes page_Offset and bounding client rects to use\n    // different reference viewports and invalidate our calculations.\n    if (chrome && android) {\n      return -(document.body.getBoundingClientRect().left - parseInt(getComputedStyle(document.body).marginLeft));\n    }\n\n    return window.pageXOffset || (document.documentElement || document.body).scrollLeft;\n  }\n\n  function pageScrollY() {\n    if (chrome && android) {\n      return -(document.body.getBoundingClientRect().top - parseInt(getComputedStyle(document.body).marginTop));\n    }\n\n    return window.pageYOffset || (document.documentElement || document.body).scrollTop;\n  }\n\n  function widgetTopHeight(lineObj) {\n    var height = 0;\n\n    if (lineObj.widgets) {\n      for (var i = 0; i < lineObj.widgets.length; ++i) {\n        if (lineObj.widgets[i].above) {\n          height += widgetHeight(lineObj.widgets[i]);\n        }\n      }\n    }\n\n    return height;\n  } // Converts a {top, bottom, left, right} box from line-local\n  // coordinates into another coordinate system. Context may be one of\n  // \"line\", \"div\" (display.lineDiv), \"local\"./null (editor), \"window\",\n  // or \"page\".\n\n\n  function intoCoordSystem(cm, lineObj, rect, context, includeWidgets) {\n    if (!includeWidgets) {\n      var height = widgetTopHeight(lineObj);\n      rect.top += height;\n      rect.bottom += height;\n    }\n\n    if (context == \"line\") {\n      return rect;\n    }\n\n    if (!context) {\n      context = \"local\";\n    }\n\n    var yOff = heightAtLine(lineObj);\n\n    if (context == \"local\") {\n      yOff += paddingTop(cm.display);\n    } else {\n      yOff -= cm.display.viewOffset;\n    }\n\n    if (context == \"page\" || context == \"window\") {\n      var lOff = cm.display.lineSpace.getBoundingClientRect();\n      yOff += lOff.top + (context == \"window\" ? 0 : pageScrollY());\n      var xOff = lOff.left + (context == \"window\" ? 0 : pageScrollX());\n      rect.left += xOff;\n      rect.right += xOff;\n    }\n\n    rect.top += yOff;\n    rect.bottom += yOff;\n    return rect;\n  } // Coverts a box from \"div\" coords to another coordinate system.\n  // Context may be \"window\", \"page\", \"div\", or \"local\"./null.\n\n\n  function fromCoordSystem(cm, coords, context) {\n    if (context == \"div\") {\n      return coords;\n    }\n\n    var left = coords.left,\n        top = coords.top; // First move into \"page\" coordinate system\n\n    if (context == \"page\") {\n      left -= pageScrollX();\n      top -= pageScrollY();\n    } else if (context == \"local\" || !context) {\n      var localBox = cm.display.sizer.getBoundingClientRect();\n      left += localBox.left;\n      top += localBox.top;\n    }\n\n    var lineSpaceBox = cm.display.lineSpace.getBoundingClientRect();\n    return {\n      left: left - lineSpaceBox.left,\n      top: top - lineSpaceBox.top\n    };\n  }\n\n  function charCoords(cm, pos, context, lineObj, bias) {\n    if (!lineObj) {\n      lineObj = getLine(cm.doc, pos.line);\n    }\n\n    return intoCoordSystem(cm, lineObj, measureChar(cm, lineObj, pos.ch, bias), context);\n  } // Returns a box for a given cursor position, which may have an\n  // 'other' property containing the position of the secondary cursor\n  // on a bidi boundary.\n  // A cursor Pos(line, char, \"before\") is on the same visual line as `char - 1`\n  // and after `char - 1` in writing order of `char - 1`\n  // A cursor Pos(line, char, \"after\") is on the same visual line as `char`\n  // and before `char` in writing order of `char`\n  // Examples (upper-case letters are RTL, lower-case are LTR):\n  //     Pos(0, 1, ...)\n  //     before   after\n  // ab     a|b     a|b\n  // aB     a|B     aB|\n  // Ab     |Ab     A|b\n  // AB     B|A     B|A\n  // Every position after the last character on a line is considered to stick\n  // to the last character on the line.\n\n\n  function cursorCoords(cm, pos, context, lineObj, preparedMeasure, varHeight) {\n    lineObj = lineObj || getLine(cm.doc, pos.line);\n\n    if (!preparedMeasure) {\n      preparedMeasure = prepareMeasureForLine(cm, lineObj);\n    }\n\n    function get(ch, right) {\n      var m = measureCharPrepared(cm, preparedMeasure, ch, right ? \"right\" : \"left\", varHeight);\n\n      if (right) {\n        m.left = m.right;\n      } else {\n        m.right = m.left;\n      }\n\n      return intoCoordSystem(cm, lineObj, m, context);\n    }\n\n    var order = getOrder(lineObj, cm.doc.direction),\n        ch = pos.ch,\n        sticky = pos.sticky;\n\n    if (ch >= lineObj.text.length) {\n      ch = lineObj.text.length;\n      sticky = \"before\";\n    } else if (ch <= 0) {\n      ch = 0;\n      sticky = \"after\";\n    }\n\n    if (!order) {\n      return get(sticky == \"before\" ? ch - 1 : ch, sticky == \"before\");\n    }\n\n    function getBidi(ch, partPos, invert) {\n      var part = order[partPos],\n          right = part.level == 1;\n      return get(invert ? ch - 1 : ch, right != invert);\n    }\n\n    var partPos = getBidiPartAt(order, ch, sticky);\n    var other = bidiOther;\n    var val = getBidi(ch, partPos, sticky == \"before\");\n\n    if (other != null) {\n      val.other = getBidi(ch, other, sticky != \"before\");\n    }\n\n    return val;\n  } // Used to cheaply estimate the coordinates for a position. Used for\n  // intermediate scroll updates.\n\n\n  function estimateCoords(cm, pos) {\n    var left = 0;\n    pos = clipPos(cm.doc, pos);\n\n    if (!cm.options.lineWrapping) {\n      left = charWidth(cm.display) * pos.ch;\n    }\n\n    var lineObj = getLine(cm.doc, pos.line);\n    var top = heightAtLine(lineObj) + paddingTop(cm.display);\n    return {\n      left: left,\n      right: left,\n      top: top,\n      bottom: top + lineObj.height\n    };\n  } // Positions returned by coordsChar contain some extra information.\n  // xRel is the relative x position of the input coordinates compared\n  // to the found position (so xRel > 0 means the coordinates are to\n  // the right of the character position, for example). When outside\n  // is true, that means the coordinates lie outside the line's\n  // vertical range.\n\n\n  function PosWithInfo(line, ch, sticky, outside, xRel) {\n    var pos = Pos(line, ch, sticky);\n    pos.xRel = xRel;\n\n    if (outside) {\n      pos.outside = outside;\n    }\n\n    return pos;\n  } // Compute the character position closest to the given coordinates.\n  // Input must be lineSpace-local (\"div\" coordinate system).\n\n\n  function coordsChar(cm, x, y) {\n    var doc = cm.doc;\n    y += cm.display.viewOffset;\n\n    if (y < 0) {\n      return PosWithInfo(doc.first, 0, null, -1, -1);\n    }\n\n    var lineN = lineAtHeight(doc, y),\n        last = doc.first + doc.size - 1;\n\n    if (lineN > last) {\n      return PosWithInfo(doc.first + doc.size - 1, getLine(doc, last).text.length, null, 1, 1);\n    }\n\n    if (x < 0) {\n      x = 0;\n    }\n\n    var lineObj = getLine(doc, lineN);\n\n    for (;;) {\n      var found = coordsCharInner(cm, lineObj, lineN, x, y);\n      var collapsed = collapsedSpanAround(lineObj, found.ch + (found.xRel > 0 || found.outside > 0 ? 1 : 0));\n\n      if (!collapsed) {\n        return found;\n      }\n\n      var rangeEnd = collapsed.find(1);\n\n      if (rangeEnd.line == lineN) {\n        return rangeEnd;\n      }\n\n      lineObj = getLine(doc, lineN = rangeEnd.line);\n    }\n  }\n\n  function wrappedLineExtent(cm, lineObj, preparedMeasure, y) {\n    y -= widgetTopHeight(lineObj);\n    var end = lineObj.text.length;\n    var begin = findFirst(function (ch) {\n      return measureCharPrepared(cm, preparedMeasure, ch - 1).bottom <= y;\n    }, end, 0);\n    end = findFirst(function (ch) {\n      return measureCharPrepared(cm, preparedMeasure, ch).top > y;\n    }, begin, end);\n    return {\n      begin: begin,\n      end: end\n    };\n  }\n\n  function wrappedLineExtentChar(cm, lineObj, preparedMeasure, target) {\n    if (!preparedMeasure) {\n      preparedMeasure = prepareMeasureForLine(cm, lineObj);\n    }\n\n    var targetTop = intoCoordSystem(cm, lineObj, measureCharPrepared(cm, preparedMeasure, target), \"line\").top;\n    return wrappedLineExtent(cm, lineObj, preparedMeasure, targetTop);\n  } // Returns true if the given side of a box is after the given\n  // coordinates, in top-to-bottom, left-to-right order.\n\n\n  function boxIsAfter(box, x, y, left) {\n    return box.bottom <= y ? false : box.top > y ? true : (left ? box.left : box.right) > x;\n  }\n\n  function coordsCharInner(cm, lineObj, lineNo, x, y) {\n    // Move y into line-local coordinate space\n    y -= heightAtLine(lineObj);\n    var preparedMeasure = prepareMeasureForLine(cm, lineObj); // When directly calling `measureCharPrepared`, we have to adjust\n    // for the widgets at this line.\n\n    var widgetHeight = widgetTopHeight(lineObj);\n    var begin = 0,\n        end = lineObj.text.length,\n        ltr = true;\n    var order = getOrder(lineObj, cm.doc.direction); // If the line isn't plain left-to-right text, first figure out\n    // which bidi section the coordinates fall into.\n\n    if (order) {\n      var part = (cm.options.lineWrapping ? coordsBidiPartWrapped : coordsBidiPart)(cm, lineObj, lineNo, preparedMeasure, order, x, y);\n      ltr = part.level != 1; // The awkward -1 offsets are needed because findFirst (called\n      // on these below) will treat its first bound as inclusive,\n      // second as exclusive, but we want to actually address the\n      // characters in the part's range\n\n      begin = ltr ? part.from : part.to - 1;\n      end = ltr ? part.to : part.from - 1;\n    } // A binary search to find the first character whose bounding box\n    // starts after the coordinates. If we run across any whose box wrap\n    // the coordinates, store that.\n\n\n    var chAround = null,\n        boxAround = null;\n    var ch = findFirst(function (ch) {\n      var box = measureCharPrepared(cm, preparedMeasure, ch);\n      box.top += widgetHeight;\n      box.bottom += widgetHeight;\n\n      if (!boxIsAfter(box, x, y, false)) {\n        return false;\n      }\n\n      if (box.top <= y && box.left <= x) {\n        chAround = ch;\n        boxAround = box;\n      }\n\n      return true;\n    }, begin, end);\n    var baseX,\n        sticky,\n        outside = false; // If a box around the coordinates was found, use that\n\n    if (boxAround) {\n      // Distinguish coordinates nearer to the left or right side of the box\n      var atLeft = x - boxAround.left < boxAround.right - x,\n          atStart = atLeft == ltr;\n      ch = chAround + (atStart ? 0 : 1);\n      sticky = atStart ? \"after\" : \"before\";\n      baseX = atLeft ? boxAround.left : boxAround.right;\n    } else {\n      // (Adjust for extended bound, if necessary.)\n      if (!ltr && (ch == end || ch == begin)) {\n        ch++;\n      } // To determine which side to associate with, get the box to the\n      // left of the character and compare it's vertical position to the\n      // coordinates\n\n\n      sticky = ch == 0 ? \"after\" : ch == lineObj.text.length ? \"before\" : measureCharPrepared(cm, preparedMeasure, ch - (ltr ? 1 : 0)).bottom + widgetHeight <= y == ltr ? \"after\" : \"before\"; // Now get accurate coordinates for this place, in order to get a\n      // base X position\n\n      var coords = cursorCoords(cm, Pos(lineNo, ch, sticky), \"line\", lineObj, preparedMeasure);\n      baseX = coords.left;\n      outside = y < coords.top ? -1 : y >= coords.bottom ? 1 : 0;\n    }\n\n    ch = skipExtendingChars(lineObj.text, ch, 1);\n    return PosWithInfo(lineNo, ch, sticky, outside, x - baseX);\n  }\n\n  function coordsBidiPart(cm, lineObj, lineNo, preparedMeasure, order, x, y) {\n    // Bidi parts are sorted left-to-right, and in a non-line-wrapping\n    // situation, we can take this ordering to correspond to the visual\n    // ordering. This finds the first part whose end is after the given\n    // coordinates.\n    var index = findFirst(function (i) {\n      var part = order[i],\n          ltr = part.level != 1;\n      return boxIsAfter(cursorCoords(cm, Pos(lineNo, ltr ? part.to : part.from, ltr ? \"before\" : \"after\"), \"line\", lineObj, preparedMeasure), x, y, true);\n    }, 0, order.length - 1);\n    var part = order[index]; // If this isn't the first part, the part's start is also after\n    // the coordinates, and the coordinates aren't on the same line as\n    // that start, move one part back.\n\n    if (index > 0) {\n      var ltr = part.level != 1;\n      var start = cursorCoords(cm, Pos(lineNo, ltr ? part.from : part.to, ltr ? \"after\" : \"before\"), \"line\", lineObj, preparedMeasure);\n\n      if (boxIsAfter(start, x, y, true) && start.top > y) {\n        part = order[index - 1];\n      }\n    }\n\n    return part;\n  }\n\n  function coordsBidiPartWrapped(cm, lineObj, _lineNo, preparedMeasure, order, x, y) {\n    // In a wrapped line, rtl text on wrapping boundaries can do things\n    // that don't correspond to the ordering in our `order` array at\n    // all, so a binary search doesn't work, and we want to return a\n    // part that only spans one line so that the binary search in\n    // coordsCharInner is safe. As such, we first find the extent of the\n    // wrapped line, and then do a flat search in which we discard any\n    // spans that aren't on the line.\n    var ref = wrappedLineExtent(cm, lineObj, preparedMeasure, y);\n    var begin = ref.begin;\n    var end = ref.end;\n\n    if (/\\s/.test(lineObj.text.charAt(end - 1))) {\n      end--;\n    }\n\n    var part = null,\n        closestDist = null;\n\n    for (var i = 0; i < order.length; i++) {\n      var p = order[i];\n\n      if (p.from >= end || p.to <= begin) {\n        continue;\n      }\n\n      var ltr = p.level != 1;\n      var endX = measureCharPrepared(cm, preparedMeasure, ltr ? Math.min(end, p.to) - 1 : Math.max(begin, p.from)).right; // Weigh against spans ending before this, so that they are only\n      // picked if nothing ends after\n\n      var dist = endX < x ? x - endX + 1e9 : endX - x;\n\n      if (!part || closestDist > dist) {\n        part = p;\n        closestDist = dist;\n      }\n    }\n\n    if (!part) {\n      part = order[order.length - 1];\n    } // Clip the part to the wrapped line.\n\n\n    if (part.from < begin) {\n      part = {\n        from: begin,\n        to: part.to,\n        level: part.level\n      };\n    }\n\n    if (part.to > end) {\n      part = {\n        from: part.from,\n        to: end,\n        level: part.level\n      };\n    }\n\n    return part;\n  }\n\n  var measureText; // Compute the default text height.\n\n  function textHeight(display) {\n    if (display.cachedTextHeight != null) {\n      return display.cachedTextHeight;\n    }\n\n    if (measureText == null) {\n      measureText = elt(\"pre\", null, \"CodeMirror-line-like\"); // Measure a bunch of lines, for browsers that compute\n      // fractional heights.\n\n      for (var i = 0; i < 49; ++i) {\n        measureText.appendChild(document.createTextNode(\"x\"));\n        measureText.appendChild(elt(\"br\"));\n      }\n\n      measureText.appendChild(document.createTextNode(\"x\"));\n    }\n\n    removeChildrenAndAdd(display.measure, measureText);\n    var height = measureText.offsetHeight / 50;\n\n    if (height > 3) {\n      display.cachedTextHeight = height;\n    }\n\n    removeChildren(display.measure);\n    return height || 1;\n  } // Compute the default character width.\n\n\n  function charWidth(display) {\n    if (display.cachedCharWidth != null) {\n      return display.cachedCharWidth;\n    }\n\n    var anchor = elt(\"span\", \"xxxxxxxxxx\");\n    var pre = elt(\"pre\", [anchor], \"CodeMirror-line-like\");\n    removeChildrenAndAdd(display.measure, pre);\n    var rect = anchor.getBoundingClientRect(),\n        width = (rect.right - rect.left) / 10;\n\n    if (width > 2) {\n      display.cachedCharWidth = width;\n    }\n\n    return width || 10;\n  } // Do a bulk-read of the DOM positions and sizes needed to draw the\n  // view, so that we don't interleave reading and writing to the DOM.\n\n\n  function getDimensions(cm) {\n    var d = cm.display,\n        left = {},\n        width = {};\n    var gutterLeft = d.gutters.clientLeft;\n\n    for (var n = d.gutters.firstChild, i = 0; n; n = n.nextSibling, ++i) {\n      var id = cm.display.gutterSpecs[i].className;\n      left[id] = n.offsetLeft + n.clientLeft + gutterLeft;\n      width[id] = n.clientWidth;\n    }\n\n    return {\n      fixedPos: compensateForHScroll(d),\n      gutterTotalWidth: d.gutters.offsetWidth,\n      gutterLeft: left,\n      gutterWidth: width,\n      wrapperWidth: d.wrapper.clientWidth\n    };\n  } // Computes display.scroller.scrollLeft + display.gutters.offsetWidth,\n  // but using getBoundingClientRect to get a sub-pixel-accurate\n  // result.\n\n\n  function compensateForHScroll(display) {\n    return display.scroller.getBoundingClientRect().left - display.sizer.getBoundingClientRect().left;\n  } // Returns a function that estimates the height of a line, to use as\n  // first approximation until the line becomes visible (and is thus\n  // properly measurable).\n\n\n  function estimateHeight(cm) {\n    var th = textHeight(cm.display),\n        wrapping = cm.options.lineWrapping;\n    var perLine = wrapping && Math.max(5, cm.display.scroller.clientWidth / charWidth(cm.display) - 3);\n    return function (line) {\n      if (lineIsHidden(cm.doc, line)) {\n        return 0;\n      }\n\n      var widgetsHeight = 0;\n\n      if (line.widgets) {\n        for (var i = 0; i < line.widgets.length; i++) {\n          if (line.widgets[i].height) {\n            widgetsHeight += line.widgets[i].height;\n          }\n        }\n      }\n\n      if (wrapping) {\n        return widgetsHeight + (Math.ceil(line.text.length / perLine) || 1) * th;\n      } else {\n        return widgetsHeight + th;\n      }\n    };\n  }\n\n  function estimateLineHeights(cm) {\n    var doc = cm.doc,\n        est = estimateHeight(cm);\n    doc.iter(function (line) {\n      var estHeight = est(line);\n\n      if (estHeight != line.height) {\n        updateLineHeight(line, estHeight);\n      }\n    });\n  } // Given a mouse event, find the corresponding position. If liberal\n  // is false, it checks whether a gutter or scrollbar was clicked,\n  // and returns null if it was. forRect is used by rectangular\n  // selections, and tries to estimate a character position even for\n  // coordinates beyond the right of the text.\n\n\n  function posFromMouse(cm, e, liberal, forRect) {\n    var display = cm.display;\n\n    if (!liberal && e_target(e).getAttribute(\"cm-not-content\") == \"true\") {\n      return null;\n    }\n\n    var x,\n        y,\n        space = display.lineSpace.getBoundingClientRect(); // Fails unpredictably on IE[67] when mouse is dragged around quickly.\n\n    try {\n      x = e.clientX - space.left;\n      y = e.clientY - space.top;\n    } catch (e) {\n      return null;\n    }\n\n    var coords = coordsChar(cm, x, y),\n        line;\n\n    if (forRect && coords.xRel > 0 && (line = getLine(cm.doc, coords.line).text).length == coords.ch) {\n      var colDiff = countColumn(line, line.length, cm.options.tabSize) - line.length;\n      coords = Pos(coords.line, Math.max(0, Math.round((x - paddingH(cm.display).left) / charWidth(cm.display)) - colDiff));\n    }\n\n    return coords;\n  } // Find the view element corresponding to a given line. Return null\n  // when the line isn't visible.\n\n\n  function findViewIndex(cm, n) {\n    if (n >= cm.display.viewTo) {\n      return null;\n    }\n\n    n -= cm.display.viewFrom;\n\n    if (n < 0) {\n      return null;\n    }\n\n    var view = cm.display.view;\n\n    for (var i = 0; i < view.length; i++) {\n      n -= view[i].size;\n\n      if (n < 0) {\n        return i;\n      }\n    }\n  } // Updates the display.view data structure for a given change to the\n  // document. From and to are in pre-change coordinates. Lendiff is\n  // the amount of lines added or subtracted by the change. This is\n  // used for changes that span multiple lines, or change the way\n  // lines are divided into visual lines. regLineChange (below)\n  // registers single-line changes.\n\n\n  function regChange(cm, from, to, lendiff) {\n    if (from == null) {\n      from = cm.doc.first;\n    }\n\n    if (to == null) {\n      to = cm.doc.first + cm.doc.size;\n    }\n\n    if (!lendiff) {\n      lendiff = 0;\n    }\n\n    var display = cm.display;\n\n    if (lendiff && to < display.viewTo && (display.updateLineNumbers == null || display.updateLineNumbers > from)) {\n      display.updateLineNumbers = from;\n    }\n\n    cm.curOp.viewChanged = true;\n\n    if (from >= display.viewTo) {\n      // Change after\n      if (sawCollapsedSpans && visualLineNo(cm.doc, from) < display.viewTo) {\n        resetView(cm);\n      }\n    } else if (to <= display.viewFrom) {\n      // Change before\n      if (sawCollapsedSpans && visualLineEndNo(cm.doc, to + lendiff) > display.viewFrom) {\n        resetView(cm);\n      } else {\n        display.viewFrom += lendiff;\n        display.viewTo += lendiff;\n      }\n    } else if (from <= display.viewFrom && to >= display.viewTo) {\n      // Full overlap\n      resetView(cm);\n    } else if (from <= display.viewFrom) {\n      // Top overlap\n      var cut = viewCuttingPoint(cm, to, to + lendiff, 1);\n\n      if (cut) {\n        display.view = display.view.slice(cut.index);\n        display.viewFrom = cut.lineN;\n        display.viewTo += lendiff;\n      } else {\n        resetView(cm);\n      }\n    } else if (to >= display.viewTo) {\n      // Bottom overlap\n      var cut$1 = viewCuttingPoint(cm, from, from, -1);\n\n      if (cut$1) {\n        display.view = display.view.slice(0, cut$1.index);\n        display.viewTo = cut$1.lineN;\n      } else {\n        resetView(cm);\n      }\n    } else {\n      // Gap in the middle\n      var cutTop = viewCuttingPoint(cm, from, from, -1);\n      var cutBot = viewCuttingPoint(cm, to, to + lendiff, 1);\n\n      if (cutTop && cutBot) {\n        display.view = display.view.slice(0, cutTop.index).concat(buildViewArray(cm, cutTop.lineN, cutBot.lineN)).concat(display.view.slice(cutBot.index));\n        display.viewTo += lendiff;\n      } else {\n        resetView(cm);\n      }\n    }\n\n    var ext = display.externalMeasured;\n\n    if (ext) {\n      if (to < ext.lineN) {\n        ext.lineN += lendiff;\n      } else if (from < ext.lineN + ext.size) {\n        display.externalMeasured = null;\n      }\n    }\n  } // Register a change to a single line. Type must be one of \"text\",\n  // \"gutter\", \"class\", \"widget\"\n\n\n  function regLineChange(cm, line, type) {\n    cm.curOp.viewChanged = true;\n    var display = cm.display,\n        ext = cm.display.externalMeasured;\n\n    if (ext && line >= ext.lineN && line < ext.lineN + ext.size) {\n      display.externalMeasured = null;\n    }\n\n    if (line < display.viewFrom || line >= display.viewTo) {\n      return;\n    }\n\n    var lineView = display.view[findViewIndex(cm, line)];\n\n    if (lineView.node == null) {\n      return;\n    }\n\n    var arr = lineView.changes || (lineView.changes = []);\n\n    if (indexOf(arr, type) == -1) {\n      arr.push(type);\n    }\n  } // Clear the view.\n\n\n  function resetView(cm) {\n    cm.display.viewFrom = cm.display.viewTo = cm.doc.first;\n    cm.display.view = [];\n    cm.display.viewOffset = 0;\n  }\n\n  function viewCuttingPoint(cm, oldN, newN, dir) {\n    var index = findViewIndex(cm, oldN),\n        diff,\n        view = cm.display.view;\n\n    if (!sawCollapsedSpans || newN == cm.doc.first + cm.doc.size) {\n      return {\n        index: index,\n        lineN: newN\n      };\n    }\n\n    var n = cm.display.viewFrom;\n\n    for (var i = 0; i < index; i++) {\n      n += view[i].size;\n    }\n\n    if (n != oldN) {\n      if (dir > 0) {\n        if (index == view.length - 1) {\n          return null;\n        }\n\n        diff = n + view[index].size - oldN;\n        index++;\n      } else {\n        diff = n - oldN;\n      }\n\n      oldN += diff;\n      newN += diff;\n    }\n\n    while (visualLineNo(cm.doc, newN) != newN) {\n      if (index == (dir < 0 ? 0 : view.length - 1)) {\n        return null;\n      }\n\n      newN += dir * view[index - (dir < 0 ? 1 : 0)].size;\n      index += dir;\n    }\n\n    return {\n      index: index,\n      lineN: newN\n    };\n  } // Force the view to cover a given range, adding empty view element\n  // or clipping off existing ones as needed.\n\n\n  function adjustView(cm, from, to) {\n    var display = cm.display,\n        view = display.view;\n\n    if (view.length == 0 || from >= display.viewTo || to <= display.viewFrom) {\n      display.view = buildViewArray(cm, from, to);\n      display.viewFrom = from;\n    } else {\n      if (display.viewFrom > from) {\n        display.view = buildViewArray(cm, from, display.viewFrom).concat(display.view);\n      } else if (display.viewFrom < from) {\n        display.view = display.view.slice(findViewIndex(cm, from));\n      }\n\n      display.viewFrom = from;\n\n      if (display.viewTo < to) {\n        display.view = display.view.concat(buildViewArray(cm, display.viewTo, to));\n      } else if (display.viewTo > to) {\n        display.view = display.view.slice(0, findViewIndex(cm, to));\n      }\n    }\n\n    display.viewTo = to;\n  } // Count the number of lines in the view whose DOM representation is\n  // out of date (or nonexistent).\n\n\n  function countDirtyView(cm) {\n    var view = cm.display.view,\n        dirty = 0;\n\n    for (var i = 0; i < view.length; i++) {\n      var lineView = view[i];\n\n      if (!lineView.hidden && (!lineView.node || lineView.changes)) {\n        ++dirty;\n      }\n    }\n\n    return dirty;\n  }\n\n  function updateSelection(cm) {\n    cm.display.input.showSelection(cm.display.input.prepareSelection());\n  }\n\n  function prepareSelection(cm, primary) {\n    if (primary === void 0) primary = true;\n    var doc = cm.doc,\n        result = {};\n    var curFragment = result.cursors = document.createDocumentFragment();\n    var selFragment = result.selection = document.createDocumentFragment();\n\n    for (var i = 0; i < doc.sel.ranges.length; i++) {\n      if (!primary && i == doc.sel.primIndex) {\n        continue;\n      }\n\n      var range = doc.sel.ranges[i];\n\n      if (range.from().line >= cm.display.viewTo || range.to().line < cm.display.viewFrom) {\n        continue;\n      }\n\n      var collapsed = range.empty();\n\n      if (collapsed || cm.options.showCursorWhenSelecting) {\n        drawSelectionCursor(cm, range.head, curFragment);\n      }\n\n      if (!collapsed) {\n        drawSelectionRange(cm, range, selFragment);\n      }\n    }\n\n    return result;\n  } // Draws a cursor for the given range\n\n\n  function drawSelectionCursor(cm, head, output) {\n    var pos = cursorCoords(cm, head, \"div\", null, null, !cm.options.singleCursorHeightPerLine);\n    var cursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor\"));\n    cursor.style.left = pos.left + \"px\";\n    cursor.style.top = pos.top + \"px\";\n    cursor.style.height = Math.max(0, pos.bottom - pos.top) * cm.options.cursorHeight + \"px\";\n\n    if (pos.other) {\n      // Secondary cursor, shown when on a 'jump' in bi-directional text\n      var otherCursor = output.appendChild(elt(\"div\", \"\\u00a0\", \"CodeMirror-cursor CodeMirror-secondarycursor\"));\n      otherCursor.style.display = \"\";\n      otherCursor.style.left = pos.other.left + \"px\";\n      otherCursor.style.top = pos.other.top + \"px\";\n      otherCursor.style.height = (pos.other.bottom - pos.other.top) * .85 + \"px\";\n    }\n  }\n\n  function cmpCoords(a, b) {\n    return a.top - b.top || a.left - b.left;\n  } // Draws the given range as a highlighted selection\n\n\n  function drawSelectionRange(cm, range, output) {\n    var display = cm.display,\n        doc = cm.doc;\n    var fragment = document.createDocumentFragment();\n    var padding = paddingH(cm.display),\n        leftSide = padding.left;\n    var rightSide = Math.max(display.sizerWidth, displayWidth(cm) - display.sizer.offsetLeft) - padding.right;\n    var docLTR = doc.direction == \"ltr\";\n\n    function add(left, top, width, bottom) {\n      if (top < 0) {\n        top = 0;\n      }\n\n      top = Math.round(top);\n      bottom = Math.round(bottom);\n      fragment.appendChild(elt(\"div\", null, \"CodeMirror-selected\", \"position: absolute; left: \" + left + \"px;\\n                             top: \" + top + \"px; width: \" + (width == null ? rightSide - left : width) + \"px;\\n                             height: \" + (bottom - top) + \"px\"));\n    }\n\n    function drawForLine(line, fromArg, toArg) {\n      var lineObj = getLine(doc, line);\n      var lineLen = lineObj.text.length;\n      var start, end;\n\n      function coords(ch, bias) {\n        return charCoords(cm, Pos(line, ch), \"div\", lineObj, bias);\n      }\n\n      function wrapX(pos, dir, side) {\n        var extent = wrappedLineExtentChar(cm, lineObj, null, pos);\n        var prop = dir == \"ltr\" == (side == \"after\") ? \"left\" : \"right\";\n        var ch = side == \"after\" ? extent.begin : extent.end - (/\\s/.test(lineObj.text.charAt(extent.end - 1)) ? 2 : 1);\n        return coords(ch, prop)[prop];\n      }\n\n      var order = getOrder(lineObj, doc.direction);\n      iterateBidiSections(order, fromArg || 0, toArg == null ? lineLen : toArg, function (from, to, dir, i) {\n        var ltr = dir == \"ltr\";\n        var fromPos = coords(from, ltr ? \"left\" : \"right\");\n        var toPos = coords(to - 1, ltr ? \"right\" : \"left\");\n        var openStart = fromArg == null && from == 0,\n            openEnd = toArg == null && to == lineLen;\n        var first = i == 0,\n            last = !order || i == order.length - 1;\n\n        if (toPos.top - fromPos.top <= 3) {\n          // Single line\n          var openLeft = (docLTR ? openStart : openEnd) && first;\n          var openRight = (docLTR ? openEnd : openStart) && last;\n          var left = openLeft ? leftSide : (ltr ? fromPos : toPos).left;\n          var right = openRight ? rightSide : (ltr ? toPos : fromPos).right;\n          add(left, fromPos.top, right - left, fromPos.bottom);\n        } else {\n          // Multiple lines\n          var topLeft, topRight, botLeft, botRight;\n\n          if (ltr) {\n            topLeft = docLTR && openStart && first ? leftSide : fromPos.left;\n            topRight = docLTR ? rightSide : wrapX(from, dir, \"before\");\n            botLeft = docLTR ? leftSide : wrapX(to, dir, \"after\");\n            botRight = docLTR && openEnd && last ? rightSide : toPos.right;\n          } else {\n            topLeft = !docLTR ? leftSide : wrapX(from, dir, \"before\");\n            topRight = !docLTR && openStart && first ? rightSide : fromPos.right;\n            botLeft = !docLTR && openEnd && last ? leftSide : toPos.left;\n            botRight = !docLTR ? rightSide : wrapX(to, dir, \"after\");\n          }\n\n          add(topLeft, fromPos.top, topRight - topLeft, fromPos.bottom);\n\n          if (fromPos.bottom < toPos.top) {\n            add(leftSide, fromPos.bottom, null, toPos.top);\n          }\n\n          add(botLeft, toPos.top, botRight - botLeft, toPos.bottom);\n        }\n\n        if (!start || cmpCoords(fromPos, start) < 0) {\n          start = fromPos;\n        }\n\n        if (cmpCoords(toPos, start) < 0) {\n          start = toPos;\n        }\n\n        if (!end || cmpCoords(fromPos, end) < 0) {\n          end = fromPos;\n        }\n\n        if (cmpCoords(toPos, end) < 0) {\n          end = toPos;\n        }\n      });\n      return {\n        start: start,\n        end: end\n      };\n    }\n\n    var sFrom = range.from(),\n        sTo = range.to();\n\n    if (sFrom.line == sTo.line) {\n      drawForLine(sFrom.line, sFrom.ch, sTo.ch);\n    } else {\n      var fromLine = getLine(doc, sFrom.line),\n          toLine = getLine(doc, sTo.line);\n      var singleVLine = visualLine(fromLine) == visualLine(toLine);\n      var leftEnd = drawForLine(sFrom.line, sFrom.ch, singleVLine ? fromLine.text.length + 1 : null).end;\n      var rightStart = drawForLine(sTo.line, singleVLine ? 0 : null, sTo.ch).start;\n\n      if (singleVLine) {\n        if (leftEnd.top < rightStart.top - 2) {\n          add(leftEnd.right, leftEnd.top, null, leftEnd.bottom);\n          add(leftSide, rightStart.top, rightStart.left, rightStart.bottom);\n        } else {\n          add(leftEnd.right, leftEnd.top, rightStart.left - leftEnd.right, leftEnd.bottom);\n        }\n      }\n\n      if (leftEnd.bottom < rightStart.top) {\n        add(leftSide, leftEnd.bottom, null, rightStart.top);\n      }\n    }\n\n    output.appendChild(fragment);\n  } // Cursor-blinking\n\n\n  function restartBlink(cm) {\n    if (!cm.state.focused) {\n      return;\n    }\n\n    var display = cm.display;\n    clearInterval(display.blinker);\n    var on = true;\n    display.cursorDiv.style.visibility = \"\";\n\n    if (cm.options.cursorBlinkRate > 0) {\n      display.blinker = setInterval(function () {\n        return display.cursorDiv.style.visibility = (on = !on) ? \"\" : \"hidden\";\n      }, cm.options.cursorBlinkRate);\n    } else if (cm.options.cursorBlinkRate < 0) {\n      display.cursorDiv.style.visibility = \"hidden\";\n    }\n  }\n\n  function ensureFocus(cm) {\n    if (!cm.state.focused) {\n      cm.display.input.focus();\n      onFocus(cm);\n    }\n  }\n\n  function delayBlurEvent(cm) {\n    cm.state.delayingBlurEvent = true;\n    setTimeout(function () {\n      if (cm.state.delayingBlurEvent) {\n        cm.state.delayingBlurEvent = false;\n        onBlur(cm);\n      }\n    }, 100);\n  }\n\n  function onFocus(cm, e) {\n    if (cm.state.delayingBlurEvent) {\n      cm.state.delayingBlurEvent = false;\n    }\n\n    if (cm.options.readOnly == \"nocursor\") {\n      return;\n    }\n\n    if (!cm.state.focused) {\n      signal(cm, \"focus\", cm, e);\n      cm.state.focused = true;\n      addClass(cm.display.wrapper, \"CodeMirror-focused\"); // This test prevents this from firing when a context\n      // menu is closed (since the input reset would kill the\n      // select-all detection hack)\n\n      if (!cm.curOp && cm.display.selForContextMenu != cm.doc.sel) {\n        cm.display.input.reset();\n\n        if (webkit) {\n          setTimeout(function () {\n            return cm.display.input.reset(true);\n          }, 20);\n        } // Issue #1730\n\n      }\n\n      cm.display.input.receivedFocus();\n    }\n\n    restartBlink(cm);\n  }\n\n  function onBlur(cm, e) {\n    if (cm.state.delayingBlurEvent) {\n      return;\n    }\n\n    if (cm.state.focused) {\n      signal(cm, \"blur\", cm, e);\n      cm.state.focused = false;\n      rmClass(cm.display.wrapper, \"CodeMirror-focused\");\n    }\n\n    clearInterval(cm.display.blinker);\n    setTimeout(function () {\n      if (!cm.state.focused) {\n        cm.display.shift = false;\n      }\n    }, 150);\n  } // Read the actual heights of the rendered lines, and update their\n  // stored heights to match.\n\n\n  function updateHeightsInViewport(cm) {\n    var display = cm.display;\n    var prevBottom = display.lineDiv.offsetTop;\n\n    for (var i = 0; i < display.view.length; i++) {\n      var cur = display.view[i],\n          wrapping = cm.options.lineWrapping;\n      var height = void 0,\n          width = 0;\n\n      if (cur.hidden) {\n        continue;\n      }\n\n      if (ie && ie_version < 8) {\n        var bot = cur.node.offsetTop + cur.node.offsetHeight;\n        height = bot - prevBottom;\n        prevBottom = bot;\n      } else {\n        var box = cur.node.getBoundingClientRect();\n        height = box.bottom - box.top; // Check that lines don't extend past the right of the current\n        // editor width\n\n        if (!wrapping && cur.text.firstChild) {\n          width = cur.text.firstChild.getBoundingClientRect().right - box.left - 1;\n        }\n      }\n\n      var diff = cur.line.height - height;\n\n      if (diff > .005 || diff < -.005) {\n        updateLineHeight(cur.line, height);\n        updateWidgetHeight(cur.line);\n\n        if (cur.rest) {\n          for (var j = 0; j < cur.rest.length; j++) {\n            updateWidgetHeight(cur.rest[j]);\n          }\n        }\n      }\n\n      if (width > cm.display.sizerWidth) {\n        var chWidth = Math.ceil(width / charWidth(cm.display));\n\n        if (chWidth > cm.display.maxLineLength) {\n          cm.display.maxLineLength = chWidth;\n          cm.display.maxLine = cur.line;\n          cm.display.maxLineChanged = true;\n        }\n      }\n    }\n  } // Read and store the height of line widgets associated with the\n  // given line.\n\n\n  function updateWidgetHeight(line) {\n    if (line.widgets) {\n      for (var i = 0; i < line.widgets.length; ++i) {\n        var w = line.widgets[i],\n            parent = w.node.parentNode;\n\n        if (parent) {\n          w.height = parent.offsetHeight;\n        }\n      }\n    }\n  } // Compute the lines that are visible in a given viewport (defaults\n  // the the current scroll position). viewport may contain top,\n  // height, and ensure (see op.scrollToPos) properties.\n\n\n  function visibleLines(display, doc, viewport) {\n    var top = viewport && viewport.top != null ? Math.max(0, viewport.top) : display.scroller.scrollTop;\n    top = Math.floor(top - paddingTop(display));\n    var bottom = viewport && viewport.bottom != null ? viewport.bottom : top + display.wrapper.clientHeight;\n    var from = lineAtHeight(doc, top),\n        to = lineAtHeight(doc, bottom); // Ensure is a {from: {line, ch}, to: {line, ch}} object, and\n    // forces those lines into the viewport (if possible).\n\n    if (viewport && viewport.ensure) {\n      var ensureFrom = viewport.ensure.from.line,\n          ensureTo = viewport.ensure.to.line;\n\n      if (ensureFrom < from) {\n        from = ensureFrom;\n        to = lineAtHeight(doc, heightAtLine(getLine(doc, ensureFrom)) + display.wrapper.clientHeight);\n      } else if (Math.min(ensureTo, doc.lastLine()) >= to) {\n        from = lineAtHeight(doc, heightAtLine(getLine(doc, ensureTo)) - display.wrapper.clientHeight);\n        to = ensureTo;\n      }\n    }\n\n    return {\n      from: from,\n      to: Math.max(to, from + 1)\n    };\n  } // SCROLLING THINGS INTO VIEW\n  // If an editor sits on the top or bottom of the window, partially\n  // scrolled out of view, this ensures that the cursor is visible.\n\n\n  function maybeScrollWindow(cm, rect) {\n    if (signalDOMEvent(cm, \"scrollCursorIntoView\")) {\n      return;\n    }\n\n    var display = cm.display,\n        box = display.sizer.getBoundingClientRect(),\n        doScroll = null;\n\n    if (rect.top + box.top < 0) {\n      doScroll = true;\n    } else if (rect.bottom + box.top > (window.innerHeight || document.documentElement.clientHeight)) {\n      doScroll = false;\n    }\n\n    if (doScroll != null && !phantom) {\n      var scrollNode = elt(\"div\", \"\\u200b\", null, \"position: absolute;\\n                         top: \" + (rect.top - display.viewOffset - paddingTop(cm.display)) + \"px;\\n                         height: \" + (rect.bottom - rect.top + scrollGap(cm) + display.barHeight) + \"px;\\n                         left: \" + rect.left + \"px; width: \" + Math.max(2, rect.right - rect.left) + \"px;\");\n      cm.display.lineSpace.appendChild(scrollNode);\n      scrollNode.scrollIntoView(doScroll);\n      cm.display.lineSpace.removeChild(scrollNode);\n    }\n  } // Scroll a given position into view (immediately), verifying that\n  // it actually became visible (as line heights are accurately\n  // measured, the position of something may 'drift' during drawing).\n\n\n  function scrollPosIntoView(cm, pos, end, margin) {\n    if (margin == null) {\n      margin = 0;\n    }\n\n    var rect;\n\n    if (!cm.options.lineWrapping && pos == end) {\n      // Set pos and end to the cursor positions around the character pos sticks to\n      // If pos.sticky == \"before\", that is around pos.ch - 1, otherwise around pos.ch\n      // If pos == Pos(_, 0, \"before\"), pos and end are unchanged\n      pos = pos.ch ? Pos(pos.line, pos.sticky == \"before\" ? pos.ch - 1 : pos.ch, \"after\") : pos;\n      end = pos.sticky == \"before\" ? Pos(pos.line, pos.ch + 1, \"before\") : pos;\n    }\n\n    for (var limit = 0; limit < 5; limit++) {\n      var changed = false;\n      var coords = cursorCoords(cm, pos);\n      var endCoords = !end || end == pos ? coords : cursorCoords(cm, end);\n      rect = {\n        left: Math.min(coords.left, endCoords.left),\n        top: Math.min(coords.top, endCoords.top) - margin,\n        right: Math.max(coords.left, endCoords.left),\n        bottom: Math.max(coords.bottom, endCoords.bottom) + margin\n      };\n      var scrollPos = calculateScrollPos(cm, rect);\n      var startTop = cm.doc.scrollTop,\n          startLeft = cm.doc.scrollLeft;\n\n      if (scrollPos.scrollTop != null) {\n        updateScrollTop(cm, scrollPos.scrollTop);\n\n        if (Math.abs(cm.doc.scrollTop - startTop) > 1) {\n          changed = true;\n        }\n      }\n\n      if (scrollPos.scrollLeft != null) {\n        setScrollLeft(cm, scrollPos.scrollLeft);\n\n        if (Math.abs(cm.doc.scrollLeft - startLeft) > 1) {\n          changed = true;\n        }\n      }\n\n      if (!changed) {\n        break;\n      }\n    }\n\n    return rect;\n  } // Scroll a given set of coordinates into view (immediately).\n\n\n  function scrollIntoView(cm, rect) {\n    var scrollPos = calculateScrollPos(cm, rect);\n\n    if (scrollPos.scrollTop != null) {\n      updateScrollTop(cm, scrollPos.scrollTop);\n    }\n\n    if (scrollPos.scrollLeft != null) {\n      setScrollLeft(cm, scrollPos.scrollLeft);\n    }\n  } // Calculate a new scroll position needed to scroll the given\n  // rectangle into view. Returns an object with scrollTop and\n  // scrollLeft properties. When these are undefined, the\n  // vertical/horizontal position does not need to be adjusted.\n\n\n  function calculateScrollPos(cm, rect) {\n    var display = cm.display,\n        snapMargin = textHeight(cm.display);\n\n    if (rect.top < 0) {\n      rect.top = 0;\n    }\n\n    var screentop = cm.curOp && cm.curOp.scrollTop != null ? cm.curOp.scrollTop : display.scroller.scrollTop;\n    var screen = displayHeight(cm),\n        result = {};\n\n    if (rect.bottom - rect.top > screen) {\n      rect.bottom = rect.top + screen;\n    }\n\n    var docBottom = cm.doc.height + paddingVert(display);\n    var atTop = rect.top < snapMargin,\n        atBottom = rect.bottom > docBottom - snapMargin;\n\n    if (rect.top < screentop) {\n      result.scrollTop = atTop ? 0 : rect.top;\n    } else if (rect.bottom > screentop + screen) {\n      var newTop = Math.min(rect.top, (atBottom ? docBottom : rect.bottom) - screen);\n\n      if (newTop != screentop) {\n        result.scrollTop = newTop;\n      }\n    }\n\n    var screenleft = cm.curOp && cm.curOp.scrollLeft != null ? cm.curOp.scrollLeft : display.scroller.scrollLeft;\n    var screenw = displayWidth(cm) - (cm.options.fixedGutter ? display.gutters.offsetWidth : 0);\n    var tooWide = rect.right - rect.left > screenw;\n\n    if (tooWide) {\n      rect.right = rect.left + screenw;\n    }\n\n    if (rect.left < 10) {\n      result.scrollLeft = 0;\n    } else if (rect.left < screenleft) {\n      result.scrollLeft = Math.max(0, rect.left - (tooWide ? 0 : 10));\n    } else if (rect.right > screenw + screenleft - 3) {\n      result.scrollLeft = rect.right + (tooWide ? 0 : 10) - screenw;\n    }\n\n    return result;\n  } // Store a relative adjustment to the scroll position in the current\n  // operation (to be applied when the operation finishes).\n\n\n  function addToScrollTop(cm, top) {\n    if (top == null) {\n      return;\n    }\n\n    resolveScrollToPos(cm);\n    cm.curOp.scrollTop = (cm.curOp.scrollTop == null ? cm.doc.scrollTop : cm.curOp.scrollTop) + top;\n  } // Make sure that at the end of the operation the current cursor is\n  // shown.\n\n\n  function ensureCursorVisible(cm) {\n    resolveScrollToPos(cm);\n    var cur = cm.getCursor();\n    cm.curOp.scrollToPos = {\n      from: cur,\n      to: cur,\n      margin: cm.options.cursorScrollMargin\n    };\n  }\n\n  function scrollToCoords(cm, x, y) {\n    if (x != null || y != null) {\n      resolveScrollToPos(cm);\n    }\n\n    if (x != null) {\n      cm.curOp.scrollLeft = x;\n    }\n\n    if (y != null) {\n      cm.curOp.scrollTop = y;\n    }\n  }\n\n  function scrollToRange(cm, range) {\n    resolveScrollToPos(cm);\n    cm.curOp.scrollToPos = range;\n  } // When an operation has its scrollToPos property set, and another\n  // scroll action is applied before the end of the operation, this\n  // 'simulates' scrolling that position into view in a cheap way, so\n  // that the effect of intermediate scroll commands is not ignored.\n\n\n  function resolveScrollToPos(cm) {\n    var range = cm.curOp.scrollToPos;\n\n    if (range) {\n      cm.curOp.scrollToPos = null;\n      var from = estimateCoords(cm, range.from),\n          to = estimateCoords(cm, range.to);\n      scrollToCoordsRange(cm, from, to, range.margin);\n    }\n  }\n\n  function scrollToCoordsRange(cm, from, to, margin) {\n    var sPos = calculateScrollPos(cm, {\n      left: Math.min(from.left, to.left),\n      top: Math.min(from.top, to.top) - margin,\n      right: Math.max(from.right, to.right),\n      bottom: Math.max(from.bottom, to.bottom) + margin\n    });\n    scrollToCoords(cm, sPos.scrollLeft, sPos.scrollTop);\n  } // Sync the scrollable area and scrollbars, ensure the viewport\n  // covers the visible area.\n\n\n  function updateScrollTop(cm, val) {\n    if (Math.abs(cm.doc.scrollTop - val) < 2) {\n      return;\n    }\n\n    if (!gecko) {\n      updateDisplaySimple(cm, {\n        top: val\n      });\n    }\n\n    setScrollTop(cm, val, true);\n\n    if (gecko) {\n      updateDisplaySimple(cm);\n    }\n\n    startWorker(cm, 100);\n  }\n\n  function setScrollTop(cm, val, forceScroll) {\n    val = Math.max(0, Math.min(cm.display.scroller.scrollHeight - cm.display.scroller.clientHeight, val));\n\n    if (cm.display.scroller.scrollTop == val && !forceScroll) {\n      return;\n    }\n\n    cm.doc.scrollTop = val;\n    cm.display.scrollbars.setScrollTop(val);\n\n    if (cm.display.scroller.scrollTop != val) {\n      cm.display.scroller.scrollTop = val;\n    }\n  } // Sync scroller and scrollbar, ensure the gutter elements are\n  // aligned.\n\n\n  function setScrollLeft(cm, val, isScroller, forceScroll) {\n    val = Math.max(0, Math.min(val, cm.display.scroller.scrollWidth - cm.display.scroller.clientWidth));\n\n    if ((isScroller ? val == cm.doc.scrollLeft : Math.abs(cm.doc.scrollLeft - val) < 2) && !forceScroll) {\n      return;\n    }\n\n    cm.doc.scrollLeft = val;\n    alignHorizontally(cm);\n\n    if (cm.display.scroller.scrollLeft != val) {\n      cm.display.scroller.scrollLeft = val;\n    }\n\n    cm.display.scrollbars.setScrollLeft(val);\n  } // SCROLLBARS\n  // Prepare DOM reads needed to update the scrollbars. Done in one\n  // shot to minimize update/measure roundtrips.\n\n\n  function measureForScrollbars(cm) {\n    var d = cm.display,\n        gutterW = d.gutters.offsetWidth;\n    var docH = Math.round(cm.doc.height + paddingVert(cm.display));\n    return {\n      clientHeight: d.scroller.clientHeight,\n      viewHeight: d.wrapper.clientHeight,\n      scrollWidth: d.scroller.scrollWidth,\n      clientWidth: d.scroller.clientWidth,\n      viewWidth: d.wrapper.clientWidth,\n      barLeft: cm.options.fixedGutter ? gutterW : 0,\n      docHeight: docH,\n      scrollHeight: docH + scrollGap(cm) + d.barHeight,\n      nativeBarWidth: d.nativeBarWidth,\n      gutterWidth: gutterW\n    };\n  }\n\n  var NativeScrollbars = function (place, scroll, cm) {\n    this.cm = cm;\n    var vert = this.vert = elt(\"div\", [elt(\"div\", null, null, \"min-width: 1px\")], \"CodeMirror-vscrollbar\");\n    var horiz = this.horiz = elt(\"div\", [elt(\"div\", null, null, \"height: 100%; min-height: 1px\")], \"CodeMirror-hscrollbar\");\n    vert.tabIndex = horiz.tabIndex = -1;\n    place(vert);\n    place(horiz);\n    on(vert, \"scroll\", function () {\n      if (vert.clientHeight) {\n        scroll(vert.scrollTop, \"vertical\");\n      }\n    });\n    on(horiz, \"scroll\", function () {\n      if (horiz.clientWidth) {\n        scroll(horiz.scrollLeft, \"horizontal\");\n      }\n    });\n    this.checkedZeroWidth = false; // Need to set a minimum width to see the scrollbar on IE7 (but must not set it on IE8).\n\n    if (ie && ie_version < 8) {\n      this.horiz.style.minHeight = this.vert.style.minWidth = \"18px\";\n    }\n  };\n\n  NativeScrollbars.prototype.update = function (measure) {\n    var needsH = measure.scrollWidth > measure.clientWidth + 1;\n    var needsV = measure.scrollHeight > measure.clientHeight + 1;\n    var sWidth = measure.nativeBarWidth;\n\n    if (needsV) {\n      this.vert.style.display = \"block\";\n      this.vert.style.bottom = needsH ? sWidth + \"px\" : \"0\";\n      var totalHeight = measure.viewHeight - (needsH ? sWidth : 0); // A bug in IE8 can cause this value to be negative, so guard it.\n\n      this.vert.firstChild.style.height = Math.max(0, measure.scrollHeight - measure.clientHeight + totalHeight) + \"px\";\n    } else {\n      this.vert.style.display = \"\";\n      this.vert.firstChild.style.height = \"0\";\n    }\n\n    if (needsH) {\n      this.horiz.style.display = \"block\";\n      this.horiz.style.right = needsV ? sWidth + \"px\" : \"0\";\n      this.horiz.style.left = measure.barLeft + \"px\";\n      var totalWidth = measure.viewWidth - measure.barLeft - (needsV ? sWidth : 0);\n      this.horiz.firstChild.style.width = Math.max(0, measure.scrollWidth - measure.clientWidth + totalWidth) + \"px\";\n    } else {\n      this.horiz.style.display = \"\";\n      this.horiz.firstChild.style.width = \"0\";\n    }\n\n    if (!this.checkedZeroWidth && measure.clientHeight > 0) {\n      if (sWidth == 0) {\n        this.zeroWidthHack();\n      }\n\n      this.checkedZeroWidth = true;\n    }\n\n    return {\n      right: needsV ? sWidth : 0,\n      bottom: needsH ? sWidth : 0\n    };\n  };\n\n  NativeScrollbars.prototype.setScrollLeft = function (pos) {\n    if (this.horiz.scrollLeft != pos) {\n      this.horiz.scrollLeft = pos;\n    }\n\n    if (this.disableHoriz) {\n      this.enableZeroWidthBar(this.horiz, this.disableHoriz, \"horiz\");\n    }\n  };\n\n  NativeScrollbars.prototype.setScrollTop = function (pos) {\n    if (this.vert.scrollTop != pos) {\n      this.vert.scrollTop = pos;\n    }\n\n    if (this.disableVert) {\n      this.enableZeroWidthBar(this.vert, this.disableVert, \"vert\");\n    }\n  };\n\n  NativeScrollbars.prototype.zeroWidthHack = function () {\n    var w = mac && !mac_geMountainLion ? \"12px\" : \"18px\";\n    this.horiz.style.height = this.vert.style.width = w;\n    this.horiz.style.pointerEvents = this.vert.style.pointerEvents = \"none\";\n    this.disableHoriz = new Delayed();\n    this.disableVert = new Delayed();\n  };\n\n  NativeScrollbars.prototype.enableZeroWidthBar = function (bar, delay, type) {\n    bar.style.pointerEvents = \"auto\";\n\n    function maybeDisable() {\n      // To find out whether the scrollbar is still visible, we\n      // check whether the element under the pixel in the bottom\n      // right corner of the scrollbar box is the scrollbar box\n      // itself (when the bar is still visible) or its filler child\n      // (when the bar is hidden). If it is still visible, we keep\n      // it enabled, if it's hidden, we disable pointer events.\n      var box = bar.getBoundingClientRect();\n      var elt = type == \"vert\" ? document.elementFromPoint(box.right - 1, (box.top + box.bottom) / 2) : document.elementFromPoint((box.right + box.left) / 2, box.bottom - 1);\n\n      if (elt != bar) {\n        bar.style.pointerEvents = \"none\";\n      } else {\n        delay.set(1000, maybeDisable);\n      }\n    }\n\n    delay.set(1000, maybeDisable);\n  };\n\n  NativeScrollbars.prototype.clear = function () {\n    var parent = this.horiz.parentNode;\n    parent.removeChild(this.horiz);\n    parent.removeChild(this.vert);\n  };\n\n  var NullScrollbars = function () {};\n\n  NullScrollbars.prototype.update = function () {\n    return {\n      bottom: 0,\n      right: 0\n    };\n  };\n\n  NullScrollbars.prototype.setScrollLeft = function () {};\n\n  NullScrollbars.prototype.setScrollTop = function () {};\n\n  NullScrollbars.prototype.clear = function () {};\n\n  function updateScrollbars(cm, measure) {\n    if (!measure) {\n      measure = measureForScrollbars(cm);\n    }\n\n    var startWidth = cm.display.barWidth,\n        startHeight = cm.display.barHeight;\n    updateScrollbarsInner(cm, measure);\n\n    for (var i = 0; i < 4 && startWidth != cm.display.barWidth || startHeight != cm.display.barHeight; i++) {\n      if (startWidth != cm.display.barWidth && cm.options.lineWrapping) {\n        updateHeightsInViewport(cm);\n      }\n\n      updateScrollbarsInner(cm, measureForScrollbars(cm));\n      startWidth = cm.display.barWidth;\n      startHeight = cm.display.barHeight;\n    }\n  } // Re-synchronize the fake scrollbars with the actual size of the\n  // content.\n\n\n  function updateScrollbarsInner(cm, measure) {\n    var d = cm.display;\n    var sizes = d.scrollbars.update(measure);\n    d.sizer.style.paddingRight = (d.barWidth = sizes.right) + \"px\";\n    d.sizer.style.paddingBottom = (d.barHeight = sizes.bottom) + \"px\";\n    d.heightForcer.style.borderBottom = sizes.bottom + \"px solid transparent\";\n\n    if (sizes.right && sizes.bottom) {\n      d.scrollbarFiller.style.display = \"block\";\n      d.scrollbarFiller.style.height = sizes.bottom + \"px\";\n      d.scrollbarFiller.style.width = sizes.right + \"px\";\n    } else {\n      d.scrollbarFiller.style.display = \"\";\n    }\n\n    if (sizes.bottom && cm.options.coverGutterNextToScrollbar && cm.options.fixedGutter) {\n      d.gutterFiller.style.display = \"block\";\n      d.gutterFiller.style.height = sizes.bottom + \"px\";\n      d.gutterFiller.style.width = measure.gutterWidth + \"px\";\n    } else {\n      d.gutterFiller.style.display = \"\";\n    }\n  }\n\n  var scrollbarModel = {\n    \"native\": NativeScrollbars,\n    \"null\": NullScrollbars\n  };\n\n  function initScrollbars(cm) {\n    if (cm.display.scrollbars) {\n      cm.display.scrollbars.clear();\n\n      if (cm.display.scrollbars.addClass) {\n        rmClass(cm.display.wrapper, cm.display.scrollbars.addClass);\n      }\n    }\n\n    cm.display.scrollbars = new scrollbarModel[cm.options.scrollbarStyle](function (node) {\n      cm.display.wrapper.insertBefore(node, cm.display.scrollbarFiller); // Prevent clicks in the scrollbars from killing focus\n\n      on(node, \"mousedown\", function () {\n        if (cm.state.focused) {\n          setTimeout(function () {\n            return cm.display.input.focus();\n          }, 0);\n        }\n      });\n      node.setAttribute(\"cm-not-content\", \"true\");\n    }, function (pos, axis) {\n      if (axis == \"horizontal\") {\n        setScrollLeft(cm, pos);\n      } else {\n        updateScrollTop(cm, pos);\n      }\n    }, cm);\n\n    if (cm.display.scrollbars.addClass) {\n      addClass(cm.display.wrapper, cm.display.scrollbars.addClass);\n    }\n  } // Operations are used to wrap a series of changes to the editor\n  // state in such a way that each change won't have to update the\n  // cursor and display (which would be awkward, slow, and\n  // error-prone). Instead, display updates are batched and then all\n  // combined and executed at once.\n\n\n  var nextOpId = 0; // Start a new operation.\n\n  function startOperation(cm) {\n    cm.curOp = {\n      cm: cm,\n      viewChanged: false,\n      // Flag that indicates that lines might need to be redrawn\n      startHeight: cm.doc.height,\n      // Used to detect need to update scrollbar\n      forceUpdate: false,\n      // Used to force a redraw\n      updateInput: 0,\n      // Whether to reset the input textarea\n      typing: false,\n      // Whether this reset should be careful to leave existing text (for compositing)\n      changeObjs: null,\n      // Accumulated changes, for firing change events\n      cursorActivityHandlers: null,\n      // Set of handlers to fire cursorActivity on\n      cursorActivityCalled: 0,\n      // Tracks which cursorActivity handlers have been called already\n      selectionChanged: false,\n      // Whether the selection needs to be redrawn\n      updateMaxLine: false,\n      // Set when the widest line needs to be determined anew\n      scrollLeft: null,\n      scrollTop: null,\n      // Intermediate scroll position, not pushed to DOM yet\n      scrollToPos: null,\n      // Used to scroll to a specific position\n      focus: false,\n      id: ++nextOpId // Unique ID\n\n    };\n    pushOperation(cm.curOp);\n  } // Finish an operation, updating the display and signalling delayed events\n\n\n  function endOperation(cm) {\n    var op = cm.curOp;\n\n    if (op) {\n      finishOperation(op, function (group) {\n        for (var i = 0; i < group.ops.length; i++) {\n          group.ops[i].cm.curOp = null;\n        }\n\n        endOperations(group);\n      });\n    }\n  } // The DOM updates done when an operation finishes are batched so\n  // that the minimum number of relayouts are required.\n\n\n  function endOperations(group) {\n    var ops = group.ops;\n\n    for (var i = 0; i < ops.length; i++) // Read DOM\n    {\n      endOperation_R1(ops[i]);\n    }\n\n    for (var i$1 = 0; i$1 < ops.length; i$1++) // Write DOM (maybe)\n    {\n      endOperation_W1(ops[i$1]);\n    }\n\n    for (var i$2 = 0; i$2 < ops.length; i$2++) // Read DOM\n    {\n      endOperation_R2(ops[i$2]);\n    }\n\n    for (var i$3 = 0; i$3 < ops.length; i$3++) // Write DOM (maybe)\n    {\n      endOperation_W2(ops[i$3]);\n    }\n\n    for (var i$4 = 0; i$4 < ops.length; i$4++) // Read DOM\n    {\n      endOperation_finish(ops[i$4]);\n    }\n  }\n\n  function endOperation_R1(op) {\n    var cm = op.cm,\n        display = cm.display;\n    maybeClipScrollbars(cm);\n\n    if (op.updateMaxLine) {\n      findMaxLine(cm);\n    }\n\n    op.mustUpdate = op.viewChanged || op.forceUpdate || op.scrollTop != null || op.scrollToPos && (op.scrollToPos.from.line < display.viewFrom || op.scrollToPos.to.line >= display.viewTo) || display.maxLineChanged && cm.options.lineWrapping;\n    op.update = op.mustUpdate && new DisplayUpdate(cm, op.mustUpdate && {\n      top: op.scrollTop,\n      ensure: op.scrollToPos\n    }, op.forceUpdate);\n  }\n\n  function endOperation_W1(op) {\n    op.updatedDisplay = op.mustUpdate && updateDisplayIfNeeded(op.cm, op.update);\n  }\n\n  function endOperation_R2(op) {\n    var cm = op.cm,\n        display = cm.display;\n\n    if (op.updatedDisplay) {\n      updateHeightsInViewport(cm);\n    }\n\n    op.barMeasure = measureForScrollbars(cm); // If the max line changed since it was last measured, measure it,\n    // and ensure the document's width matches it.\n    // updateDisplay_W2 will use these properties to do the actual resizing\n\n    if (display.maxLineChanged && !cm.options.lineWrapping) {\n      op.adjustWidthTo = measureChar(cm, display.maxLine, display.maxLine.text.length).left + 3;\n      cm.display.sizerWidth = op.adjustWidthTo;\n      op.barMeasure.scrollWidth = Math.max(display.scroller.clientWidth, display.sizer.offsetLeft + op.adjustWidthTo + scrollGap(cm) + cm.display.barWidth);\n      op.maxScrollLeft = Math.max(0, display.sizer.offsetLeft + op.adjustWidthTo - displayWidth(cm));\n    }\n\n    if (op.updatedDisplay || op.selectionChanged) {\n      op.preparedSelection = display.input.prepareSelection();\n    }\n  }\n\n  function endOperation_W2(op) {\n    var cm = op.cm;\n\n    if (op.adjustWidthTo != null) {\n      cm.display.sizer.style.minWidth = op.adjustWidthTo + \"px\";\n\n      if (op.maxScrollLeft < cm.doc.scrollLeft) {\n        setScrollLeft(cm, Math.min(cm.display.scroller.scrollLeft, op.maxScrollLeft), true);\n      }\n\n      cm.display.maxLineChanged = false;\n    }\n\n    var takeFocus = op.focus && op.focus == activeElt();\n\n    if (op.preparedSelection) {\n      cm.display.input.showSelection(op.preparedSelection, takeFocus);\n    }\n\n    if (op.updatedDisplay || op.startHeight != cm.doc.height) {\n      updateScrollbars(cm, op.barMeasure);\n    }\n\n    if (op.updatedDisplay) {\n      setDocumentHeight(cm, op.barMeasure);\n    }\n\n    if (op.selectionChanged) {\n      restartBlink(cm);\n    }\n\n    if (cm.state.focused && op.updateInput) {\n      cm.display.input.reset(op.typing);\n    }\n\n    if (takeFocus) {\n      ensureFocus(op.cm);\n    }\n  }\n\n  function endOperation_finish(op) {\n    var cm = op.cm,\n        display = cm.display,\n        doc = cm.doc;\n\n    if (op.updatedDisplay) {\n      postUpdateDisplay(cm, op.update);\n    } // Abort mouse wheel delta measurement, when scrolling explicitly\n\n\n    if (display.wheelStartX != null && (op.scrollTop != null || op.scrollLeft != null || op.scrollToPos)) {\n      display.wheelStartX = display.wheelStartY = null;\n    } // Propagate the scroll position to the actual DOM scroller\n\n\n    if (op.scrollTop != null) {\n      setScrollTop(cm, op.scrollTop, op.forceScroll);\n    }\n\n    if (op.scrollLeft != null) {\n      setScrollLeft(cm, op.scrollLeft, true, true);\n    } // If we need to scroll a specific position into view, do so.\n\n\n    if (op.scrollToPos) {\n      var rect = scrollPosIntoView(cm, clipPos(doc, op.scrollToPos.from), clipPos(doc, op.scrollToPos.to), op.scrollToPos.margin);\n      maybeScrollWindow(cm, rect);\n    } // Fire events for markers that are hidden/unidden by editing or\n    // undoing\n\n\n    var hidden = op.maybeHiddenMarkers,\n        unhidden = op.maybeUnhiddenMarkers;\n\n    if (hidden) {\n      for (var i = 0; i < hidden.length; ++i) {\n        if (!hidden[i].lines.length) {\n          signal(hidden[i], \"hide\");\n        }\n      }\n    }\n\n    if (unhidden) {\n      for (var i$1 = 0; i$1 < unhidden.length; ++i$1) {\n        if (unhidden[i$1].lines.length) {\n          signal(unhidden[i$1], \"unhide\");\n        }\n      }\n    }\n\n    if (display.wrapper.offsetHeight) {\n      doc.scrollTop = cm.display.scroller.scrollTop;\n    } // Fire change events, and delayed event handlers\n\n\n    if (op.changeObjs) {\n      signal(cm, \"changes\", cm, op.changeObjs);\n    }\n\n    if (op.update) {\n      op.update.finish();\n    }\n  } // Run the given function in an operation\n\n\n  function runInOp(cm, f) {\n    if (cm.curOp) {\n      return f();\n    }\n\n    startOperation(cm);\n\n    try {\n      return f();\n    } finally {\n      endOperation(cm);\n    }\n  } // Wraps a function in an operation. Returns the wrapped function.\n\n\n  function operation(cm, f) {\n    return function () {\n      if (cm.curOp) {\n        return f.apply(cm, arguments);\n      }\n\n      startOperation(cm);\n\n      try {\n        return f.apply(cm, arguments);\n      } finally {\n        endOperation(cm);\n      }\n    };\n  } // Used to add methods to editor and doc instances, wrapping them in\n  // operations.\n\n\n  function methodOp(f) {\n    return function () {\n      if (this.curOp) {\n        return f.apply(this, arguments);\n      }\n\n      startOperation(this);\n\n      try {\n        return f.apply(this, arguments);\n      } finally {\n        endOperation(this);\n      }\n    };\n  }\n\n  function docMethodOp(f) {\n    return function () {\n      var cm = this.cm;\n\n      if (!cm || cm.curOp) {\n        return f.apply(this, arguments);\n      }\n\n      startOperation(cm);\n\n      try {\n        return f.apply(this, arguments);\n      } finally {\n        endOperation(cm);\n      }\n    };\n  } // HIGHLIGHT WORKER\n\n\n  function startWorker(cm, time) {\n    if (cm.doc.highlightFrontier < cm.display.viewTo) {\n      cm.state.highlight.set(time, bind(highlightWorker, cm));\n    }\n  }\n\n  function highlightWorker(cm) {\n    var doc = cm.doc;\n\n    if (doc.highlightFrontier >= cm.display.viewTo) {\n      return;\n    }\n\n    var end = +new Date() + cm.options.workTime;\n    var context = getContextBefore(cm, doc.highlightFrontier);\n    var changedLines = [];\n    doc.iter(context.line, Math.min(doc.first + doc.size, cm.display.viewTo + 500), function (line) {\n      if (context.line >= cm.display.viewFrom) {\n        // Visible\n        var oldStyles = line.styles;\n        var resetState = line.text.length > cm.options.maxHighlightLength ? copyState(doc.mode, context.state) : null;\n        var highlighted = highlightLine(cm, line, context, true);\n\n        if (resetState) {\n          context.state = resetState;\n        }\n\n        line.styles = highlighted.styles;\n        var oldCls = line.styleClasses,\n            newCls = highlighted.classes;\n\n        if (newCls) {\n          line.styleClasses = newCls;\n        } else if (oldCls) {\n          line.styleClasses = null;\n        }\n\n        var ischange = !oldStyles || oldStyles.length != line.styles.length || oldCls != newCls && (!oldCls || !newCls || oldCls.bgClass != newCls.bgClass || oldCls.textClass != newCls.textClass);\n\n        for (var i = 0; !ischange && i < oldStyles.length; ++i) {\n          ischange = oldStyles[i] != line.styles[i];\n        }\n\n        if (ischange) {\n          changedLines.push(context.line);\n        }\n\n        line.stateAfter = context.save();\n        context.nextLine();\n      } else {\n        if (line.text.length <= cm.options.maxHighlightLength) {\n          processLine(cm, line.text, context);\n        }\n\n        line.stateAfter = context.line % 5 == 0 ? context.save() : null;\n        context.nextLine();\n      }\n\n      if (+new Date() > end) {\n        startWorker(cm, cm.options.workDelay);\n        return true;\n      }\n    });\n    doc.highlightFrontier = context.line;\n    doc.modeFrontier = Math.max(doc.modeFrontier, context.line);\n\n    if (changedLines.length) {\n      runInOp(cm, function () {\n        for (var i = 0; i < changedLines.length; i++) {\n          regLineChange(cm, changedLines[i], \"text\");\n        }\n      });\n    }\n  } // DISPLAY DRAWING\n\n\n  var DisplayUpdate = function (cm, viewport, force) {\n    var display = cm.display;\n    this.viewport = viewport; // Store some values that we'll need later (but don't want to force a relayout for)\n\n    this.visible = visibleLines(display, cm.doc, viewport);\n    this.editorIsHidden = !display.wrapper.offsetWidth;\n    this.wrapperHeight = display.wrapper.clientHeight;\n    this.wrapperWidth = display.wrapper.clientWidth;\n    this.oldDisplayWidth = displayWidth(cm);\n    this.force = force;\n    this.dims = getDimensions(cm);\n    this.events = [];\n  };\n\n  DisplayUpdate.prototype.signal = function (emitter, type) {\n    if (hasHandler(emitter, type)) {\n      this.events.push(arguments);\n    }\n  };\n\n  DisplayUpdate.prototype.finish = function () {\n    for (var i = 0; i < this.events.length; i++) {\n      signal.apply(null, this.events[i]);\n    }\n  };\n\n  function maybeClipScrollbars(cm) {\n    var display = cm.display;\n\n    if (!display.scrollbarsClipped && display.scroller.offsetWidth) {\n      display.nativeBarWidth = display.scroller.offsetWidth - display.scroller.clientWidth;\n      display.heightForcer.style.height = scrollGap(cm) + \"px\";\n      display.sizer.style.marginBottom = -display.nativeBarWidth + \"px\";\n      display.sizer.style.borderRightWidth = scrollGap(cm) + \"px\";\n      display.scrollbarsClipped = true;\n    }\n  }\n\n  function selectionSnapshot(cm) {\n    if (cm.hasFocus()) {\n      return null;\n    }\n\n    var active = activeElt();\n\n    if (!active || !contains(cm.display.lineDiv, active)) {\n      return null;\n    }\n\n    var result = {\n      activeElt: active\n    };\n\n    if (window.getSelection) {\n      var sel = window.getSelection();\n\n      if (sel.anchorNode && sel.extend && contains(cm.display.lineDiv, sel.anchorNode)) {\n        result.anchorNode = sel.anchorNode;\n        result.anchorOffset = sel.anchorOffset;\n        result.focusNode = sel.focusNode;\n        result.focusOffset = sel.focusOffset;\n      }\n    }\n\n    return result;\n  }\n\n  function restoreSelection(snapshot) {\n    if (!snapshot || !snapshot.activeElt || snapshot.activeElt == activeElt()) {\n      return;\n    }\n\n    snapshot.activeElt.focus();\n\n    if (snapshot.anchorNode && contains(document.body, snapshot.anchorNode) && contains(document.body, snapshot.focusNode)) {\n      var sel = window.getSelection(),\n          range = document.createRange();\n      range.setEnd(snapshot.anchorNode, snapshot.anchorOffset);\n      range.collapse(false);\n      sel.removeAllRanges();\n      sel.addRange(range);\n      sel.extend(snapshot.focusNode, snapshot.focusOffset);\n    }\n  } // Does the actual updating of the line display. Bails out\n  // (returning false) when there is nothing to be done and forced is\n  // false.\n\n\n  function updateDisplayIfNeeded(cm, update) {\n    var display = cm.display,\n        doc = cm.doc;\n\n    if (update.editorIsHidden) {\n      resetView(cm);\n      return false;\n    } // Bail out if the visible area is already rendered and nothing changed.\n\n\n    if (!update.force && update.visible.from >= display.viewFrom && update.visible.to <= display.viewTo && (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo) && display.renderedView == display.view && countDirtyView(cm) == 0) {\n      return false;\n    }\n\n    if (maybeUpdateLineNumberWidth(cm)) {\n      resetView(cm);\n      update.dims = getDimensions(cm);\n    } // Compute a suitable new viewport (from & to)\n\n\n    var end = doc.first + doc.size;\n    var from = Math.max(update.visible.from - cm.options.viewportMargin, doc.first);\n    var to = Math.min(end, update.visible.to + cm.options.viewportMargin);\n\n    if (display.viewFrom < from && from - display.viewFrom < 20) {\n      from = Math.max(doc.first, display.viewFrom);\n    }\n\n    if (display.viewTo > to && display.viewTo - to < 20) {\n      to = Math.min(end, display.viewTo);\n    }\n\n    if (sawCollapsedSpans) {\n      from = visualLineNo(cm.doc, from);\n      to = visualLineEndNo(cm.doc, to);\n    }\n\n    var different = from != display.viewFrom || to != display.viewTo || display.lastWrapHeight != update.wrapperHeight || display.lastWrapWidth != update.wrapperWidth;\n    adjustView(cm, from, to);\n    display.viewOffset = heightAtLine(getLine(cm.doc, display.viewFrom)); // Position the mover div to align with the current scroll position\n\n    cm.display.mover.style.top = display.viewOffset + \"px\";\n    var toUpdate = countDirtyView(cm);\n\n    if (!different && toUpdate == 0 && !update.force && display.renderedView == display.view && (display.updateLineNumbers == null || display.updateLineNumbers >= display.viewTo)) {\n      return false;\n    } // For big changes, we hide the enclosing element during the\n    // update, since that speeds up the operations on most browsers.\n\n\n    var selSnapshot = selectionSnapshot(cm);\n\n    if (toUpdate > 4) {\n      display.lineDiv.style.display = \"none\";\n    }\n\n    patchDisplay(cm, display.updateLineNumbers, update.dims);\n\n    if (toUpdate > 4) {\n      display.lineDiv.style.display = \"\";\n    }\n\n    display.renderedView = display.view; // There might have been a widget with a focused element that got\n    // hidden or updated, if so re-focus it.\n\n    restoreSelection(selSnapshot); // Prevent selection and cursors from interfering with the scroll\n    // width and height.\n\n    removeChildren(display.cursorDiv);\n    removeChildren(display.selectionDiv);\n    display.gutters.style.height = display.sizer.style.minHeight = 0;\n\n    if (different) {\n      display.lastWrapHeight = update.wrapperHeight;\n      display.lastWrapWidth = update.wrapperWidth;\n      startWorker(cm, 400);\n    }\n\n    display.updateLineNumbers = null;\n    return true;\n  }\n\n  function postUpdateDisplay(cm, update) {\n    var viewport = update.viewport;\n\n    for (var first = true;; first = false) {\n      if (!first || !cm.options.lineWrapping || update.oldDisplayWidth == displayWidth(cm)) {\n        // Clip forced viewport to actual scrollable area.\n        if (viewport && viewport.top != null) {\n          viewport = {\n            top: Math.min(cm.doc.height + paddingVert(cm.display) - displayHeight(cm), viewport.top)\n          };\n        } // Updated line heights might result in the drawn area not\n        // actually covering the viewport. Keep looping until it does.\n\n\n        update.visible = visibleLines(cm.display, cm.doc, viewport);\n\n        if (update.visible.from >= cm.display.viewFrom && update.visible.to <= cm.display.viewTo) {\n          break;\n        }\n      } else if (first) {\n        update.visible = visibleLines(cm.display, cm.doc, viewport);\n      }\n\n      if (!updateDisplayIfNeeded(cm, update)) {\n        break;\n      }\n\n      updateHeightsInViewport(cm);\n      var barMeasure = measureForScrollbars(cm);\n      updateSelection(cm);\n      updateScrollbars(cm, barMeasure);\n      setDocumentHeight(cm, barMeasure);\n      update.force = false;\n    }\n\n    update.signal(cm, \"update\", cm);\n\n    if (cm.display.viewFrom != cm.display.reportedViewFrom || cm.display.viewTo != cm.display.reportedViewTo) {\n      update.signal(cm, \"viewportChange\", cm, cm.display.viewFrom, cm.display.viewTo);\n      cm.display.reportedViewFrom = cm.display.viewFrom;\n      cm.display.reportedViewTo = cm.display.viewTo;\n    }\n  }\n\n  function updateDisplaySimple(cm, viewport) {\n    var update = new DisplayUpdate(cm, viewport);\n\n    if (updateDisplayIfNeeded(cm, update)) {\n      updateHeightsInViewport(cm);\n      postUpdateDisplay(cm, update);\n      var barMeasure = measureForScrollbars(cm);\n      updateSelection(cm);\n      updateScrollbars(cm, barMeasure);\n      setDocumentHeight(cm, barMeasure);\n      update.finish();\n    }\n  } // Sync the actual display DOM structure with display.view, removing\n  // nodes for lines that are no longer in view, and creating the ones\n  // that are not there yet, and updating the ones that are out of\n  // date.\n\n\n  function patchDisplay(cm, updateNumbersFrom, dims) {\n    var display = cm.display,\n        lineNumbers = cm.options.lineNumbers;\n    var container = display.lineDiv,\n        cur = container.firstChild;\n\n    function rm(node) {\n      var next = node.nextSibling; // Works around a throw-scroll bug in OS X Webkit\n\n      if (webkit && mac && cm.display.currentWheelTarget == node) {\n        node.style.display = \"none\";\n      } else {\n        node.parentNode.removeChild(node);\n      }\n\n      return next;\n    }\n\n    var view = display.view,\n        lineN = display.viewFrom; // Loop over the elements in the view, syncing cur (the DOM nodes\n    // in display.lineDiv) with the view as we go.\n\n    for (var i = 0; i < view.length; i++) {\n      var lineView = view[i];\n      if (lineView.hidden) ;else if (!lineView.node || lineView.node.parentNode != container) {\n        // Not drawn yet\n        var node = buildLineElement(cm, lineView, lineN, dims);\n        container.insertBefore(node, cur);\n      } else {\n        // Already drawn\n        while (cur != lineView.node) {\n          cur = rm(cur);\n        }\n\n        var updateNumber = lineNumbers && updateNumbersFrom != null && updateNumbersFrom <= lineN && lineView.lineNumber;\n\n        if (lineView.changes) {\n          if (indexOf(lineView.changes, \"gutter\") > -1) {\n            updateNumber = false;\n          }\n\n          updateLineForChanges(cm, lineView, lineN, dims);\n        }\n\n        if (updateNumber) {\n          removeChildren(lineView.lineNumber);\n          lineView.lineNumber.appendChild(document.createTextNode(lineNumberFor(cm.options, lineN)));\n        }\n\n        cur = lineView.node.nextSibling;\n      }\n      lineN += lineView.size;\n    }\n\n    while (cur) {\n      cur = rm(cur);\n    }\n  }\n\n  function updateGutterSpace(display) {\n    var width = display.gutters.offsetWidth;\n    display.sizer.style.marginLeft = width + \"px\";\n  }\n\n  function setDocumentHeight(cm, measure) {\n    cm.display.sizer.style.minHeight = measure.docHeight + \"px\";\n    cm.display.heightForcer.style.top = measure.docHeight + \"px\";\n    cm.display.gutters.style.height = measure.docHeight + cm.display.barHeight + scrollGap(cm) + \"px\";\n  } // Re-align line numbers and gutter marks to compensate for\n  // horizontal scrolling.\n\n\n  function alignHorizontally(cm) {\n    var display = cm.display,\n        view = display.view;\n\n    if (!display.alignWidgets && (!display.gutters.firstChild || !cm.options.fixedGutter)) {\n      return;\n    }\n\n    var comp = compensateForHScroll(display) - display.scroller.scrollLeft + cm.doc.scrollLeft;\n    var gutterW = display.gutters.offsetWidth,\n        left = comp + \"px\";\n\n    for (var i = 0; i < view.length; i++) {\n      if (!view[i].hidden) {\n        if (cm.options.fixedGutter) {\n          if (view[i].gutter) {\n            view[i].gutter.style.left = left;\n          }\n\n          if (view[i].gutterBackground) {\n            view[i].gutterBackground.style.left = left;\n          }\n        }\n\n        var align = view[i].alignable;\n\n        if (align) {\n          for (var j = 0; j < align.length; j++) {\n            align[j].style.left = left;\n          }\n        }\n      }\n    }\n\n    if (cm.options.fixedGutter) {\n      display.gutters.style.left = comp + gutterW + \"px\";\n    }\n  } // Used to ensure that the line number gutter is still the right\n  // size for the current document size. Returns true when an update\n  // is needed.\n\n\n  function maybeUpdateLineNumberWidth(cm) {\n    if (!cm.options.lineNumbers) {\n      return false;\n    }\n\n    var doc = cm.doc,\n        last = lineNumberFor(cm.options, doc.first + doc.size - 1),\n        display = cm.display;\n\n    if (last.length != display.lineNumChars) {\n      var test = display.measure.appendChild(elt(\"div\", [elt(\"div\", last)], \"CodeMirror-linenumber CodeMirror-gutter-elt\"));\n      var innerW = test.firstChild.offsetWidth,\n          padding = test.offsetWidth - innerW;\n      display.lineGutter.style.width = \"\";\n      display.lineNumInnerWidth = Math.max(innerW, display.lineGutter.offsetWidth - padding) + 1;\n      display.lineNumWidth = display.lineNumInnerWidth + padding;\n      display.lineNumChars = display.lineNumInnerWidth ? last.length : -1;\n      display.lineGutter.style.width = display.lineNumWidth + \"px\";\n      updateGutterSpace(cm.display);\n      return true;\n    }\n\n    return false;\n  }\n\n  function getGutters(gutters, lineNumbers) {\n    var result = [],\n        sawLineNumbers = false;\n\n    for (var i = 0; i < gutters.length; i++) {\n      var name = gutters[i],\n          style = null;\n\n      if (typeof name != \"string\") {\n        style = name.style;\n        name = name.className;\n      }\n\n      if (name == \"CodeMirror-linenumbers\") {\n        if (!lineNumbers) {\n          continue;\n        } else {\n          sawLineNumbers = true;\n        }\n      }\n\n      result.push({\n        className: name,\n        style: style\n      });\n    }\n\n    if (lineNumbers && !sawLineNumbers) {\n      result.push({\n        className: \"CodeMirror-linenumbers\",\n        style: null\n      });\n    }\n\n    return result;\n  } // Rebuild the gutter elements, ensure the margin to the left of the\n  // code matches their width.\n\n\n  function renderGutters(display) {\n    var gutters = display.gutters,\n        specs = display.gutterSpecs;\n    removeChildren(gutters);\n    display.lineGutter = null;\n\n    for (var i = 0; i < specs.length; ++i) {\n      var ref = specs[i];\n      var className = ref.className;\n      var style = ref.style;\n      var gElt = gutters.appendChild(elt(\"div\", null, \"CodeMirror-gutter \" + className));\n\n      if (style) {\n        gElt.style.cssText = style;\n      }\n\n      if (className == \"CodeMirror-linenumbers\") {\n        display.lineGutter = gElt;\n        gElt.style.width = (display.lineNumWidth || 1) + \"px\";\n      }\n    }\n\n    gutters.style.display = specs.length ? \"\" : \"none\";\n    updateGutterSpace(display);\n  }\n\n  function updateGutters(cm) {\n    renderGutters(cm.display);\n    regChange(cm);\n    alignHorizontally(cm);\n  } // The display handles the DOM integration, both for input reading\n  // and content drawing. It holds references to DOM nodes and\n  // display-related state.\n\n\n  function Display(place, doc, input, options) {\n    var d = this;\n    this.input = input; // Covers bottom-right square when both scrollbars are present.\n\n    d.scrollbarFiller = elt(\"div\", null, \"CodeMirror-scrollbar-filler\");\n    d.scrollbarFiller.setAttribute(\"cm-not-content\", \"true\"); // Covers bottom of gutter when coverGutterNextToScrollbar is on\n    // and h scrollbar is present.\n\n    d.gutterFiller = elt(\"div\", null, \"CodeMirror-gutter-filler\");\n    d.gutterFiller.setAttribute(\"cm-not-content\", \"true\"); // Will contain the actual code, positioned to cover the viewport.\n\n    d.lineDiv = eltP(\"div\", null, \"CodeMirror-code\"); // Elements are added to these to represent selection and cursors.\n\n    d.selectionDiv = elt(\"div\", null, null, \"position: relative; z-index: 1\");\n    d.cursorDiv = elt(\"div\", null, \"CodeMirror-cursors\"); // A visibility: hidden element used to find the size of things.\n\n    d.measure = elt(\"div\", null, \"CodeMirror-measure\"); // When lines outside of the viewport are measured, they are drawn in this.\n\n    d.lineMeasure = elt(\"div\", null, \"CodeMirror-measure\"); // Wraps everything that needs to exist inside the vertically-padded coordinate system\n\n    d.lineSpace = eltP(\"div\", [d.measure, d.lineMeasure, d.selectionDiv, d.cursorDiv, d.lineDiv], null, \"position: relative; outline: none\");\n    var lines = eltP(\"div\", [d.lineSpace], \"CodeMirror-lines\"); // Moved around its parent to cover visible view.\n\n    d.mover = elt(\"div\", [lines], null, \"position: relative\"); // Set to the height of the document, allowing scrolling.\n\n    d.sizer = elt(\"div\", [d.mover], \"CodeMirror-sizer\");\n    d.sizerWidth = null; // Behavior of elts with overflow: auto and padding is\n    // inconsistent across browsers. This is used to ensure the\n    // scrollable area is big enough.\n\n    d.heightForcer = elt(\"div\", null, null, \"position: absolute; height: \" + scrollerGap + \"px; width: 1px;\"); // Will contain the gutters, if any.\n\n    d.gutters = elt(\"div\", null, \"CodeMirror-gutters\");\n    d.lineGutter = null; // Actual scrollable element.\n\n    d.scroller = elt(\"div\", [d.sizer, d.heightForcer, d.gutters], \"CodeMirror-scroll\");\n    d.scroller.setAttribute(\"tabIndex\", \"-1\"); // The element in which the editor lives.\n\n    d.wrapper = elt(\"div\", [d.scrollbarFiller, d.gutterFiller, d.scroller], \"CodeMirror\"); // Work around IE7 z-index bug (not perfect, hence IE7 not really being supported)\n\n    if (ie && ie_version < 8) {\n      d.gutters.style.zIndex = -1;\n      d.scroller.style.paddingRight = 0;\n    }\n\n    if (!webkit && !(gecko && mobile)) {\n      d.scroller.draggable = true;\n    }\n\n    if (place) {\n      if (place.appendChild) {\n        place.appendChild(d.wrapper);\n      } else {\n        place(d.wrapper);\n      }\n    } // Current rendered range (may be bigger than the view window).\n\n\n    d.viewFrom = d.viewTo = doc.first;\n    d.reportedViewFrom = d.reportedViewTo = doc.first; // Information about the rendered lines.\n\n    d.view = [];\n    d.renderedView = null; // Holds info about a single rendered line when it was rendered\n    // for measurement, while not in view.\n\n    d.externalMeasured = null; // Empty space (in pixels) above the view\n\n    d.viewOffset = 0;\n    d.lastWrapHeight = d.lastWrapWidth = 0;\n    d.updateLineNumbers = null;\n    d.nativeBarWidth = d.barHeight = d.barWidth = 0;\n    d.scrollbarsClipped = false; // Used to only resize the line number gutter when necessary (when\n    // the amount of lines crosses a boundary that makes its width change)\n\n    d.lineNumWidth = d.lineNumInnerWidth = d.lineNumChars = null; // Set to true when a non-horizontal-scrolling line widget is\n    // added. As an optimization, line widget aligning is skipped when\n    // this is false.\n\n    d.alignWidgets = false;\n    d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null; // Tracks the maximum line length so that the horizontal scrollbar\n    // can be kept static when scrolling.\n\n    d.maxLine = null;\n    d.maxLineLength = 0;\n    d.maxLineChanged = false; // Used for measuring wheel scrolling granularity\n\n    d.wheelDX = d.wheelDY = d.wheelStartX = d.wheelStartY = null; // True when shift is held down.\n\n    d.shift = false; // Used to track whether anything happened since the context menu\n    // was opened.\n\n    d.selForContextMenu = null;\n    d.activeTouch = null;\n    d.gutterSpecs = getGutters(options.gutters, options.lineNumbers);\n    renderGutters(d);\n    input.init(d);\n  } // Since the delta values reported on mouse wheel events are\n  // unstandardized between browsers and even browser versions, and\n  // generally horribly unpredictable, this code starts by measuring\n  // the scroll effect that the first few mouse wheel events have,\n  // and, from that, detects the way it can convert deltas to pixel\n  // offsets afterwards.\n  //\n  // The reason we want to know the amount a wheel event will scroll\n  // is that it gives us a chance to update the display before the\n  // actual scrolling happens, reducing flickering.\n\n\n  var wheelSamples = 0,\n      wheelPixelsPerUnit = null; // Fill in a browser-detected starting value on browsers where we\n  // know one. These don't have to be accurate -- the result of them\n  // being wrong would just be a slight flicker on the first wheel\n  // scroll (if it is large enough).\n\n  if (ie) {\n    wheelPixelsPerUnit = -.53;\n  } else if (gecko) {\n    wheelPixelsPerUnit = 15;\n  } else if (chrome) {\n    wheelPixelsPerUnit = -.7;\n  } else if (safari) {\n    wheelPixelsPerUnit = -1 / 3;\n  }\n\n  function wheelEventDelta(e) {\n    var dx = e.wheelDeltaX,\n        dy = e.wheelDeltaY;\n\n    if (dx == null && e.detail && e.axis == e.HORIZONTAL_AXIS) {\n      dx = e.detail;\n    }\n\n    if (dy == null && e.detail && e.axis == e.VERTICAL_AXIS) {\n      dy = e.detail;\n    } else if (dy == null) {\n      dy = e.wheelDelta;\n    }\n\n    return {\n      x: dx,\n      y: dy\n    };\n  }\n\n  function wheelEventPixels(e) {\n    var delta = wheelEventDelta(e);\n    delta.x *= wheelPixelsPerUnit;\n    delta.y *= wheelPixelsPerUnit;\n    return delta;\n  }\n\n  function onScrollWheel(cm, e) {\n    var delta = wheelEventDelta(e),\n        dx = delta.x,\n        dy = delta.y;\n    var display = cm.display,\n        scroll = display.scroller; // Quit if there's nothing to scroll here\n\n    var canScrollX = scroll.scrollWidth > scroll.clientWidth;\n    var canScrollY = scroll.scrollHeight > scroll.clientHeight;\n\n    if (!(dx && canScrollX || dy && canScrollY)) {\n      return;\n    } // Webkit browsers on OS X abort momentum scrolls when the target\n    // of the scroll event is removed from the scrollable element.\n    // This hack (see related code in patchDisplay) makes sure the\n    // element is kept around.\n\n\n    if (dy && mac && webkit) {\n      outer: for (var cur = e.target, view = display.view; cur != scroll; cur = cur.parentNode) {\n        for (var i = 0; i < view.length; i++) {\n          if (view[i].node == cur) {\n            cm.display.currentWheelTarget = cur;\n            break outer;\n          }\n        }\n      }\n    } // On some browsers, horizontal scrolling will cause redraws to\n    // happen before the gutter has been realigned, causing it to\n    // wriggle around in a most unseemly way. When we have an\n    // estimated pixels/delta value, we just handle horizontal\n    // scrolling entirely here. It'll be slightly off from native, but\n    // better than glitching out.\n\n\n    if (dx && !gecko && !presto && wheelPixelsPerUnit != null) {\n      if (dy && canScrollY) {\n        updateScrollTop(cm, Math.max(0, scroll.scrollTop + dy * wheelPixelsPerUnit));\n      }\n\n      setScrollLeft(cm, Math.max(0, scroll.scrollLeft + dx * wheelPixelsPerUnit)); // Only prevent default scrolling if vertical scrolling is\n      // actually possible. Otherwise, it causes vertical scroll\n      // jitter on OSX trackpads when deltaX is small and deltaY\n      // is large (issue #3579)\n\n      if (!dy || dy && canScrollY) {\n        e_preventDefault(e);\n      }\n\n      display.wheelStartX = null; // Abort measurement, if in progress\n\n      return;\n    } // 'Project' the visible viewport to cover the area that is being\n    // scrolled into view (if we know enough to estimate it).\n\n\n    if (dy && wheelPixelsPerUnit != null) {\n      var pixels = dy * wheelPixelsPerUnit;\n      var top = cm.doc.scrollTop,\n          bot = top + display.wrapper.clientHeight;\n\n      if (pixels < 0) {\n        top = Math.max(0, top + pixels - 50);\n      } else {\n        bot = Math.min(cm.doc.height, bot + pixels + 50);\n      }\n\n      updateDisplaySimple(cm, {\n        top: top,\n        bottom: bot\n      });\n    }\n\n    if (wheelSamples < 20) {\n      if (display.wheelStartX == null) {\n        display.wheelStartX = scroll.scrollLeft;\n        display.wheelStartY = scroll.scrollTop;\n        display.wheelDX = dx;\n        display.wheelDY = dy;\n        setTimeout(function () {\n          if (display.wheelStartX == null) {\n            return;\n          }\n\n          var movedX = scroll.scrollLeft - display.wheelStartX;\n          var movedY = scroll.scrollTop - display.wheelStartY;\n          var sample = movedY && display.wheelDY && movedY / display.wheelDY || movedX && display.wheelDX && movedX / display.wheelDX;\n          display.wheelStartX = display.wheelStartY = null;\n\n          if (!sample) {\n            return;\n          }\n\n          wheelPixelsPerUnit = (wheelPixelsPerUnit * wheelSamples + sample) / (wheelSamples + 1);\n          ++wheelSamples;\n        }, 200);\n      } else {\n        display.wheelDX += dx;\n        display.wheelDY += dy;\n      }\n    }\n  } // Selection objects are immutable. A new one is created every time\n  // the selection changes. A selection is one or more non-overlapping\n  // (and non-touching) ranges, sorted, and an integer that indicates\n  // which one is the primary selection (the one that's scrolled into\n  // view, that getCursor returns, etc).\n\n\n  var Selection = function (ranges, primIndex) {\n    this.ranges = ranges;\n    this.primIndex = primIndex;\n  };\n\n  Selection.prototype.primary = function () {\n    return this.ranges[this.primIndex];\n  };\n\n  Selection.prototype.equals = function (other) {\n    if (other == this) {\n      return true;\n    }\n\n    if (other.primIndex != this.primIndex || other.ranges.length != this.ranges.length) {\n      return false;\n    }\n\n    for (var i = 0; i < this.ranges.length; i++) {\n      var here = this.ranges[i],\n          there = other.ranges[i];\n\n      if (!equalCursorPos(here.anchor, there.anchor) || !equalCursorPos(here.head, there.head)) {\n        return false;\n      }\n    }\n\n    return true;\n  };\n\n  Selection.prototype.deepCopy = function () {\n    var out = [];\n\n    for (var i = 0; i < this.ranges.length; i++) {\n      out[i] = new Range(copyPos(this.ranges[i].anchor), copyPos(this.ranges[i].head));\n    }\n\n    return new Selection(out, this.primIndex);\n  };\n\n  Selection.prototype.somethingSelected = function () {\n    for (var i = 0; i < this.ranges.length; i++) {\n      if (!this.ranges[i].empty()) {\n        return true;\n      }\n    }\n\n    return false;\n  };\n\n  Selection.prototype.contains = function (pos, end) {\n    if (!end) {\n      end = pos;\n    }\n\n    for (var i = 0; i < this.ranges.length; i++) {\n      var range = this.ranges[i];\n\n      if (cmp(end, range.from()) >= 0 && cmp(pos, range.to()) <= 0) {\n        return i;\n      }\n    }\n\n    return -1;\n  };\n\n  var Range = function (anchor, head) {\n    this.anchor = anchor;\n    this.head = head;\n  };\n\n  Range.prototype.from = function () {\n    return minPos(this.anchor, this.head);\n  };\n\n  Range.prototype.to = function () {\n    return maxPos(this.anchor, this.head);\n  };\n\n  Range.prototype.empty = function () {\n    return this.head.line == this.anchor.line && this.head.ch == this.anchor.ch;\n  }; // Take an unsorted, potentially overlapping set of ranges, and\n  // build a selection out of it. 'Consumes' ranges array (modifying\n  // it).\n\n\n  function normalizeSelection(cm, ranges, primIndex) {\n    var mayTouch = cm && cm.options.selectionsMayTouch;\n    var prim = ranges[primIndex];\n    ranges.sort(function (a, b) {\n      return cmp(a.from(), b.from());\n    });\n    primIndex = indexOf(ranges, prim);\n\n    for (var i = 1; i < ranges.length; i++) {\n      var cur = ranges[i],\n          prev = ranges[i - 1];\n      var diff = cmp(prev.to(), cur.from());\n\n      if (mayTouch && !cur.empty() ? diff > 0 : diff >= 0) {\n        var from = minPos(prev.from(), cur.from()),\n            to = maxPos(prev.to(), cur.to());\n        var inv = prev.empty() ? cur.from() == cur.head : prev.from() == prev.head;\n\n        if (i <= primIndex) {\n          --primIndex;\n        }\n\n        ranges.splice(--i, 2, new Range(inv ? to : from, inv ? from : to));\n      }\n    }\n\n    return new Selection(ranges, primIndex);\n  }\n\n  function simpleSelection(anchor, head) {\n    return new Selection([new Range(anchor, head || anchor)], 0);\n  } // Compute the position of the end of a change (its 'to' property\n  // refers to the pre-change end).\n\n\n  function changeEnd(change) {\n    if (!change.text) {\n      return change.to;\n    }\n\n    return Pos(change.from.line + change.text.length - 1, lst(change.text).length + (change.text.length == 1 ? change.from.ch : 0));\n  } // Adjust a position to refer to the post-change position of the\n  // same text, or the end of the change if the change covers it.\n\n\n  function adjustForChange(pos, change) {\n    if (cmp(pos, change.from) < 0) {\n      return pos;\n    }\n\n    if (cmp(pos, change.to) <= 0) {\n      return changeEnd(change);\n    }\n\n    var line = pos.line + change.text.length - (change.to.line - change.from.line) - 1,\n        ch = pos.ch;\n\n    if (pos.line == change.to.line) {\n      ch += changeEnd(change).ch - change.to.ch;\n    }\n\n    return Pos(line, ch);\n  }\n\n  function computeSelAfterChange(doc, change) {\n    var out = [];\n\n    for (var i = 0; i < doc.sel.ranges.length; i++) {\n      var range = doc.sel.ranges[i];\n      out.push(new Range(adjustForChange(range.anchor, change), adjustForChange(range.head, change)));\n    }\n\n    return normalizeSelection(doc.cm, out, doc.sel.primIndex);\n  }\n\n  function offsetPos(pos, old, nw) {\n    if (pos.line == old.line) {\n      return Pos(nw.line, pos.ch - old.ch + nw.ch);\n    } else {\n      return Pos(nw.line + (pos.line - old.line), pos.ch);\n    }\n  } // Used by replaceSelections to allow moving the selection to the\n  // start or around the replaced test. Hint may be \"start\" or \"around\".\n\n\n  function computeReplacedSel(doc, changes, hint) {\n    var out = [];\n    var oldPrev = Pos(doc.first, 0),\n        newPrev = oldPrev;\n\n    for (var i = 0; i < changes.length; i++) {\n      var change = changes[i];\n      var from = offsetPos(change.from, oldPrev, newPrev);\n      var to = offsetPos(changeEnd(change), oldPrev, newPrev);\n      oldPrev = change.to;\n      newPrev = to;\n\n      if (hint == \"around\") {\n        var range = doc.sel.ranges[i],\n            inv = cmp(range.head, range.anchor) < 0;\n        out[i] = new Range(inv ? to : from, inv ? from : to);\n      } else {\n        out[i] = new Range(from, from);\n      }\n    }\n\n    return new Selection(out, doc.sel.primIndex);\n  } // Used to get the editor into a consistent state again when options change.\n\n\n  function loadMode(cm) {\n    cm.doc.mode = getMode(cm.options, cm.doc.modeOption);\n    resetModeState(cm);\n  }\n\n  function resetModeState(cm) {\n    cm.doc.iter(function (line) {\n      if (line.stateAfter) {\n        line.stateAfter = null;\n      }\n\n      if (line.styles) {\n        line.styles = null;\n      }\n    });\n    cm.doc.modeFrontier = cm.doc.highlightFrontier = cm.doc.first;\n    startWorker(cm, 100);\n    cm.state.modeGen++;\n\n    if (cm.curOp) {\n      regChange(cm);\n    }\n  } // DOCUMENT DATA STRUCTURE\n  // By default, updates that start and end at the beginning of a line\n  // are treated specially, in order to make the association of line\n  // widgets and marker elements with the text behave more intuitive.\n\n\n  function isWholeLineUpdate(doc, change) {\n    return change.from.ch == 0 && change.to.ch == 0 && lst(change.text) == \"\" && (!doc.cm || doc.cm.options.wholeLineUpdateBefore);\n  } // Perform a change on the document data structure.\n\n\n  function updateDoc(doc, change, markedSpans, estimateHeight) {\n    function spansFor(n) {\n      return markedSpans ? markedSpans[n] : null;\n    }\n\n    function update(line, text, spans) {\n      updateLine(line, text, spans, estimateHeight);\n      signalLater(line, \"change\", line, change);\n    }\n\n    function linesFor(start, end) {\n      var result = [];\n\n      for (var i = start; i < end; ++i) {\n        result.push(new Line(text[i], spansFor(i), estimateHeight));\n      }\n\n      return result;\n    }\n\n    var from = change.from,\n        to = change.to,\n        text = change.text;\n    var firstLine = getLine(doc, from.line),\n        lastLine = getLine(doc, to.line);\n    var lastText = lst(text),\n        lastSpans = spansFor(text.length - 1),\n        nlines = to.line - from.line; // Adjust the line structure\n\n    if (change.full) {\n      doc.insert(0, linesFor(0, text.length));\n      doc.remove(text.length, doc.size - text.length);\n    } else if (isWholeLineUpdate(doc, change)) {\n      // This is a whole-line replace. Treated specially to make\n      // sure line objects move the way they are supposed to.\n      var added = linesFor(0, text.length - 1);\n      update(lastLine, lastLine.text, lastSpans);\n\n      if (nlines) {\n        doc.remove(from.line, nlines);\n      }\n\n      if (added.length) {\n        doc.insert(from.line, added);\n      }\n    } else if (firstLine == lastLine) {\n      if (text.length == 1) {\n        update(firstLine, firstLine.text.slice(0, from.ch) + lastText + firstLine.text.slice(to.ch), lastSpans);\n      } else {\n        var added$1 = linesFor(1, text.length - 1);\n        added$1.push(new Line(lastText + firstLine.text.slice(to.ch), lastSpans, estimateHeight));\n        update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));\n        doc.insert(from.line + 1, added$1);\n      }\n    } else if (text.length == 1) {\n      update(firstLine, firstLine.text.slice(0, from.ch) + text[0] + lastLine.text.slice(to.ch), spansFor(0));\n      doc.remove(from.line + 1, nlines);\n    } else {\n      update(firstLine, firstLine.text.slice(0, from.ch) + text[0], spansFor(0));\n      update(lastLine, lastText + lastLine.text.slice(to.ch), lastSpans);\n      var added$2 = linesFor(1, text.length - 1);\n\n      if (nlines > 1) {\n        doc.remove(from.line + 1, nlines - 1);\n      }\n\n      doc.insert(from.line + 1, added$2);\n    }\n\n    signalLater(doc, \"change\", doc, change);\n  } // Call f for all linked documents.\n\n\n  function linkedDocs(doc, f, sharedHistOnly) {\n    function propagate(doc, skip, sharedHist) {\n      if (doc.linked) {\n        for (var i = 0; i < doc.linked.length; ++i) {\n          var rel = doc.linked[i];\n\n          if (rel.doc == skip) {\n            continue;\n          }\n\n          var shared = sharedHist && rel.sharedHist;\n\n          if (sharedHistOnly && !shared) {\n            continue;\n          }\n\n          f(rel.doc, shared);\n          propagate(rel.doc, doc, shared);\n        }\n      }\n    }\n\n    propagate(doc, null, true);\n  } // Attach a document to an editor.\n\n\n  function attachDoc(cm, doc) {\n    if (doc.cm) {\n      throw new Error(\"This document is already in use.\");\n    }\n\n    cm.doc = doc;\n    doc.cm = cm;\n    estimateLineHeights(cm);\n    loadMode(cm);\n    setDirectionClass(cm);\n\n    if (!cm.options.lineWrapping) {\n      findMaxLine(cm);\n    }\n\n    cm.options.mode = doc.modeOption;\n    regChange(cm);\n  }\n\n  function setDirectionClass(cm) {\n    (cm.doc.direction == \"rtl\" ? addClass : rmClass)(cm.display.lineDiv, \"CodeMirror-rtl\");\n  }\n\n  function directionChanged(cm) {\n    runInOp(cm, function () {\n      setDirectionClass(cm);\n      regChange(cm);\n    });\n  }\n\n  function History(startGen) {\n    // Arrays of change events and selections. Doing something adds an\n    // event to done and clears undo. Undoing moves events from done\n    // to undone, redoing moves them in the other direction.\n    this.done = [];\n    this.undone = [];\n    this.undoDepth = Infinity; // Used to track when changes can be merged into a single undo\n    // event\n\n    this.lastModTime = this.lastSelTime = 0;\n    this.lastOp = this.lastSelOp = null;\n    this.lastOrigin = this.lastSelOrigin = null; // Used by the isClean() method\n\n    this.generation = this.maxGeneration = startGen || 1;\n  } // Create a history change event from an updateDoc-style change\n  // object.\n\n\n  function historyChangeFromChange(doc, change) {\n    var histChange = {\n      from: copyPos(change.from),\n      to: changeEnd(change),\n      text: getBetween(doc, change.from, change.to)\n    };\n    attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1);\n    linkedDocs(doc, function (doc) {\n      return attachLocalSpans(doc, histChange, change.from.line, change.to.line + 1);\n    }, true);\n    return histChange;\n  } // Pop all selection events off the end of a history array. Stop at\n  // a change event.\n\n\n  function clearSelectionEvents(array) {\n    while (array.length) {\n      var last = lst(array);\n\n      if (last.ranges) {\n        array.pop();\n      } else {\n        break;\n      }\n    }\n  } // Find the top change event in the history. Pop off selection\n  // events that are in the way.\n\n\n  function lastChangeEvent(hist, force) {\n    if (force) {\n      clearSelectionEvents(hist.done);\n      return lst(hist.done);\n    } else if (hist.done.length && !lst(hist.done).ranges) {\n      return lst(hist.done);\n    } else if (hist.done.length > 1 && !hist.done[hist.done.length - 2].ranges) {\n      hist.done.pop();\n      return lst(hist.done);\n    }\n  } // Register a change in the history. Merges changes that are within\n  // a single operation, or are close together with an origin that\n  // allows merging (starting with \"+\") into a single event.\n\n\n  function addChangeToHistory(doc, change, selAfter, opId) {\n    var hist = doc.history;\n    hist.undone.length = 0;\n    var time = +new Date(),\n        cur;\n    var last;\n\n    if ((hist.lastOp == opId || hist.lastOrigin == change.origin && change.origin && (change.origin.charAt(0) == \"+\" && hist.lastModTime > time - (doc.cm ? doc.cm.options.historyEventDelay : 500) || change.origin.charAt(0) == \"*\")) && (cur = lastChangeEvent(hist, hist.lastOp == opId))) {\n      // Merge this change into the last event\n      last = lst(cur.changes);\n\n      if (cmp(change.from, change.to) == 0 && cmp(change.from, last.to) == 0) {\n        // Optimized case for simple insertion -- don't want to add\n        // new changesets for every character typed\n        last.to = changeEnd(change);\n      } else {\n        // Add new sub-event\n        cur.changes.push(historyChangeFromChange(doc, change));\n      }\n    } else {\n      // Can not be merged, start a new event.\n      var before = lst(hist.done);\n\n      if (!before || !before.ranges) {\n        pushSelectionToHistory(doc.sel, hist.done);\n      }\n\n      cur = {\n        changes: [historyChangeFromChange(doc, change)],\n        generation: hist.generation\n      };\n      hist.done.push(cur);\n\n      while (hist.done.length > hist.undoDepth) {\n        hist.done.shift();\n\n        if (!hist.done[0].ranges) {\n          hist.done.shift();\n        }\n      }\n    }\n\n    hist.done.push(selAfter);\n    hist.generation = ++hist.maxGeneration;\n    hist.lastModTime = hist.lastSelTime = time;\n    hist.lastOp = hist.lastSelOp = opId;\n    hist.lastOrigin = hist.lastSelOrigin = change.origin;\n\n    if (!last) {\n      signal(doc, \"historyAdded\");\n    }\n  }\n\n  function selectionEventCanBeMerged(doc, origin, prev, sel) {\n    var ch = origin.charAt(0);\n    return ch == \"*\" || ch == \"+\" && prev.ranges.length == sel.ranges.length && prev.somethingSelected() == sel.somethingSelected() && new Date() - doc.history.lastSelTime <= (doc.cm ? doc.cm.options.historyEventDelay : 500);\n  } // Called whenever the selection changes, sets the new selection as\n  // the pending selection in the history, and pushes the old pending\n  // selection into the 'done' array when it was significantly\n  // different (in number of selected ranges, emptiness, or time).\n\n\n  function addSelectionToHistory(doc, sel, opId, options) {\n    var hist = doc.history,\n        origin = options && options.origin; // A new event is started when the previous origin does not match\n    // the current, or the origins don't allow matching. Origins\n    // starting with * are always merged, those starting with + are\n    // merged when similar and close together in time.\n\n    if (opId == hist.lastSelOp || origin && hist.lastSelOrigin == origin && (hist.lastModTime == hist.lastSelTime && hist.lastOrigin == origin || selectionEventCanBeMerged(doc, origin, lst(hist.done), sel))) {\n      hist.done[hist.done.length - 1] = sel;\n    } else {\n      pushSelectionToHistory(sel, hist.done);\n    }\n\n    hist.lastSelTime = +new Date();\n    hist.lastSelOrigin = origin;\n    hist.lastSelOp = opId;\n\n    if (options && options.clearRedo !== false) {\n      clearSelectionEvents(hist.undone);\n    }\n  }\n\n  function pushSelectionToHistory(sel, dest) {\n    var top = lst(dest);\n\n    if (!(top && top.ranges && top.equals(sel))) {\n      dest.push(sel);\n    }\n  } // Used to store marked span information in the history.\n\n\n  function attachLocalSpans(doc, change, from, to) {\n    var existing = change[\"spans_\" + doc.id],\n        n = 0;\n    doc.iter(Math.max(doc.first, from), Math.min(doc.first + doc.size, to), function (line) {\n      if (line.markedSpans) {\n        (existing || (existing = change[\"spans_\" + doc.id] = {}))[n] = line.markedSpans;\n      }\n\n      ++n;\n    });\n  } // When un/re-doing restores text containing marked spans, those\n  // that have been explicitly cleared should not be restored.\n\n\n  function removeClearedSpans(spans) {\n    if (!spans) {\n      return null;\n    }\n\n    var out;\n\n    for (var i = 0; i < spans.length; ++i) {\n      if (spans[i].marker.explicitlyCleared) {\n        if (!out) {\n          out = spans.slice(0, i);\n        }\n      } else if (out) {\n        out.push(spans[i]);\n      }\n    }\n\n    return !out ? spans : out.length ? out : null;\n  } // Retrieve and filter the old marked spans stored in a change event.\n\n\n  function getOldSpans(doc, change) {\n    var found = change[\"spans_\" + doc.id];\n\n    if (!found) {\n      return null;\n    }\n\n    var nw = [];\n\n    for (var i = 0; i < change.text.length; ++i) {\n      nw.push(removeClearedSpans(found[i]));\n    }\n\n    return nw;\n  } // Used for un/re-doing changes from the history. Combines the\n  // result of computing the existing spans with the set of spans that\n  // existed in the history (so that deleting around a span and then\n  // undoing brings back the span).\n\n\n  function mergeOldSpans(doc, change) {\n    var old = getOldSpans(doc, change);\n    var stretched = stretchSpansOverChange(doc, change);\n\n    if (!old) {\n      return stretched;\n    }\n\n    if (!stretched) {\n      return old;\n    }\n\n    for (var i = 0; i < old.length; ++i) {\n      var oldCur = old[i],\n          stretchCur = stretched[i];\n\n      if (oldCur && stretchCur) {\n        spans: for (var j = 0; j < stretchCur.length; ++j) {\n          var span = stretchCur[j];\n\n          for (var k = 0; k < oldCur.length; ++k) {\n            if (oldCur[k].marker == span.marker) {\n              continue spans;\n            }\n          }\n\n          oldCur.push(span);\n        }\n      } else if (stretchCur) {\n        old[i] = stretchCur;\n      }\n    }\n\n    return old;\n  } // Used both to provide a JSON-safe object in .getHistory, and, when\n  // detaching a document, to split the history in two\n\n\n  function copyHistoryArray(events, newGroup, instantiateSel) {\n    var copy = [];\n\n    for (var i = 0; i < events.length; ++i) {\n      var event = events[i];\n\n      if (event.ranges) {\n        copy.push(instantiateSel ? Selection.prototype.deepCopy.call(event) : event);\n        continue;\n      }\n\n      var changes = event.changes,\n          newChanges = [];\n      copy.push({\n        changes: newChanges\n      });\n\n      for (var j = 0; j < changes.length; ++j) {\n        var change = changes[j],\n            m = void 0;\n        newChanges.push({\n          from: change.from,\n          to: change.to,\n          text: change.text\n        });\n\n        if (newGroup) {\n          for (var prop in change) {\n            if (m = prop.match(/^spans_(\\d+)$/)) {\n              if (indexOf(newGroup, Number(m[1])) > -1) {\n                lst(newChanges)[prop] = change[prop];\n                delete change[prop];\n              }\n            }\n          }\n        }\n      }\n    }\n\n    return copy;\n  } // The 'scroll' parameter given to many of these indicated whether\n  // the new cursor position should be scrolled into view after\n  // modifying the selection.\n  // If shift is held or the extend flag is set, extends a range to\n  // include a given position (and optionally a second position).\n  // Otherwise, simply returns the range between the given positions.\n  // Used for cursor motion and such.\n\n\n  function extendRange(range, head, other, extend) {\n    if (extend) {\n      var anchor = range.anchor;\n\n      if (other) {\n        var posBefore = cmp(head, anchor) < 0;\n\n        if (posBefore != cmp(other, anchor) < 0) {\n          anchor = head;\n          head = other;\n        } else if (posBefore != cmp(head, other) < 0) {\n          head = other;\n        }\n      }\n\n      return new Range(anchor, head);\n    } else {\n      return new Range(other || head, head);\n    }\n  } // Extend the primary selection range, discard the rest.\n\n\n  function extendSelection(doc, head, other, options, extend) {\n    if (extend == null) {\n      extend = doc.cm && (doc.cm.display.shift || doc.extend);\n    }\n\n    setSelection(doc, new Selection([extendRange(doc.sel.primary(), head, other, extend)], 0), options);\n  } // Extend all selections (pos is an array of selections with length\n  // equal the number of selections)\n\n\n  function extendSelections(doc, heads, options) {\n    var out = [];\n    var extend = doc.cm && (doc.cm.display.shift || doc.extend);\n\n    for (var i = 0; i < doc.sel.ranges.length; i++) {\n      out[i] = extendRange(doc.sel.ranges[i], heads[i], null, extend);\n    }\n\n    var newSel = normalizeSelection(doc.cm, out, doc.sel.primIndex);\n    setSelection(doc, newSel, options);\n  } // Updates a single range in the selection.\n\n\n  function replaceOneSelection(doc, i, range, options) {\n    var ranges = doc.sel.ranges.slice(0);\n    ranges[i] = range;\n    setSelection(doc, normalizeSelection(doc.cm, ranges, doc.sel.primIndex), options);\n  } // Reset the selection to a single range.\n\n\n  function setSimpleSelection(doc, anchor, head, options) {\n    setSelection(doc, simpleSelection(anchor, head), options);\n  } // Give beforeSelectionChange handlers a change to influence a\n  // selection update.\n\n\n  function filterSelectionChange(doc, sel, options) {\n    var obj = {\n      ranges: sel.ranges,\n      update: function (ranges) {\n        this.ranges = [];\n\n        for (var i = 0; i < ranges.length; i++) {\n          this.ranges[i] = new Range(clipPos(doc, ranges[i].anchor), clipPos(doc, ranges[i].head));\n        }\n      },\n      origin: options && options.origin\n    };\n    signal(doc, \"beforeSelectionChange\", doc, obj);\n\n    if (doc.cm) {\n      signal(doc.cm, \"beforeSelectionChange\", doc.cm, obj);\n    }\n\n    if (obj.ranges != sel.ranges) {\n      return normalizeSelection(doc.cm, obj.ranges, obj.ranges.length - 1);\n    } else {\n      return sel;\n    }\n  }\n\n  function setSelectionReplaceHistory(doc, sel, options) {\n    var done = doc.history.done,\n        last = lst(done);\n\n    if (last && last.ranges) {\n      done[done.length - 1] = sel;\n      setSelectionNoUndo(doc, sel, options);\n    } else {\n      setSelection(doc, sel, options);\n    }\n  } // Set a new selection.\n\n\n  function setSelection(doc, sel, options) {\n    setSelectionNoUndo(doc, sel, options);\n    addSelectionToHistory(doc, doc.sel, doc.cm ? doc.cm.curOp.id : NaN, options);\n  }\n\n  function setSelectionNoUndo(doc, sel, options) {\n    if (hasHandler(doc, \"beforeSelectionChange\") || doc.cm && hasHandler(doc.cm, \"beforeSelectionChange\")) {\n      sel = filterSelectionChange(doc, sel, options);\n    }\n\n    var bias = options && options.bias || (cmp(sel.primary().head, doc.sel.primary().head) < 0 ? -1 : 1);\n    setSelectionInner(doc, skipAtomicInSelection(doc, sel, bias, true));\n\n    if (!(options && options.scroll === false) && doc.cm) {\n      ensureCursorVisible(doc.cm);\n    }\n  }\n\n  function setSelectionInner(doc, sel) {\n    if (sel.equals(doc.sel)) {\n      return;\n    }\n\n    doc.sel = sel;\n\n    if (doc.cm) {\n      doc.cm.curOp.updateInput = 1;\n      doc.cm.curOp.selectionChanged = true;\n      signalCursorActivity(doc.cm);\n    }\n\n    signalLater(doc, \"cursorActivity\", doc);\n  } // Verify that the selection does not partially select any atomic\n  // marked ranges.\n\n\n  function reCheckSelection(doc) {\n    setSelectionInner(doc, skipAtomicInSelection(doc, doc.sel, null, false));\n  } // Return a selection that does not partially select any atomic\n  // ranges.\n\n\n  function skipAtomicInSelection(doc, sel, bias, mayClear) {\n    var out;\n\n    for (var i = 0; i < sel.ranges.length; i++) {\n      var range = sel.ranges[i];\n      var old = sel.ranges.length == doc.sel.ranges.length && doc.sel.ranges[i];\n      var newAnchor = skipAtomic(doc, range.anchor, old && old.anchor, bias, mayClear);\n      var newHead = skipAtomic(doc, range.head, old && old.head, bias, mayClear);\n\n      if (out || newAnchor != range.anchor || newHead != range.head) {\n        if (!out) {\n          out = sel.ranges.slice(0, i);\n        }\n\n        out[i] = new Range(newAnchor, newHead);\n      }\n    }\n\n    return out ? normalizeSelection(doc.cm, out, sel.primIndex) : sel;\n  }\n\n  function skipAtomicInner(doc, pos, oldPos, dir, mayClear) {\n    var line = getLine(doc, pos.line);\n\n    if (line.markedSpans) {\n      for (var i = 0; i < line.markedSpans.length; ++i) {\n        var sp = line.markedSpans[i],\n            m = sp.marker; // Determine if we should prevent the cursor being placed to the left/right of an atomic marker\n        // Historically this was determined using the inclusiveLeft/Right option, but the new way to control it\n        // is with selectLeft/Right\n\n        var preventCursorLeft = \"selectLeft\" in m ? !m.selectLeft : m.inclusiveLeft;\n        var preventCursorRight = \"selectRight\" in m ? !m.selectRight : m.inclusiveRight;\n\n        if ((sp.from == null || (preventCursorLeft ? sp.from <= pos.ch : sp.from < pos.ch)) && (sp.to == null || (preventCursorRight ? sp.to >= pos.ch : sp.to > pos.ch))) {\n          if (mayClear) {\n            signal(m, \"beforeCursorEnter\");\n\n            if (m.explicitlyCleared) {\n              if (!line.markedSpans) {\n                break;\n              } else {\n                --i;\n                continue;\n              }\n            }\n          }\n\n          if (!m.atomic) {\n            continue;\n          }\n\n          if (oldPos) {\n            var near = m.find(dir < 0 ? 1 : -1),\n                diff = void 0;\n\n            if (dir < 0 ? preventCursorRight : preventCursorLeft) {\n              near = movePos(doc, near, -dir, near && near.line == pos.line ? line : null);\n            }\n\n            if (near && near.line == pos.line && (diff = cmp(near, oldPos)) && (dir < 0 ? diff < 0 : diff > 0)) {\n              return skipAtomicInner(doc, near, pos, dir, mayClear);\n            }\n          }\n\n          var far = m.find(dir < 0 ? -1 : 1);\n\n          if (dir < 0 ? preventCursorLeft : preventCursorRight) {\n            far = movePos(doc, far, dir, far.line == pos.line ? line : null);\n          }\n\n          return far ? skipAtomicInner(doc, far, pos, dir, mayClear) : null;\n        }\n      }\n    }\n\n    return pos;\n  } // Ensure a given position is not inside an atomic range.\n\n\n  function skipAtomic(doc, pos, oldPos, bias, mayClear) {\n    var dir = bias || 1;\n    var found = skipAtomicInner(doc, pos, oldPos, dir, mayClear) || !mayClear && skipAtomicInner(doc, pos, oldPos, dir, true) || skipAtomicInner(doc, pos, oldPos, -dir, mayClear) || !mayClear && skipAtomicInner(doc, pos, oldPos, -dir, true);\n\n    if (!found) {\n      doc.cantEdit = true;\n      return Pos(doc.first, 0);\n    }\n\n    return found;\n  }\n\n  function movePos(doc, pos, dir, line) {\n    if (dir < 0 && pos.ch == 0) {\n      if (pos.line > doc.first) {\n        return clipPos(doc, Pos(pos.line - 1));\n      } else {\n        return null;\n      }\n    } else if (dir > 0 && pos.ch == (line || getLine(doc, pos.line)).text.length) {\n      if (pos.line < doc.first + doc.size - 1) {\n        return Pos(pos.line + 1, 0);\n      } else {\n        return null;\n      }\n    } else {\n      return new Pos(pos.line, pos.ch + dir);\n    }\n  }\n\n  function selectAll(cm) {\n    cm.setSelection(Pos(cm.firstLine(), 0), Pos(cm.lastLine()), sel_dontScroll);\n  } // UPDATING\n  // Allow \"beforeChange\" event handlers to influence a change\n\n\n  function filterChange(doc, change, update) {\n    var obj = {\n      canceled: false,\n      from: change.from,\n      to: change.to,\n      text: change.text,\n      origin: change.origin,\n      cancel: function () {\n        return obj.canceled = true;\n      }\n    };\n\n    if (update) {\n      obj.update = function (from, to, text, origin) {\n        if (from) {\n          obj.from = clipPos(doc, from);\n        }\n\n        if (to) {\n          obj.to = clipPos(doc, to);\n        }\n\n        if (text) {\n          obj.text = text;\n        }\n\n        if (origin !== undefined) {\n          obj.origin = origin;\n        }\n      };\n    }\n\n    signal(doc, \"beforeChange\", doc, obj);\n\n    if (doc.cm) {\n      signal(doc.cm, \"beforeChange\", doc.cm, obj);\n    }\n\n    if (obj.canceled) {\n      if (doc.cm) {\n        doc.cm.curOp.updateInput = 2;\n      }\n\n      return null;\n    }\n\n    return {\n      from: obj.from,\n      to: obj.to,\n      text: obj.text,\n      origin: obj.origin\n    };\n  } // Apply a change to a document, and add it to the document's\n  // history, and propagating it to all linked documents.\n\n\n  function makeChange(doc, change, ignoreReadOnly) {\n    if (doc.cm) {\n      if (!doc.cm.curOp) {\n        return operation(doc.cm, makeChange)(doc, change, ignoreReadOnly);\n      }\n\n      if (doc.cm.state.suppressEdits) {\n        return;\n      }\n    }\n\n    if (hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\")) {\n      change = filterChange(doc, change, true);\n\n      if (!change) {\n        return;\n      }\n    } // Possibly split or suppress the update based on the presence\n    // of read-only spans in its range.\n\n\n    var split = sawReadOnlySpans && !ignoreReadOnly && removeReadOnlyRanges(doc, change.from, change.to);\n\n    if (split) {\n      for (var i = split.length - 1; i >= 0; --i) {\n        makeChangeInner(doc, {\n          from: split[i].from,\n          to: split[i].to,\n          text: i ? [\"\"] : change.text,\n          origin: change.origin\n        });\n      }\n    } else {\n      makeChangeInner(doc, change);\n    }\n  }\n\n  function makeChangeInner(doc, change) {\n    if (change.text.length == 1 && change.text[0] == \"\" && cmp(change.from, change.to) == 0) {\n      return;\n    }\n\n    var selAfter = computeSelAfterChange(doc, change);\n    addChangeToHistory(doc, change, selAfter, doc.cm ? doc.cm.curOp.id : NaN);\n    makeChangeSingleDoc(doc, change, selAfter, stretchSpansOverChange(doc, change));\n    var rebased = [];\n    linkedDocs(doc, function (doc, sharedHist) {\n      if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n        rebaseHist(doc.history, change);\n        rebased.push(doc.history);\n      }\n\n      makeChangeSingleDoc(doc, change, null, stretchSpansOverChange(doc, change));\n    });\n  } // Revert a change stored in a document's history.\n\n\n  function makeChangeFromHistory(doc, type, allowSelectionOnly) {\n    var suppress = doc.cm && doc.cm.state.suppressEdits;\n\n    if (suppress && !allowSelectionOnly) {\n      return;\n    }\n\n    var hist = doc.history,\n        event,\n        selAfter = doc.sel;\n    var source = type == \"undo\" ? hist.done : hist.undone,\n        dest = type == \"undo\" ? hist.undone : hist.done; // Verify that there is a useable event (so that ctrl-z won't\n    // needlessly clear selection events)\n\n    var i = 0;\n\n    for (; i < source.length; i++) {\n      event = source[i];\n\n      if (allowSelectionOnly ? event.ranges && !event.equals(doc.sel) : !event.ranges) {\n        break;\n      }\n    }\n\n    if (i == source.length) {\n      return;\n    }\n\n    hist.lastOrigin = hist.lastSelOrigin = null;\n\n    for (;;) {\n      event = source.pop();\n\n      if (event.ranges) {\n        pushSelectionToHistory(event, dest);\n\n        if (allowSelectionOnly && !event.equals(doc.sel)) {\n          setSelection(doc, event, {\n            clearRedo: false\n          });\n          return;\n        }\n\n        selAfter = event;\n      } else if (suppress) {\n        source.push(event);\n        return;\n      } else {\n        break;\n      }\n    } // Build up a reverse change object to add to the opposite history\n    // stack (redo when undoing, and vice versa).\n\n\n    var antiChanges = [];\n    pushSelectionToHistory(selAfter, dest);\n    dest.push({\n      changes: antiChanges,\n      generation: hist.generation\n    });\n    hist.generation = event.generation || ++hist.maxGeneration;\n    var filter = hasHandler(doc, \"beforeChange\") || doc.cm && hasHandler(doc.cm, \"beforeChange\");\n\n    var loop = function (i) {\n      var change = event.changes[i];\n      change.origin = type;\n\n      if (filter && !filterChange(doc, change, false)) {\n        source.length = 0;\n        return {};\n      }\n\n      antiChanges.push(historyChangeFromChange(doc, change));\n      var after = i ? computeSelAfterChange(doc, change) : lst(source);\n      makeChangeSingleDoc(doc, change, after, mergeOldSpans(doc, change));\n\n      if (!i && doc.cm) {\n        doc.cm.scrollIntoView({\n          from: change.from,\n          to: changeEnd(change)\n        });\n      }\n\n      var rebased = []; // Propagate to the linked documents\n\n      linkedDocs(doc, function (doc, sharedHist) {\n        if (!sharedHist && indexOf(rebased, doc.history) == -1) {\n          rebaseHist(doc.history, change);\n          rebased.push(doc.history);\n        }\n\n        makeChangeSingleDoc(doc, change, null, mergeOldSpans(doc, change));\n      });\n    };\n\n    for (var i$1 = event.changes.length - 1; i$1 >= 0; --i$1) {\n      var returned = loop(i$1);\n      if (returned) return returned.v;\n    }\n  } // Sub-views need their line numbers shifted when text is added\n  // above or below them in the parent document.\n\n\n  function shiftDoc(doc, distance) {\n    if (distance == 0) {\n      return;\n    }\n\n    doc.first += distance;\n    doc.sel = new Selection(map(doc.sel.ranges, function (range) {\n      return new Range(Pos(range.anchor.line + distance, range.anchor.ch), Pos(range.head.line + distance, range.head.ch));\n    }), doc.sel.primIndex);\n\n    if (doc.cm) {\n      regChange(doc.cm, doc.first, doc.first - distance, distance);\n\n      for (var d = doc.cm.display, l = d.viewFrom; l < d.viewTo; l++) {\n        regLineChange(doc.cm, l, \"gutter\");\n      }\n    }\n  } // More lower-level change function, handling only a single document\n  // (not linked ones).\n\n\n  function makeChangeSingleDoc(doc, change, selAfter, spans) {\n    if (doc.cm && !doc.cm.curOp) {\n      return operation(doc.cm, makeChangeSingleDoc)(doc, change, selAfter, spans);\n    }\n\n    if (change.to.line < doc.first) {\n      shiftDoc(doc, change.text.length - 1 - (change.to.line - change.from.line));\n      return;\n    }\n\n    if (change.from.line > doc.lastLine()) {\n      return;\n    } // Clip the change to the size of this doc\n\n\n    if (change.from.line < doc.first) {\n      var shift = change.text.length - 1 - (doc.first - change.from.line);\n      shiftDoc(doc, shift);\n      change = {\n        from: Pos(doc.first, 0),\n        to: Pos(change.to.line + shift, change.to.ch),\n        text: [lst(change.text)],\n        origin: change.origin\n      };\n    }\n\n    var last = doc.lastLine();\n\n    if (change.to.line > last) {\n      change = {\n        from: change.from,\n        to: Pos(last, getLine(doc, last).text.length),\n        text: [change.text[0]],\n        origin: change.origin\n      };\n    }\n\n    change.removed = getBetween(doc, change.from, change.to);\n\n    if (!selAfter) {\n      selAfter = computeSelAfterChange(doc, change);\n    }\n\n    if (doc.cm) {\n      makeChangeSingleDocInEditor(doc.cm, change, spans);\n    } else {\n      updateDoc(doc, change, spans);\n    }\n\n    setSelectionNoUndo(doc, selAfter, sel_dontScroll);\n\n    if (doc.cantEdit && skipAtomic(doc, Pos(doc.firstLine(), 0))) {\n      doc.cantEdit = false;\n    }\n  } // Handle the interaction of a change to a document with the editor\n  // that this document is part of.\n\n\n  function makeChangeSingleDocInEditor(cm, change, spans) {\n    var doc = cm.doc,\n        display = cm.display,\n        from = change.from,\n        to = change.to;\n    var recomputeMaxLength = false,\n        checkWidthStart = from.line;\n\n    if (!cm.options.lineWrapping) {\n      checkWidthStart = lineNo(visualLine(getLine(doc, from.line)));\n      doc.iter(checkWidthStart, to.line + 1, function (line) {\n        if (line == display.maxLine) {\n          recomputeMaxLength = true;\n          return true;\n        }\n      });\n    }\n\n    if (doc.sel.contains(change.from, change.to) > -1) {\n      signalCursorActivity(cm);\n    }\n\n    updateDoc(doc, change, spans, estimateHeight(cm));\n\n    if (!cm.options.lineWrapping) {\n      doc.iter(checkWidthStart, from.line + change.text.length, function (line) {\n        var len = lineLength(line);\n\n        if (len > display.maxLineLength) {\n          display.maxLine = line;\n          display.maxLineLength = len;\n          display.maxLineChanged = true;\n          recomputeMaxLength = false;\n        }\n      });\n\n      if (recomputeMaxLength) {\n        cm.curOp.updateMaxLine = true;\n      }\n    }\n\n    retreatFrontier(doc, from.line);\n    startWorker(cm, 400);\n    var lendiff = change.text.length - (to.line - from.line) - 1; // Remember that these lines changed, for updating the display\n\n    if (change.full) {\n      regChange(cm);\n    } else if (from.line == to.line && change.text.length == 1 && !isWholeLineUpdate(cm.doc, change)) {\n      regLineChange(cm, from.line, \"text\");\n    } else {\n      regChange(cm, from.line, to.line + 1, lendiff);\n    }\n\n    var changesHandler = hasHandler(cm, \"changes\"),\n        changeHandler = hasHandler(cm, \"change\");\n\n    if (changeHandler || changesHandler) {\n      var obj = {\n        from: from,\n        to: to,\n        text: change.text,\n        removed: change.removed,\n        origin: change.origin\n      };\n\n      if (changeHandler) {\n        signalLater(cm, \"change\", cm, obj);\n      }\n\n      if (changesHandler) {\n        (cm.curOp.changeObjs || (cm.curOp.changeObjs = [])).push(obj);\n      }\n    }\n\n    cm.display.selForContextMenu = null;\n  }\n\n  function replaceRange(doc, code, from, to, origin) {\n    var assign;\n\n    if (!to) {\n      to = from;\n    }\n\n    if (cmp(to, from) < 0) {\n      assign = [to, from], from = assign[0], to = assign[1];\n    }\n\n    if (typeof code == \"string\") {\n      code = doc.splitLines(code);\n    }\n\n    makeChange(doc, {\n      from: from,\n      to: to,\n      text: code,\n      origin: origin\n    });\n  } // Rebasing/resetting history to deal with externally-sourced changes\n\n\n  function rebaseHistSelSingle(pos, from, to, diff) {\n    if (to < pos.line) {\n      pos.line += diff;\n    } else if (from < pos.line) {\n      pos.line = from;\n      pos.ch = 0;\n    }\n  } // Tries to rebase an array of history events given a change in the\n  // document. If the change touches the same lines as the event, the\n  // event, and everything 'behind' it, is discarded. If the change is\n  // before the event, the event's positions are updated. Uses a\n  // copy-on-write scheme for the positions, to avoid having to\n  // reallocate them all on every rebase, but also avoid problems with\n  // shared position objects being unsafely updated.\n\n\n  function rebaseHistArray(array, from, to, diff) {\n    for (var i = 0; i < array.length; ++i) {\n      var sub = array[i],\n          ok = true;\n\n      if (sub.ranges) {\n        if (!sub.copied) {\n          sub = array[i] = sub.deepCopy();\n          sub.copied = true;\n        }\n\n        for (var j = 0; j < sub.ranges.length; j++) {\n          rebaseHistSelSingle(sub.ranges[j].anchor, from, to, diff);\n          rebaseHistSelSingle(sub.ranges[j].head, from, to, diff);\n        }\n\n        continue;\n      }\n\n      for (var j$1 = 0; j$1 < sub.changes.length; ++j$1) {\n        var cur = sub.changes[j$1];\n\n        if (to < cur.from.line) {\n          cur.from = Pos(cur.from.line + diff, cur.from.ch);\n          cur.to = Pos(cur.to.line + diff, cur.to.ch);\n        } else if (from <= cur.to.line) {\n          ok = false;\n          break;\n        }\n      }\n\n      if (!ok) {\n        array.splice(0, i + 1);\n        i = 0;\n      }\n    }\n  }\n\n  function rebaseHist(hist, change) {\n    var from = change.from.line,\n        to = change.to.line,\n        diff = change.text.length - (to - from) - 1;\n    rebaseHistArray(hist.done, from, to, diff);\n    rebaseHistArray(hist.undone, from, to, diff);\n  } // Utility for applying a change to a line by handle or number,\n  // returning the number and optionally registering the line as\n  // changed.\n\n\n  function changeLine(doc, handle, changeType, op) {\n    var no = handle,\n        line = handle;\n\n    if (typeof handle == \"number\") {\n      line = getLine(doc, clipLine(doc, handle));\n    } else {\n      no = lineNo(handle);\n    }\n\n    if (no == null) {\n      return null;\n    }\n\n    if (op(line, no) && doc.cm) {\n      regLineChange(doc.cm, no, changeType);\n    }\n\n    return line;\n  } // The document is represented as a BTree consisting of leaves, with\n  // chunk of lines in them, and branches, with up to ten leaves or\n  // other branch nodes below them. The top node is always a branch\n  // node, and is the document object itself (meaning it has\n  // additional methods and properties).\n  //\n  // All nodes have parent links. The tree is used both to go from\n  // line numbers to line objects, and to go from objects to numbers.\n  // It also indexes by height, and is used to convert between height\n  // and line object, and to find the total height of the document.\n  //\n  // See also http://marijnhaverbeke.nl/blog/codemirror-line-tree.html\n\n\n  function LeafChunk(lines) {\n    this.lines = lines;\n    this.parent = null;\n    var height = 0;\n\n    for (var i = 0; i < lines.length; ++i) {\n      lines[i].parent = this;\n      height += lines[i].height;\n    }\n\n    this.height = height;\n  }\n\n  LeafChunk.prototype = {\n    chunkSize: function () {\n      return this.lines.length;\n    },\n    // Remove the n lines at offset 'at'.\n    removeInner: function (at, n) {\n      for (var i = at, e = at + n; i < e; ++i) {\n        var line = this.lines[i];\n        this.height -= line.height;\n        cleanUpLine(line);\n        signalLater(line, \"delete\");\n      }\n\n      this.lines.splice(at, n);\n    },\n    // Helper used to collapse a small branch into a single leaf.\n    collapse: function (lines) {\n      lines.push.apply(lines, this.lines);\n    },\n    // Insert the given array of lines at offset 'at', count them as\n    // having the given height.\n    insertInner: function (at, lines, height) {\n      this.height += height;\n      this.lines = this.lines.slice(0, at).concat(lines).concat(this.lines.slice(at));\n\n      for (var i = 0; i < lines.length; ++i) {\n        lines[i].parent = this;\n      }\n    },\n    // Used to iterate over a part of the tree.\n    iterN: function (at, n, op) {\n      for (var e = at + n; at < e; ++at) {\n        if (op(this.lines[at])) {\n          return true;\n        }\n      }\n    }\n  };\n\n  function BranchChunk(children) {\n    this.children = children;\n    var size = 0,\n        height = 0;\n\n    for (var i = 0; i < children.length; ++i) {\n      var ch = children[i];\n      size += ch.chunkSize();\n      height += ch.height;\n      ch.parent = this;\n    }\n\n    this.size = size;\n    this.height = height;\n    this.parent = null;\n  }\n\n  BranchChunk.prototype = {\n    chunkSize: function () {\n      return this.size;\n    },\n    removeInner: function (at, n) {\n      this.size -= n;\n\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i],\n            sz = child.chunkSize();\n\n        if (at < sz) {\n          var rm = Math.min(n, sz - at),\n              oldHeight = child.height;\n          child.removeInner(at, rm);\n          this.height -= oldHeight - child.height;\n\n          if (sz == rm) {\n            this.children.splice(i--, 1);\n            child.parent = null;\n          }\n\n          if ((n -= rm) == 0) {\n            break;\n          }\n\n          at = 0;\n        } else {\n          at -= sz;\n        }\n      } // If the result is smaller than 25 lines, ensure that it is a\n      // single leaf node.\n\n\n      if (this.size - n < 25 && (this.children.length > 1 || !(this.children[0] instanceof LeafChunk))) {\n        var lines = [];\n        this.collapse(lines);\n        this.children = [new LeafChunk(lines)];\n        this.children[0].parent = this;\n      }\n    },\n    collapse: function (lines) {\n      for (var i = 0; i < this.children.length; ++i) {\n        this.children[i].collapse(lines);\n      }\n    },\n    insertInner: function (at, lines, height) {\n      this.size += lines.length;\n      this.height += height;\n\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i],\n            sz = child.chunkSize();\n\n        if (at <= sz) {\n          child.insertInner(at, lines, height);\n\n          if (child.lines && child.lines.length > 50) {\n            // To avoid memory thrashing when child.lines is huge (e.g. first view of a large file), it's never spliced.\n            // Instead, small slices are taken. They're taken in order because sequential memory accesses are fastest.\n            var remaining = child.lines.length % 25 + 25;\n\n            for (var pos = remaining; pos < child.lines.length;) {\n              var leaf = new LeafChunk(child.lines.slice(pos, pos += 25));\n              child.height -= leaf.height;\n              this.children.splice(++i, 0, leaf);\n              leaf.parent = this;\n            }\n\n            child.lines = child.lines.slice(0, remaining);\n            this.maybeSpill();\n          }\n\n          break;\n        }\n\n        at -= sz;\n      }\n    },\n    // When a node has grown, check whether it should be split.\n    maybeSpill: function () {\n      if (this.children.length <= 10) {\n        return;\n      }\n\n      var me = this;\n\n      do {\n        var spilled = me.children.splice(me.children.length - 5, 5);\n        var sibling = new BranchChunk(spilled);\n\n        if (!me.parent) {\n          // Become the parent node\n          var copy = new BranchChunk(me.children);\n          copy.parent = me;\n          me.children = [copy, sibling];\n          me = copy;\n        } else {\n          me.size -= sibling.size;\n          me.height -= sibling.height;\n          var myIndex = indexOf(me.parent.children, me);\n          me.parent.children.splice(myIndex + 1, 0, sibling);\n        }\n\n        sibling.parent = me.parent;\n      } while (me.children.length > 10);\n\n      me.parent.maybeSpill();\n    },\n    iterN: function (at, n, op) {\n      for (var i = 0; i < this.children.length; ++i) {\n        var child = this.children[i],\n            sz = child.chunkSize();\n\n        if (at < sz) {\n          var used = Math.min(n, sz - at);\n\n          if (child.iterN(at, used, op)) {\n            return true;\n          }\n\n          if ((n -= used) == 0) {\n            break;\n          }\n\n          at = 0;\n        } else {\n          at -= sz;\n        }\n      }\n    }\n  }; // Line widgets are block elements displayed above or below a line.\n\n  var LineWidget = function (doc, node, options) {\n    if (options) {\n      for (var opt in options) {\n        if (options.hasOwnProperty(opt)) {\n          this[opt] = options[opt];\n        }\n      }\n    }\n\n    this.doc = doc;\n    this.node = node;\n  };\n\n  LineWidget.prototype.clear = function () {\n    var cm = this.doc.cm,\n        ws = this.line.widgets,\n        line = this.line,\n        no = lineNo(line);\n\n    if (no == null || !ws) {\n      return;\n    }\n\n    for (var i = 0; i < ws.length; ++i) {\n      if (ws[i] == this) {\n        ws.splice(i--, 1);\n      }\n    }\n\n    if (!ws.length) {\n      line.widgets = null;\n    }\n\n    var height = widgetHeight(this);\n    updateLineHeight(line, Math.max(0, line.height - height));\n\n    if (cm) {\n      runInOp(cm, function () {\n        adjustScrollWhenAboveVisible(cm, line, -height);\n        regLineChange(cm, no, \"widget\");\n      });\n      signalLater(cm, \"lineWidgetCleared\", cm, this, no);\n    }\n  };\n\n  LineWidget.prototype.changed = function () {\n    var this$1 = this;\n    var oldH = this.height,\n        cm = this.doc.cm,\n        line = this.line;\n    this.height = null;\n    var diff = widgetHeight(this) - oldH;\n\n    if (!diff) {\n      return;\n    }\n\n    if (!lineIsHidden(this.doc, line)) {\n      updateLineHeight(line, line.height + diff);\n    }\n\n    if (cm) {\n      runInOp(cm, function () {\n        cm.curOp.forceUpdate = true;\n        adjustScrollWhenAboveVisible(cm, line, diff);\n        signalLater(cm, \"lineWidgetChanged\", cm, this$1, lineNo(line));\n      });\n    }\n  };\n\n  eventMixin(LineWidget);\n\n  function adjustScrollWhenAboveVisible(cm, line, diff) {\n    if (heightAtLine(line) < (cm.curOp && cm.curOp.scrollTop || cm.doc.scrollTop)) {\n      addToScrollTop(cm, diff);\n    }\n  }\n\n  function addLineWidget(doc, handle, node, options) {\n    var widget = new LineWidget(doc, node, options);\n    var cm = doc.cm;\n\n    if (cm && widget.noHScroll) {\n      cm.display.alignWidgets = true;\n    }\n\n    changeLine(doc, handle, \"widget\", function (line) {\n      var widgets = line.widgets || (line.widgets = []);\n\n      if (widget.insertAt == null) {\n        widgets.push(widget);\n      } else {\n        widgets.splice(Math.min(widgets.length - 1, Math.max(0, widget.insertAt)), 0, widget);\n      }\n\n      widget.line = line;\n\n      if (cm && !lineIsHidden(doc, line)) {\n        var aboveVisible = heightAtLine(line) < doc.scrollTop;\n        updateLineHeight(line, line.height + widgetHeight(widget));\n\n        if (aboveVisible) {\n          addToScrollTop(cm, widget.height);\n        }\n\n        cm.curOp.forceUpdate = true;\n      }\n\n      return true;\n    });\n\n    if (cm) {\n      signalLater(cm, \"lineWidgetAdded\", cm, widget, typeof handle == \"number\" ? handle : lineNo(handle));\n    }\n\n    return widget;\n  } // TEXTMARKERS\n  // Created with markText and setBookmark methods. A TextMarker is a\n  // handle that can be used to clear or find a marked position in the\n  // document. Line objects hold arrays (markedSpans) containing\n  // {from, to, marker} object pointing to such marker objects, and\n  // indicating that such a marker is present on that line. Multiple\n  // lines may point to the same marker when it spans across lines.\n  // The spans will have null for their from/to properties when the\n  // marker continues beyond the start/end of the line. Markers have\n  // links back to the lines they currently touch.\n  // Collapsed markers have unique ids, in order to be able to order\n  // them, which is needed for uniquely determining an outer marker\n  // when they overlap (they may nest, but not partially overlap).\n\n\n  var nextMarkerId = 0;\n\n  var TextMarker = function (doc, type) {\n    this.lines = [];\n    this.type = type;\n    this.doc = doc;\n    this.id = ++nextMarkerId;\n  }; // Clear the marker.\n\n\n  TextMarker.prototype.clear = function () {\n    if (this.explicitlyCleared) {\n      return;\n    }\n\n    var cm = this.doc.cm,\n        withOp = cm && !cm.curOp;\n\n    if (withOp) {\n      startOperation(cm);\n    }\n\n    if (hasHandler(this, \"clear\")) {\n      var found = this.find();\n\n      if (found) {\n        signalLater(this, \"clear\", found.from, found.to);\n      }\n    }\n\n    var min = null,\n        max = null;\n\n    for (var i = 0; i < this.lines.length; ++i) {\n      var line = this.lines[i];\n      var span = getMarkedSpanFor(line.markedSpans, this);\n\n      if (cm && !this.collapsed) {\n        regLineChange(cm, lineNo(line), \"text\");\n      } else if (cm) {\n        if (span.to != null) {\n          max = lineNo(line);\n        }\n\n        if (span.from != null) {\n          min = lineNo(line);\n        }\n      }\n\n      line.markedSpans = removeMarkedSpan(line.markedSpans, span);\n\n      if (span.from == null && this.collapsed && !lineIsHidden(this.doc, line) && cm) {\n        updateLineHeight(line, textHeight(cm.display));\n      }\n    }\n\n    if (cm && this.collapsed && !cm.options.lineWrapping) {\n      for (var i$1 = 0; i$1 < this.lines.length; ++i$1) {\n        var visual = visualLine(this.lines[i$1]),\n            len = lineLength(visual);\n\n        if (len > cm.display.maxLineLength) {\n          cm.display.maxLine = visual;\n          cm.display.maxLineLength = len;\n          cm.display.maxLineChanged = true;\n        }\n      }\n    }\n\n    if (min != null && cm && this.collapsed) {\n      regChange(cm, min, max + 1);\n    }\n\n    this.lines.length = 0;\n    this.explicitlyCleared = true;\n\n    if (this.atomic && this.doc.cantEdit) {\n      this.doc.cantEdit = false;\n\n      if (cm) {\n        reCheckSelection(cm.doc);\n      }\n    }\n\n    if (cm) {\n      signalLater(cm, \"markerCleared\", cm, this, min, max);\n    }\n\n    if (withOp) {\n      endOperation(cm);\n    }\n\n    if (this.parent) {\n      this.parent.clear();\n    }\n  }; // Find the position of the marker in the document. Returns a {from,\n  // to} object by default. Side can be passed to get a specific side\n  // -- 0 (both), -1 (left), or 1 (right). When lineObj is true, the\n  // Pos objects returned contain a line object, rather than a line\n  // number (used to prevent looking up the same line twice).\n\n\n  TextMarker.prototype.find = function (side, lineObj) {\n    if (side == null && this.type == \"bookmark\") {\n      side = 1;\n    }\n\n    var from, to;\n\n    for (var i = 0; i < this.lines.length; ++i) {\n      var line = this.lines[i];\n      var span = getMarkedSpanFor(line.markedSpans, this);\n\n      if (span.from != null) {\n        from = Pos(lineObj ? line : lineNo(line), span.from);\n\n        if (side == -1) {\n          return from;\n        }\n      }\n\n      if (span.to != null) {\n        to = Pos(lineObj ? line : lineNo(line), span.to);\n\n        if (side == 1) {\n          return to;\n        }\n      }\n    }\n\n    return from && {\n      from: from,\n      to: to\n    };\n  }; // Signals that the marker's widget changed, and surrounding layout\n  // should be recomputed.\n\n\n  TextMarker.prototype.changed = function () {\n    var this$1 = this;\n    var pos = this.find(-1, true),\n        widget = this,\n        cm = this.doc.cm;\n\n    if (!pos || !cm) {\n      return;\n    }\n\n    runInOp(cm, function () {\n      var line = pos.line,\n          lineN = lineNo(pos.line);\n      var view = findViewForLine(cm, lineN);\n\n      if (view) {\n        clearLineMeasurementCacheFor(view);\n        cm.curOp.selectionChanged = cm.curOp.forceUpdate = true;\n      }\n\n      cm.curOp.updateMaxLine = true;\n\n      if (!lineIsHidden(widget.doc, line) && widget.height != null) {\n        var oldHeight = widget.height;\n        widget.height = null;\n        var dHeight = widgetHeight(widget) - oldHeight;\n\n        if (dHeight) {\n          updateLineHeight(line, line.height + dHeight);\n        }\n      }\n\n      signalLater(cm, \"markerChanged\", cm, this$1);\n    });\n  };\n\n  TextMarker.prototype.attachLine = function (line) {\n    if (!this.lines.length && this.doc.cm) {\n      var op = this.doc.cm.curOp;\n\n      if (!op.maybeHiddenMarkers || indexOf(op.maybeHiddenMarkers, this) == -1) {\n        (op.maybeUnhiddenMarkers || (op.maybeUnhiddenMarkers = [])).push(this);\n      }\n    }\n\n    this.lines.push(line);\n  };\n\n  TextMarker.prototype.detachLine = function (line) {\n    this.lines.splice(indexOf(this.lines, line), 1);\n\n    if (!this.lines.length && this.doc.cm) {\n      var op = this.doc.cm.curOp;\n      (op.maybeHiddenMarkers || (op.maybeHiddenMarkers = [])).push(this);\n    }\n  };\n\n  eventMixin(TextMarker); // Create a marker, wire it up to the right lines, and\n\n  function markText(doc, from, to, options, type) {\n    // Shared markers (across linked documents) are handled separately\n    // (markTextShared will call out to this again, once per\n    // document).\n    if (options && options.shared) {\n      return markTextShared(doc, from, to, options, type);\n    } // Ensure we are in an operation.\n\n\n    if (doc.cm && !doc.cm.curOp) {\n      return operation(doc.cm, markText)(doc, from, to, options, type);\n    }\n\n    var marker = new TextMarker(doc, type),\n        diff = cmp(from, to);\n\n    if (options) {\n      copyObj(options, marker, false);\n    } // Don't connect empty markers unless clearWhenEmpty is false\n\n\n    if (diff > 0 || diff == 0 && marker.clearWhenEmpty !== false) {\n      return marker;\n    }\n\n    if (marker.replacedWith) {\n      // Showing up as a widget implies collapsed (widget replaces text)\n      marker.collapsed = true;\n      marker.widgetNode = eltP(\"span\", [marker.replacedWith], \"CodeMirror-widget\");\n\n      if (!options.handleMouseEvents) {\n        marker.widgetNode.setAttribute(\"cm-ignore-events\", \"true\");\n      }\n\n      if (options.insertLeft) {\n        marker.widgetNode.insertLeft = true;\n      }\n    }\n\n    if (marker.collapsed) {\n      if (conflictingCollapsedRange(doc, from.line, from, to, marker) || from.line != to.line && conflictingCollapsedRange(doc, to.line, from, to, marker)) {\n        throw new Error(\"Inserting collapsed marker partially overlapping an existing one\");\n      }\n\n      seeCollapsedSpans();\n    }\n\n    if (marker.addToHistory) {\n      addChangeToHistory(doc, {\n        from: from,\n        to: to,\n        origin: \"markText\"\n      }, doc.sel, NaN);\n    }\n\n    var curLine = from.line,\n        cm = doc.cm,\n        updateMaxLine;\n    doc.iter(curLine, to.line + 1, function (line) {\n      if (cm && marker.collapsed && !cm.options.lineWrapping && visualLine(line) == cm.display.maxLine) {\n        updateMaxLine = true;\n      }\n\n      if (marker.collapsed && curLine != from.line) {\n        updateLineHeight(line, 0);\n      }\n\n      addMarkedSpan(line, new MarkedSpan(marker, curLine == from.line ? from.ch : null, curLine == to.line ? to.ch : null));\n      ++curLine;\n    }); // lineIsHidden depends on the presence of the spans, so needs a second pass\n\n    if (marker.collapsed) {\n      doc.iter(from.line, to.line + 1, function (line) {\n        if (lineIsHidden(doc, line)) {\n          updateLineHeight(line, 0);\n        }\n      });\n    }\n\n    if (marker.clearOnEnter) {\n      on(marker, \"beforeCursorEnter\", function () {\n        return marker.clear();\n      });\n    }\n\n    if (marker.readOnly) {\n      seeReadOnlySpans();\n\n      if (doc.history.done.length || doc.history.undone.length) {\n        doc.clearHistory();\n      }\n    }\n\n    if (marker.collapsed) {\n      marker.id = ++nextMarkerId;\n      marker.atomic = true;\n    }\n\n    if (cm) {\n      // Sync editor state\n      if (updateMaxLine) {\n        cm.curOp.updateMaxLine = true;\n      }\n\n      if (marker.collapsed) {\n        regChange(cm, from.line, to.line + 1);\n      } else if (marker.className || marker.startStyle || marker.endStyle || marker.css || marker.attributes || marker.title) {\n        for (var i = from.line; i <= to.line; i++) {\n          regLineChange(cm, i, \"text\");\n        }\n      }\n\n      if (marker.atomic) {\n        reCheckSelection(cm.doc);\n      }\n\n      signalLater(cm, \"markerAdded\", cm, marker);\n    }\n\n    return marker;\n  } // SHARED TEXTMARKERS\n  // A shared marker spans multiple linked documents. It is\n  // implemented as a meta-marker-object controlling multiple normal\n  // markers.\n\n\n  var SharedTextMarker = function (markers, primary) {\n    this.markers = markers;\n    this.primary = primary;\n\n    for (var i = 0; i < markers.length; ++i) {\n      markers[i].parent = this;\n    }\n  };\n\n  SharedTextMarker.prototype.clear = function () {\n    if (this.explicitlyCleared) {\n      return;\n    }\n\n    this.explicitlyCleared = true;\n\n    for (var i = 0; i < this.markers.length; ++i) {\n      this.markers[i].clear();\n    }\n\n    signalLater(this, \"clear\");\n  };\n\n  SharedTextMarker.prototype.find = function (side, lineObj) {\n    return this.primary.find(side, lineObj);\n  };\n\n  eventMixin(SharedTextMarker);\n\n  function markTextShared(doc, from, to, options, type) {\n    options = copyObj(options);\n    options.shared = false;\n    var markers = [markText(doc, from, to, options, type)],\n        primary = markers[0];\n    var widget = options.widgetNode;\n    linkedDocs(doc, function (doc) {\n      if (widget) {\n        options.widgetNode = widget.cloneNode(true);\n      }\n\n      markers.push(markText(doc, clipPos(doc, from), clipPos(doc, to), options, type));\n\n      for (var i = 0; i < doc.linked.length; ++i) {\n        if (doc.linked[i].isParent) {\n          return;\n        }\n      }\n\n      primary = lst(markers);\n    });\n    return new SharedTextMarker(markers, primary);\n  }\n\n  function findSharedMarkers(doc) {\n    return doc.findMarks(Pos(doc.first, 0), doc.clipPos(Pos(doc.lastLine())), function (m) {\n      return m.parent;\n    });\n  }\n\n  function copySharedMarkers(doc, markers) {\n    for (var i = 0; i < markers.length; i++) {\n      var marker = markers[i],\n          pos = marker.find();\n      var mFrom = doc.clipPos(pos.from),\n          mTo = doc.clipPos(pos.to);\n\n      if (cmp(mFrom, mTo)) {\n        var subMark = markText(doc, mFrom, mTo, marker.primary, marker.primary.type);\n        marker.markers.push(subMark);\n        subMark.parent = marker;\n      }\n    }\n  }\n\n  function detachSharedMarkers(markers) {\n    var loop = function (i) {\n      var marker = markers[i],\n          linked = [marker.primary.doc];\n      linkedDocs(marker.primary.doc, function (d) {\n        return linked.push(d);\n      });\n\n      for (var j = 0; j < marker.markers.length; j++) {\n        var subMarker = marker.markers[j];\n\n        if (indexOf(linked, subMarker.doc) == -1) {\n          subMarker.parent = null;\n          marker.markers.splice(j--, 1);\n        }\n      }\n    };\n\n    for (var i = 0; i < markers.length; i++) loop(i);\n  }\n\n  var nextDocId = 0;\n\n  var Doc = function (text, mode, firstLine, lineSep, direction) {\n    if (!(this instanceof Doc)) {\n      return new Doc(text, mode, firstLine, lineSep, direction);\n    }\n\n    if (firstLine == null) {\n      firstLine = 0;\n    }\n\n    BranchChunk.call(this, [new LeafChunk([new Line(\"\", null)])]);\n    this.first = firstLine;\n    this.scrollTop = this.scrollLeft = 0;\n    this.cantEdit = false;\n    this.cleanGeneration = 1;\n    this.modeFrontier = this.highlightFrontier = firstLine;\n    var start = Pos(firstLine, 0);\n    this.sel = simpleSelection(start);\n    this.history = new History(null);\n    this.id = ++nextDocId;\n    this.modeOption = mode;\n    this.lineSep = lineSep;\n    this.direction = direction == \"rtl\" ? \"rtl\" : \"ltr\";\n    this.extend = false;\n\n    if (typeof text == \"string\") {\n      text = this.splitLines(text);\n    }\n\n    updateDoc(this, {\n      from: start,\n      to: start,\n      text: text\n    });\n    setSelection(this, simpleSelection(start), sel_dontScroll);\n  };\n\n  Doc.prototype = createObj(BranchChunk.prototype, {\n    constructor: Doc,\n    // Iterate over the document. Supports two forms -- with only one\n    // argument, it calls that for each line in the document. With\n    // three, it iterates over the range given by the first two (with\n    // the second being non-inclusive).\n    iter: function (from, to, op) {\n      if (op) {\n        this.iterN(from - this.first, to - from, op);\n      } else {\n        this.iterN(this.first, this.first + this.size, from);\n      }\n    },\n    // Non-public interface for adding and removing lines.\n    insert: function (at, lines) {\n      var height = 0;\n\n      for (var i = 0; i < lines.length; ++i) {\n        height += lines[i].height;\n      }\n\n      this.insertInner(at - this.first, lines, height);\n    },\n    remove: function (at, n) {\n      this.removeInner(at - this.first, n);\n    },\n    // From here, the methods are part of the public interface. Most\n    // are also available from CodeMirror (editor) instances.\n    getValue: function (lineSep) {\n      var lines = getLines(this, this.first, this.first + this.size);\n\n      if (lineSep === false) {\n        return lines;\n      }\n\n      return lines.join(lineSep || this.lineSeparator());\n    },\n    setValue: docMethodOp(function (code) {\n      var top = Pos(this.first, 0),\n          last = this.first + this.size - 1;\n      makeChange(this, {\n        from: top,\n        to: Pos(last, getLine(this, last).text.length),\n        text: this.splitLines(code),\n        origin: \"setValue\",\n        full: true\n      }, true);\n\n      if (this.cm) {\n        scrollToCoords(this.cm, 0, 0);\n      }\n\n      setSelection(this, simpleSelection(top), sel_dontScroll);\n    }),\n    replaceRange: function (code, from, to, origin) {\n      from = clipPos(this, from);\n      to = to ? clipPos(this, to) : from;\n      replaceRange(this, code, from, to, origin);\n    },\n    getRange: function (from, to, lineSep) {\n      var lines = getBetween(this, clipPos(this, from), clipPos(this, to));\n\n      if (lineSep === false) {\n        return lines;\n      }\n\n      return lines.join(lineSep || this.lineSeparator());\n    },\n    getLine: function (line) {\n      var l = this.getLineHandle(line);\n      return l && l.text;\n    },\n    getLineHandle: function (line) {\n      if (isLine(this, line)) {\n        return getLine(this, line);\n      }\n    },\n    getLineNumber: function (line) {\n      return lineNo(line);\n    },\n    getLineHandleVisualStart: function (line) {\n      if (typeof line == \"number\") {\n        line = getLine(this, line);\n      }\n\n      return visualLine(line);\n    },\n    lineCount: function () {\n      return this.size;\n    },\n    firstLine: function () {\n      return this.first;\n    },\n    lastLine: function () {\n      return this.first + this.size - 1;\n    },\n    clipPos: function (pos) {\n      return clipPos(this, pos);\n    },\n    getCursor: function (start) {\n      var range = this.sel.primary(),\n          pos;\n\n      if (start == null || start == \"head\") {\n        pos = range.head;\n      } else if (start == \"anchor\") {\n        pos = range.anchor;\n      } else if (start == \"end\" || start == \"to\" || start === false) {\n        pos = range.to();\n      } else {\n        pos = range.from();\n      }\n\n      return pos;\n    },\n    listSelections: function () {\n      return this.sel.ranges;\n    },\n    somethingSelected: function () {\n      return this.sel.somethingSelected();\n    },\n    setCursor: docMethodOp(function (line, ch, options) {\n      setSimpleSelection(this, clipPos(this, typeof line == \"number\" ? Pos(line, ch || 0) : line), null, options);\n    }),\n    setSelection: docMethodOp(function (anchor, head, options) {\n      setSimpleSelection(this, clipPos(this, anchor), clipPos(this, head || anchor), options);\n    }),\n    extendSelection: docMethodOp(function (head, other, options) {\n      extendSelection(this, clipPos(this, head), other && clipPos(this, other), options);\n    }),\n    extendSelections: docMethodOp(function (heads, options) {\n      extendSelections(this, clipPosArray(this, heads), options);\n    }),\n    extendSelectionsBy: docMethodOp(function (f, options) {\n      var heads = map(this.sel.ranges, f);\n      extendSelections(this, clipPosArray(this, heads), options);\n    }),\n    setSelections: docMethodOp(function (ranges, primary, options) {\n      if (!ranges.length) {\n        return;\n      }\n\n      var out = [];\n\n      for (var i = 0; i < ranges.length; i++) {\n        out[i] = new Range(clipPos(this, ranges[i].anchor), clipPos(this, ranges[i].head));\n      }\n\n      if (primary == null) {\n        primary = Math.min(ranges.length - 1, this.sel.primIndex);\n      }\n\n      setSelection(this, normalizeSelection(this.cm, out, primary), options);\n    }),\n    addSelection: docMethodOp(function (anchor, head, options) {\n      var ranges = this.sel.ranges.slice(0);\n      ranges.push(new Range(clipPos(this, anchor), clipPos(this, head || anchor)));\n      setSelection(this, normalizeSelection(this.cm, ranges, ranges.length - 1), options);\n    }),\n    getSelection: function (lineSep) {\n      var ranges = this.sel.ranges,\n          lines;\n\n      for (var i = 0; i < ranges.length; i++) {\n        var sel = getBetween(this, ranges[i].from(), ranges[i].to());\n        lines = lines ? lines.concat(sel) : sel;\n      }\n\n      if (lineSep === false) {\n        return lines;\n      } else {\n        return lines.join(lineSep || this.lineSeparator());\n      }\n    },\n    getSelections: function (lineSep) {\n      var parts = [],\n          ranges = this.sel.ranges;\n\n      for (var i = 0; i < ranges.length; i++) {\n        var sel = getBetween(this, ranges[i].from(), ranges[i].to());\n\n        if (lineSep !== false) {\n          sel = sel.join(lineSep || this.lineSeparator());\n        }\n\n        parts[i] = sel;\n      }\n\n      return parts;\n    },\n    replaceSelection: function (code, collapse, origin) {\n      var dup = [];\n\n      for (var i = 0; i < this.sel.ranges.length; i++) {\n        dup[i] = code;\n      }\n\n      this.replaceSelections(dup, collapse, origin || \"+input\");\n    },\n    replaceSelections: docMethodOp(function (code, collapse, origin) {\n      var changes = [],\n          sel = this.sel;\n\n      for (var i = 0; i < sel.ranges.length; i++) {\n        var range = sel.ranges[i];\n        changes[i] = {\n          from: range.from(),\n          to: range.to(),\n          text: this.splitLines(code[i]),\n          origin: origin\n        };\n      }\n\n      var newSel = collapse && collapse != \"end\" && computeReplacedSel(this, changes, collapse);\n\n      for (var i$1 = changes.length - 1; i$1 >= 0; i$1--) {\n        makeChange(this, changes[i$1]);\n      }\n\n      if (newSel) {\n        setSelectionReplaceHistory(this, newSel);\n      } else if (this.cm) {\n        ensureCursorVisible(this.cm);\n      }\n    }),\n    undo: docMethodOp(function () {\n      makeChangeFromHistory(this, \"undo\");\n    }),\n    redo: docMethodOp(function () {\n      makeChangeFromHistory(this, \"redo\");\n    }),\n    undoSelection: docMethodOp(function () {\n      makeChangeFromHistory(this, \"undo\", true);\n    }),\n    redoSelection: docMethodOp(function () {\n      makeChangeFromHistory(this, \"redo\", true);\n    }),\n    setExtending: function (val) {\n      this.extend = val;\n    },\n    getExtending: function () {\n      return this.extend;\n    },\n    historySize: function () {\n      var hist = this.history,\n          done = 0,\n          undone = 0;\n\n      for (var i = 0; i < hist.done.length; i++) {\n        if (!hist.done[i].ranges) {\n          ++done;\n        }\n      }\n\n      for (var i$1 = 0; i$1 < hist.undone.length; i$1++) {\n        if (!hist.undone[i$1].ranges) {\n          ++undone;\n        }\n      }\n\n      return {\n        undo: done,\n        redo: undone\n      };\n    },\n    clearHistory: function () {\n      var this$1 = this;\n      this.history = new History(this.history.maxGeneration);\n      linkedDocs(this, function (doc) {\n        return doc.history = this$1.history;\n      }, true);\n    },\n    markClean: function () {\n      this.cleanGeneration = this.changeGeneration(true);\n    },\n    changeGeneration: function (forceSplit) {\n      if (forceSplit) {\n        this.history.lastOp = this.history.lastSelOp = this.history.lastOrigin = null;\n      }\n\n      return this.history.generation;\n    },\n    isClean: function (gen) {\n      return this.history.generation == (gen || this.cleanGeneration);\n    },\n    getHistory: function () {\n      return {\n        done: copyHistoryArray(this.history.done),\n        undone: copyHistoryArray(this.history.undone)\n      };\n    },\n    setHistory: function (histData) {\n      var hist = this.history = new History(this.history.maxGeneration);\n      hist.done = copyHistoryArray(histData.done.slice(0), null, true);\n      hist.undone = copyHistoryArray(histData.undone.slice(0), null, true);\n    },\n    setGutterMarker: docMethodOp(function (line, gutterID, value) {\n      return changeLine(this, line, \"gutter\", function (line) {\n        var markers = line.gutterMarkers || (line.gutterMarkers = {});\n        markers[gutterID] = value;\n\n        if (!value && isEmpty(markers)) {\n          line.gutterMarkers = null;\n        }\n\n        return true;\n      });\n    }),\n    clearGutter: docMethodOp(function (gutterID) {\n      var this$1 = this;\n      this.iter(function (line) {\n        if (line.gutterMarkers && line.gutterMarkers[gutterID]) {\n          changeLine(this$1, line, \"gutter\", function () {\n            line.gutterMarkers[gutterID] = null;\n\n            if (isEmpty(line.gutterMarkers)) {\n              line.gutterMarkers = null;\n            }\n\n            return true;\n          });\n        }\n      });\n    }),\n    lineInfo: function (line) {\n      var n;\n\n      if (typeof line == \"number\") {\n        if (!isLine(this, line)) {\n          return null;\n        }\n\n        n = line;\n        line = getLine(this, line);\n\n        if (!line) {\n          return null;\n        }\n      } else {\n        n = lineNo(line);\n\n        if (n == null) {\n          return null;\n        }\n      }\n\n      return {\n        line: n,\n        handle: line,\n        text: line.text,\n        gutterMarkers: line.gutterMarkers,\n        textClass: line.textClass,\n        bgClass: line.bgClass,\n        wrapClass: line.wrapClass,\n        widgets: line.widgets\n      };\n    },\n    addLineClass: docMethodOp(function (handle, where, cls) {\n      return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\n        var prop = where == \"text\" ? \"textClass\" : where == \"background\" ? \"bgClass\" : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\";\n\n        if (!line[prop]) {\n          line[prop] = cls;\n        } else if (classTest(cls).test(line[prop])) {\n          return false;\n        } else {\n          line[prop] += \" \" + cls;\n        }\n\n        return true;\n      });\n    }),\n    removeLineClass: docMethodOp(function (handle, where, cls) {\n      return changeLine(this, handle, where == \"gutter\" ? \"gutter\" : \"class\", function (line) {\n        var prop = where == \"text\" ? \"textClass\" : where == \"background\" ? \"bgClass\" : where == \"gutter\" ? \"gutterClass\" : \"wrapClass\";\n        var cur = line[prop];\n\n        if (!cur) {\n          return false;\n        } else if (cls == null) {\n          line[prop] = null;\n        } else {\n          var found = cur.match(classTest(cls));\n\n          if (!found) {\n            return false;\n          }\n\n          var end = found.index + found[0].length;\n          line[prop] = cur.slice(0, found.index) + (!found.index || end == cur.length ? \"\" : \" \") + cur.slice(end) || null;\n        }\n\n        return true;\n      });\n    }),\n    addLineWidget: docMethodOp(function (handle, node, options) {\n      return addLineWidget(this, handle, node, options);\n    }),\n    removeLineWidget: function (widget) {\n      widget.clear();\n    },\n    markText: function (from, to, options) {\n      return markText(this, clipPos(this, from), clipPos(this, to), options, options && options.type || \"range\");\n    },\n    setBookmark: function (pos, options) {\n      var realOpts = {\n        replacedWith: options && (options.nodeType == null ? options.widget : options),\n        insertLeft: options && options.insertLeft,\n        clearWhenEmpty: false,\n        shared: options && options.shared,\n        handleMouseEvents: options && options.handleMouseEvents\n      };\n      pos = clipPos(this, pos);\n      return markText(this, pos, pos, realOpts, \"bookmark\");\n    },\n    findMarksAt: function (pos) {\n      pos = clipPos(this, pos);\n      var markers = [],\n          spans = getLine(this, pos.line).markedSpans;\n\n      if (spans) {\n        for (var i = 0; i < spans.length; ++i) {\n          var span = spans[i];\n\n          if ((span.from == null || span.from <= pos.ch) && (span.to == null || span.to >= pos.ch)) {\n            markers.push(span.marker.parent || span.marker);\n          }\n        }\n      }\n\n      return markers;\n    },\n    findMarks: function (from, to, filter) {\n      from = clipPos(this, from);\n      to = clipPos(this, to);\n      var found = [],\n          lineNo = from.line;\n      this.iter(from.line, to.line + 1, function (line) {\n        var spans = line.markedSpans;\n\n        if (spans) {\n          for (var i = 0; i < spans.length; i++) {\n            var span = spans[i];\n\n            if (!(span.to != null && lineNo == from.line && from.ch >= span.to || span.from == null && lineNo != from.line || span.from != null && lineNo == to.line && span.from >= to.ch) && (!filter || filter(span.marker))) {\n              found.push(span.marker.parent || span.marker);\n            }\n          }\n        }\n\n        ++lineNo;\n      });\n      return found;\n    },\n    getAllMarks: function () {\n      var markers = [];\n      this.iter(function (line) {\n        var sps = line.markedSpans;\n\n        if (sps) {\n          for (var i = 0; i < sps.length; ++i) {\n            if (sps[i].from != null) {\n              markers.push(sps[i].marker);\n            }\n          }\n        }\n      });\n      return markers;\n    },\n    posFromIndex: function (off) {\n      var ch,\n          lineNo = this.first,\n          sepSize = this.lineSeparator().length;\n      this.iter(function (line) {\n        var sz = line.text.length + sepSize;\n\n        if (sz > off) {\n          ch = off;\n          return true;\n        }\n\n        off -= sz;\n        ++lineNo;\n      });\n      return clipPos(this, Pos(lineNo, ch));\n    },\n    indexFromPos: function (coords) {\n      coords = clipPos(this, coords);\n      var index = coords.ch;\n\n      if (coords.line < this.first || coords.ch < 0) {\n        return 0;\n      }\n\n      var sepSize = this.lineSeparator().length;\n      this.iter(this.first, coords.line, function (line) {\n        // iter aborts when callback returns a truthy value\n        index += line.text.length + sepSize;\n      });\n      return index;\n    },\n    copy: function (copyHistory) {\n      var doc = new Doc(getLines(this, this.first, this.first + this.size), this.modeOption, this.first, this.lineSep, this.direction);\n      doc.scrollTop = this.scrollTop;\n      doc.scrollLeft = this.scrollLeft;\n      doc.sel = this.sel;\n      doc.extend = false;\n\n      if (copyHistory) {\n        doc.history.undoDepth = this.history.undoDepth;\n        doc.setHistory(this.getHistory());\n      }\n\n      return doc;\n    },\n    linkedDoc: function (options) {\n      if (!options) {\n        options = {};\n      }\n\n      var from = this.first,\n          to = this.first + this.size;\n\n      if (options.from != null && options.from > from) {\n        from = options.from;\n      }\n\n      if (options.to != null && options.to < to) {\n        to = options.to;\n      }\n\n      var copy = new Doc(getLines(this, from, to), options.mode || this.modeOption, from, this.lineSep, this.direction);\n\n      if (options.sharedHist) {\n        copy.history = this.history;\n      }\n\n      (this.linked || (this.linked = [])).push({\n        doc: copy,\n        sharedHist: options.sharedHist\n      });\n      copy.linked = [{\n        doc: this,\n        isParent: true,\n        sharedHist: options.sharedHist\n      }];\n      copySharedMarkers(copy, findSharedMarkers(this));\n      return copy;\n    },\n    unlinkDoc: function (other) {\n      if (other instanceof CodeMirror) {\n        other = other.doc;\n      }\n\n      if (this.linked) {\n        for (var i = 0; i < this.linked.length; ++i) {\n          var link = this.linked[i];\n\n          if (link.doc != other) {\n            continue;\n          }\n\n          this.linked.splice(i, 1);\n          other.unlinkDoc(this);\n          detachSharedMarkers(findSharedMarkers(this));\n          break;\n        }\n      } // If the histories were shared, split them again\n\n\n      if (other.history == this.history) {\n        var splitIds = [other.id];\n        linkedDocs(other, function (doc) {\n          return splitIds.push(doc.id);\n        }, true);\n        other.history = new History(null);\n        other.history.done = copyHistoryArray(this.history.done, splitIds);\n        other.history.undone = copyHistoryArray(this.history.undone, splitIds);\n      }\n    },\n    iterLinkedDocs: function (f) {\n      linkedDocs(this, f);\n    },\n    getMode: function () {\n      return this.mode;\n    },\n    getEditor: function () {\n      return this.cm;\n    },\n    splitLines: function (str) {\n      if (this.lineSep) {\n        return str.split(this.lineSep);\n      }\n\n      return splitLinesAuto(str);\n    },\n    lineSeparator: function () {\n      return this.lineSep || \"\\n\";\n    },\n    setDirection: docMethodOp(function (dir) {\n      if (dir != \"rtl\") {\n        dir = \"ltr\";\n      }\n\n      if (dir == this.direction) {\n        return;\n      }\n\n      this.direction = dir;\n      this.iter(function (line) {\n        return line.order = null;\n      });\n\n      if (this.cm) {\n        directionChanged(this.cm);\n      }\n    })\n  }); // Public alias.\n\n  Doc.prototype.eachLine = Doc.prototype.iter; // Kludge to work around strange IE behavior where it'll sometimes\n  // re-fire a series of drag-related events right after the drop (#1551)\n\n  var lastDrop = 0;\n\n  function onDrop(e) {\n    var cm = this;\n    clearDragCursor(cm);\n\n    if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e)) {\n      return;\n    }\n\n    e_preventDefault(e);\n\n    if (ie) {\n      lastDrop = +new Date();\n    }\n\n    var pos = posFromMouse(cm, e, true),\n        files = e.dataTransfer.files;\n\n    if (!pos || cm.isReadOnly()) {\n      return;\n    } // Might be a file drop, in which case we simply extract the text\n    // and insert it.\n\n\n    if (files && files.length && window.FileReader && window.File) {\n      var n = files.length,\n          text = Array(n),\n          read = 0;\n\n      var markAsReadAndPasteIfAllFilesAreRead = function () {\n        if (++read == n) {\n          operation(cm, function () {\n            pos = clipPos(cm.doc, pos);\n            var change = {\n              from: pos,\n              to: pos,\n              text: cm.doc.splitLines(text.filter(function (t) {\n                return t != null;\n              }).join(cm.doc.lineSeparator())),\n              origin: \"paste\"\n            };\n            makeChange(cm.doc, change);\n            setSelectionReplaceHistory(cm.doc, simpleSelection(clipPos(cm.doc, pos), clipPos(cm.doc, changeEnd(change))));\n          })();\n        }\n      };\n\n      var readTextFromFile = function (file, i) {\n        if (cm.options.allowDropFileTypes && indexOf(cm.options.allowDropFileTypes, file.type) == -1) {\n          markAsReadAndPasteIfAllFilesAreRead();\n          return;\n        }\n\n        var reader = new FileReader();\n\n        reader.onerror = function () {\n          return markAsReadAndPasteIfAllFilesAreRead();\n        };\n\n        reader.onload = function () {\n          var content = reader.result;\n\n          if (/[\\x00-\\x08\\x0e-\\x1f]{2}/.test(content)) {\n            markAsReadAndPasteIfAllFilesAreRead();\n            return;\n          }\n\n          text[i] = content;\n          markAsReadAndPasteIfAllFilesAreRead();\n        };\n\n        reader.readAsText(file);\n      };\n\n      for (var i = 0; i < files.length; i++) {\n        readTextFromFile(files[i], i);\n      }\n    } else {\n      // Normal drop\n      // Don't do a replace if the drop happened inside of the selected text.\n      if (cm.state.draggingText && cm.doc.sel.contains(pos) > -1) {\n        cm.state.draggingText(e); // Ensure the editor is re-focused\n\n        setTimeout(function () {\n          return cm.display.input.focus();\n        }, 20);\n        return;\n      }\n\n      try {\n        var text$1 = e.dataTransfer.getData(\"Text\");\n\n        if (text$1) {\n          var selected;\n\n          if (cm.state.draggingText && !cm.state.draggingText.copy) {\n            selected = cm.listSelections();\n          }\n\n          setSelectionNoUndo(cm.doc, simpleSelection(pos, pos));\n\n          if (selected) {\n            for (var i$1 = 0; i$1 < selected.length; ++i$1) {\n              replaceRange(cm.doc, \"\", selected[i$1].anchor, selected[i$1].head, \"drag\");\n            }\n          }\n\n          cm.replaceSelection(text$1, \"around\", \"paste\");\n          cm.display.input.focus();\n        }\n      } catch (e) {}\n    }\n  }\n\n  function onDragStart(cm, e) {\n    if (ie && (!cm.state.draggingText || +new Date() - lastDrop < 100)) {\n      e_stop(e);\n      return;\n    }\n\n    if (signalDOMEvent(cm, e) || eventInWidget(cm.display, e)) {\n      return;\n    }\n\n    e.dataTransfer.setData(\"Text\", cm.getSelection());\n    e.dataTransfer.effectAllowed = \"copyMove\"; // Use dummy image instead of default browsers image.\n    // Recent Safari (~6.0.2) have a tendency to segfault when this happens, so we don't do it there.\n\n    if (e.dataTransfer.setDragImage && !safari) {\n      var img = elt(\"img\", null, null, \"position: fixed; left: 0; top: 0;\");\n      img.src = \"data:image/gif;base64,R0lGODlhAQABAAAAACH5BAEKAAEALAAAAAABAAEAAAICTAEAOw==\";\n\n      if (presto) {\n        img.width = img.height = 1;\n        cm.display.wrapper.appendChild(img); // Force a relayout, or Opera won't use our image for some obscure reason\n\n        img._top = img.offsetTop;\n      }\n\n      e.dataTransfer.setDragImage(img, 0, 0);\n\n      if (presto) {\n        img.parentNode.removeChild(img);\n      }\n    }\n  }\n\n  function onDragOver(cm, e) {\n    var pos = posFromMouse(cm, e);\n\n    if (!pos) {\n      return;\n    }\n\n    var frag = document.createDocumentFragment();\n    drawSelectionCursor(cm, pos, frag);\n\n    if (!cm.display.dragCursor) {\n      cm.display.dragCursor = elt(\"div\", null, \"CodeMirror-cursors CodeMirror-dragcursors\");\n      cm.display.lineSpace.insertBefore(cm.display.dragCursor, cm.display.cursorDiv);\n    }\n\n    removeChildrenAndAdd(cm.display.dragCursor, frag);\n  }\n\n  function clearDragCursor(cm) {\n    if (cm.display.dragCursor) {\n      cm.display.lineSpace.removeChild(cm.display.dragCursor);\n      cm.display.dragCursor = null;\n    }\n  } // These must be handled carefully, because naively registering a\n  // handler for each editor will cause the editors to never be\n  // garbage collected.\n\n\n  function forEachCodeMirror(f) {\n    if (!document.getElementsByClassName) {\n      return;\n    }\n\n    var byClass = document.getElementsByClassName(\"CodeMirror\"),\n        editors = [];\n\n    for (var i = 0; i < byClass.length; i++) {\n      var cm = byClass[i].CodeMirror;\n\n      if (cm) {\n        editors.push(cm);\n      }\n    }\n\n    if (editors.length) {\n      editors[0].operation(function () {\n        for (var i = 0; i < editors.length; i++) {\n          f(editors[i]);\n        }\n      });\n    }\n  }\n\n  var globalsRegistered = false;\n\n  function ensureGlobalHandlers() {\n    if (globalsRegistered) {\n      return;\n    }\n\n    registerGlobalHandlers();\n    globalsRegistered = true;\n  }\n\n  function registerGlobalHandlers() {\n    // When the window resizes, we need to refresh active editors.\n    var resizeTimer;\n    on(window, \"resize\", function () {\n      if (resizeTimer == null) {\n        resizeTimer = setTimeout(function () {\n          resizeTimer = null;\n          forEachCodeMirror(onResize);\n        }, 100);\n      }\n    }); // When the window loses focus, we want to show the editor as blurred\n\n    on(window, \"blur\", function () {\n      return forEachCodeMirror(onBlur);\n    });\n  } // Called when the window resizes\n\n\n  function onResize(cm) {\n    var d = cm.display; // Might be a text scaling operation, clear size caches.\n\n    d.cachedCharWidth = d.cachedTextHeight = d.cachedPaddingH = null;\n    d.scrollbarsClipped = false;\n    cm.setSize();\n  }\n\n  var keyNames = {\n    3: \"Pause\",\n    8: \"Backspace\",\n    9: \"Tab\",\n    13: \"Enter\",\n    16: \"Shift\",\n    17: \"Ctrl\",\n    18: \"Alt\",\n    19: \"Pause\",\n    20: \"CapsLock\",\n    27: \"Esc\",\n    32: \"Space\",\n    33: \"PageUp\",\n    34: \"PageDown\",\n    35: \"End\",\n    36: \"Home\",\n    37: \"Left\",\n    38: \"Up\",\n    39: \"Right\",\n    40: \"Down\",\n    44: \"PrintScrn\",\n    45: \"Insert\",\n    46: \"Delete\",\n    59: \";\",\n    61: \"=\",\n    91: \"Mod\",\n    92: \"Mod\",\n    93: \"Mod\",\n    106: \"*\",\n    107: \"=\",\n    109: \"-\",\n    110: \".\",\n    111: \"/\",\n    145: \"ScrollLock\",\n    173: \"-\",\n    186: \";\",\n    187: \"=\",\n    188: \",\",\n    189: \"-\",\n    190: \".\",\n    191: \"/\",\n    192: \"`\",\n    219: \"[\",\n    220: \"\\\\\",\n    221: \"]\",\n    222: \"'\",\n    63232: \"Up\",\n    63233: \"Down\",\n    63234: \"Left\",\n    63235: \"Right\",\n    63272: \"Delete\",\n    63273: \"Home\",\n    63275: \"End\",\n    63276: \"PageUp\",\n    63277: \"PageDown\",\n    63302: \"Insert\"\n  }; // Number keys\n\n  for (var i = 0; i < 10; i++) {\n    keyNames[i + 48] = keyNames[i + 96] = String(i);\n  } // Alphabetic keys\n\n\n  for (var i$1 = 65; i$1 <= 90; i$1++) {\n    keyNames[i$1] = String.fromCharCode(i$1);\n  } // Function keys\n\n\n  for (var i$2 = 1; i$2 <= 12; i$2++) {\n    keyNames[i$2 + 111] = keyNames[i$2 + 63235] = \"F\" + i$2;\n  }\n\n  var keyMap = {};\n  keyMap.basic = {\n    \"Left\": \"goCharLeft\",\n    \"Right\": \"goCharRight\",\n    \"Up\": \"goLineUp\",\n    \"Down\": \"goLineDown\",\n    \"End\": \"goLineEnd\",\n    \"Home\": \"goLineStartSmart\",\n    \"PageUp\": \"goPageUp\",\n    \"PageDown\": \"goPageDown\",\n    \"Delete\": \"delCharAfter\",\n    \"Backspace\": \"delCharBefore\",\n    \"Shift-Backspace\": \"delCharBefore\",\n    \"Tab\": \"defaultTab\",\n    \"Shift-Tab\": \"indentAuto\",\n    \"Enter\": \"newlineAndIndent\",\n    \"Insert\": \"toggleOverwrite\",\n    \"Esc\": \"singleSelection\"\n  }; // Note that the save and find-related commands aren't defined by\n  // default. User code or addons can define them. Unknown commands\n  // are simply ignored.\n\n  keyMap.pcDefault = {\n    \"Ctrl-A\": \"selectAll\",\n    \"Ctrl-D\": \"deleteLine\",\n    \"Ctrl-Z\": \"undo\",\n    \"Shift-Ctrl-Z\": \"redo\",\n    \"Ctrl-Y\": \"redo\",\n    \"Ctrl-Home\": \"goDocStart\",\n    \"Ctrl-End\": \"goDocEnd\",\n    \"Ctrl-Up\": \"goLineUp\",\n    \"Ctrl-Down\": \"goLineDown\",\n    \"Ctrl-Left\": \"goGroupLeft\",\n    \"Ctrl-Right\": \"goGroupRight\",\n    \"Alt-Left\": \"goLineStart\",\n    \"Alt-Right\": \"goLineEnd\",\n    \"Ctrl-Backspace\": \"delGroupBefore\",\n    \"Ctrl-Delete\": \"delGroupAfter\",\n    \"Ctrl-S\": \"save\",\n    \"Ctrl-F\": \"find\",\n    \"Ctrl-G\": \"findNext\",\n    \"Shift-Ctrl-G\": \"findPrev\",\n    \"Shift-Ctrl-F\": \"replace\",\n    \"Shift-Ctrl-R\": \"replaceAll\",\n    \"Ctrl-[\": \"indentLess\",\n    \"Ctrl-]\": \"indentMore\",\n    \"Ctrl-U\": \"undoSelection\",\n    \"Shift-Ctrl-U\": \"redoSelection\",\n    \"Alt-U\": \"redoSelection\",\n    \"fallthrough\": \"basic\"\n  }; // Very basic readline/emacs-style bindings, which are standard on Mac.\n\n  keyMap.emacsy = {\n    \"Ctrl-F\": \"goCharRight\",\n    \"Ctrl-B\": \"goCharLeft\",\n    \"Ctrl-P\": \"goLineUp\",\n    \"Ctrl-N\": \"goLineDown\",\n    \"Alt-F\": \"goWordRight\",\n    \"Alt-B\": \"goWordLeft\",\n    \"Ctrl-A\": \"goLineStart\",\n    \"Ctrl-E\": \"goLineEnd\",\n    \"Ctrl-V\": \"goPageDown\",\n    \"Shift-Ctrl-V\": \"goPageUp\",\n    \"Ctrl-D\": \"delCharAfter\",\n    \"Ctrl-H\": \"delCharBefore\",\n    \"Alt-D\": \"delWordAfter\",\n    \"Alt-Backspace\": \"delWordBefore\",\n    \"Ctrl-K\": \"killLine\",\n    \"Ctrl-T\": \"transposeChars\",\n    \"Ctrl-O\": \"openLine\"\n  };\n  keyMap.macDefault = {\n    \"Cmd-A\": \"selectAll\",\n    \"Cmd-D\": \"deleteLine\",\n    \"Cmd-Z\": \"undo\",\n    \"Shift-Cmd-Z\": \"redo\",\n    \"Cmd-Y\": \"redo\",\n    \"Cmd-Home\": \"goDocStart\",\n    \"Cmd-Up\": \"goDocStart\",\n    \"Cmd-End\": \"goDocEnd\",\n    \"Cmd-Down\": \"goDocEnd\",\n    \"Alt-Left\": \"goGroupLeft\",\n    \"Alt-Right\": \"goGroupRight\",\n    \"Cmd-Left\": \"goLineLeft\",\n    \"Cmd-Right\": \"goLineRight\",\n    \"Alt-Backspace\": \"delGroupBefore\",\n    \"Ctrl-Alt-Backspace\": \"delGroupAfter\",\n    \"Alt-Delete\": \"delGroupAfter\",\n    \"Cmd-S\": \"save\",\n    \"Cmd-F\": \"find\",\n    \"Cmd-G\": \"findNext\",\n    \"Shift-Cmd-G\": \"findPrev\",\n    \"Cmd-Alt-F\": \"replace\",\n    \"Shift-Cmd-Alt-F\": \"replaceAll\",\n    \"Cmd-[\": \"indentLess\",\n    \"Cmd-]\": \"indentMore\",\n    \"Cmd-Backspace\": \"delWrappedLineLeft\",\n    \"Cmd-Delete\": \"delWrappedLineRight\",\n    \"Cmd-U\": \"undoSelection\",\n    \"Shift-Cmd-U\": \"redoSelection\",\n    \"Ctrl-Up\": \"goDocStart\",\n    \"Ctrl-Down\": \"goDocEnd\",\n    \"fallthrough\": [\"basic\", \"emacsy\"]\n  };\n  keyMap[\"default\"] = mac ? keyMap.macDefault : keyMap.pcDefault; // KEYMAP DISPATCH\n\n  function normalizeKeyName(name) {\n    var parts = name.split(/-(?!$)/);\n    name = parts[parts.length - 1];\n    var alt, ctrl, shift, cmd;\n\n    for (var i = 0; i < parts.length - 1; i++) {\n      var mod = parts[i];\n\n      if (/^(cmd|meta|m)$/i.test(mod)) {\n        cmd = true;\n      } else if (/^a(lt)?$/i.test(mod)) {\n        alt = true;\n      } else if (/^(c|ctrl|control)$/i.test(mod)) {\n        ctrl = true;\n      } else if (/^s(hift)?$/i.test(mod)) {\n        shift = true;\n      } else {\n        throw new Error(\"Unrecognized modifier name: \" + mod);\n      }\n    }\n\n    if (alt) {\n      name = \"Alt-\" + name;\n    }\n\n    if (ctrl) {\n      name = \"Ctrl-\" + name;\n    }\n\n    if (cmd) {\n      name = \"Cmd-\" + name;\n    }\n\n    if (shift) {\n      name = \"Shift-\" + name;\n    }\n\n    return name;\n  } // This is a kludge to keep keymaps mostly working as raw objects\n  // (backwards compatibility) while at the same time support features\n  // like normalization and multi-stroke key bindings. It compiles a\n  // new normalized keymap, and then updates the old object to reflect\n  // this.\n\n\n  function normalizeKeyMap(keymap) {\n    var copy = {};\n\n    for (var keyname in keymap) {\n      if (keymap.hasOwnProperty(keyname)) {\n        var value = keymap[keyname];\n\n        if (/^(name|fallthrough|(de|at)tach)$/.test(keyname)) {\n          continue;\n        }\n\n        if (value == \"...\") {\n          delete keymap[keyname];\n          continue;\n        }\n\n        var keys = map(keyname.split(\" \"), normalizeKeyName);\n\n        for (var i = 0; i < keys.length; i++) {\n          var val = void 0,\n              name = void 0;\n\n          if (i == keys.length - 1) {\n            name = keys.join(\" \");\n            val = value;\n          } else {\n            name = keys.slice(0, i + 1).join(\" \");\n            val = \"...\";\n          }\n\n          var prev = copy[name];\n\n          if (!prev) {\n            copy[name] = val;\n          } else if (prev != val) {\n            throw new Error(\"Inconsistent bindings for \" + name);\n          }\n        }\n\n        delete keymap[keyname];\n      }\n    }\n\n    for (var prop in copy) {\n      keymap[prop] = copy[prop];\n    }\n\n    return keymap;\n  }\n\n  function lookupKey(key, map, handle, context) {\n    map = getKeyMap(map);\n    var found = map.call ? map.call(key, context) : map[key];\n\n    if (found === false) {\n      return \"nothing\";\n    }\n\n    if (found === \"...\") {\n      return \"multi\";\n    }\n\n    if (found != null && handle(found)) {\n      return \"handled\";\n    }\n\n    if (map.fallthrough) {\n      if (Object.prototype.toString.call(map.fallthrough) != \"[object Array]\") {\n        return lookupKey(key, map.fallthrough, handle, context);\n      }\n\n      for (var i = 0; i < map.fallthrough.length; i++) {\n        var result = lookupKey(key, map.fallthrough[i], handle, context);\n\n        if (result) {\n          return result;\n        }\n      }\n    }\n  } // Modifier key presses don't count as 'real' key presses for the\n  // purpose of keymap fallthrough.\n\n\n  function isModifierKey(value) {\n    var name = typeof value == \"string\" ? value : keyNames[value.keyCode];\n    return name == \"Ctrl\" || name == \"Alt\" || name == \"Shift\" || name == \"Mod\";\n  }\n\n  function addModifierNames(name, event, noShift) {\n    var base = name;\n\n    if (event.altKey && base != \"Alt\") {\n      name = \"Alt-\" + name;\n    }\n\n    if ((flipCtrlCmd ? event.metaKey : event.ctrlKey) && base != \"Ctrl\") {\n      name = \"Ctrl-\" + name;\n    }\n\n    if ((flipCtrlCmd ? event.ctrlKey : event.metaKey) && base != \"Cmd\") {\n      name = \"Cmd-\" + name;\n    }\n\n    if (!noShift && event.shiftKey && base != \"Shift\") {\n      name = \"Shift-\" + name;\n    }\n\n    return name;\n  } // Look up the name of a key as indicated by an event object.\n\n\n  function keyName(event, noShift) {\n    if (presto && event.keyCode == 34 && event[\"char\"]) {\n      return false;\n    }\n\n    var name = keyNames[event.keyCode];\n\n    if (name == null || event.altGraphKey) {\n      return false;\n    } // Ctrl-ScrollLock has keyCode 3, same as Ctrl-Pause,\n    // so we'll use event.code when available (Chrome 48+, FF 38+, Safari 10.1+)\n\n\n    if (event.keyCode == 3 && event.code) {\n      name = event.code;\n    }\n\n    return addModifierNames(name, event, noShift);\n  }\n\n  function getKeyMap(val) {\n    return typeof val == \"string\" ? keyMap[val] : val;\n  } // Helper for deleting text near the selection(s), used to implement\n  // backspace, delete, and similar functionality.\n\n\n  function deleteNearSelection(cm, compute) {\n    var ranges = cm.doc.sel.ranges,\n        kill = []; // Build up a set of ranges to kill first, merging overlapping\n    // ranges.\n\n    for (var i = 0; i < ranges.length; i++) {\n      var toKill = compute(ranges[i]);\n\n      while (kill.length && cmp(toKill.from, lst(kill).to) <= 0) {\n        var replaced = kill.pop();\n\n        if (cmp(replaced.from, toKill.from) < 0) {\n          toKill.from = replaced.from;\n          break;\n        }\n      }\n\n      kill.push(toKill);\n    } // Next, remove those actual ranges.\n\n\n    runInOp(cm, function () {\n      for (var i = kill.length - 1; i >= 0; i--) {\n        replaceRange(cm.doc, \"\", kill[i].from, kill[i].to, \"+delete\");\n      }\n\n      ensureCursorVisible(cm);\n    });\n  }\n\n  function moveCharLogically(line, ch, dir) {\n    var target = skipExtendingChars(line.text, ch + dir, dir);\n    return target < 0 || target > line.text.length ? null : target;\n  }\n\n  function moveLogically(line, start, dir) {\n    var ch = moveCharLogically(line, start.ch, dir);\n    return ch == null ? null : new Pos(start.line, ch, dir < 0 ? \"after\" : \"before\");\n  }\n\n  function endOfLine(visually, cm, lineObj, lineNo, dir) {\n    if (visually) {\n      if (cm.doc.direction == \"rtl\") {\n        dir = -dir;\n      }\n\n      var order = getOrder(lineObj, cm.doc.direction);\n\n      if (order) {\n        var part = dir < 0 ? lst(order) : order[0];\n        var moveInStorageOrder = dir < 0 == (part.level == 1);\n        var sticky = moveInStorageOrder ? \"after\" : \"before\";\n        var ch; // With a wrapped rtl chunk (possibly spanning multiple bidi parts),\n        // it could be that the last bidi part is not on the last visual line,\n        // since visual lines contain content order-consecutive chunks.\n        // Thus, in rtl, we are looking for the first (content-order) character\n        // in the rtl chunk that is on the last line (that is, the same line\n        // as the last (content-order) character).\n\n        if (part.level > 0 || cm.doc.direction == \"rtl\") {\n          var prep = prepareMeasureForLine(cm, lineObj);\n          ch = dir < 0 ? lineObj.text.length - 1 : 0;\n          var targetTop = measureCharPrepared(cm, prep, ch).top;\n          ch = findFirst(function (ch) {\n            return measureCharPrepared(cm, prep, ch).top == targetTop;\n          }, dir < 0 == (part.level == 1) ? part.from : part.to - 1, ch);\n\n          if (sticky == \"before\") {\n            ch = moveCharLogically(lineObj, ch, 1);\n          }\n        } else {\n          ch = dir < 0 ? part.to : part.from;\n        }\n\n        return new Pos(lineNo, ch, sticky);\n      }\n    }\n\n    return new Pos(lineNo, dir < 0 ? lineObj.text.length : 0, dir < 0 ? \"before\" : \"after\");\n  }\n\n  function moveVisually(cm, line, start, dir) {\n    var bidi = getOrder(line, cm.doc.direction);\n\n    if (!bidi) {\n      return moveLogically(line, start, dir);\n    }\n\n    if (start.ch >= line.text.length) {\n      start.ch = line.text.length;\n      start.sticky = \"before\";\n    } else if (start.ch <= 0) {\n      start.ch = 0;\n      start.sticky = \"after\";\n    }\n\n    var partPos = getBidiPartAt(bidi, start.ch, start.sticky),\n        part = bidi[partPos];\n\n    if (cm.doc.direction == \"ltr\" && part.level % 2 == 0 && (dir > 0 ? part.to > start.ch : part.from < start.ch)) {\n      // Case 1: We move within an ltr part in an ltr editor. Even with wrapped lines,\n      // nothing interesting happens.\n      return moveLogically(line, start, dir);\n    }\n\n    var mv = function (pos, dir) {\n      return moveCharLogically(line, pos instanceof Pos ? pos.ch : pos, dir);\n    };\n\n    var prep;\n\n    var getWrappedLineExtent = function (ch) {\n      if (!cm.options.lineWrapping) {\n        return {\n          begin: 0,\n          end: line.text.length\n        };\n      }\n\n      prep = prep || prepareMeasureForLine(cm, line);\n      return wrappedLineExtentChar(cm, line, prep, ch);\n    };\n\n    var wrappedLineExtent = getWrappedLineExtent(start.sticky == \"before\" ? mv(start, -1) : start.ch);\n\n    if (cm.doc.direction == \"rtl\" || part.level == 1) {\n      var moveInStorageOrder = part.level == 1 == dir < 0;\n      var ch = mv(start, moveInStorageOrder ? 1 : -1);\n\n      if (ch != null && (!moveInStorageOrder ? ch >= part.from && ch >= wrappedLineExtent.begin : ch <= part.to && ch <= wrappedLineExtent.end)) {\n        // Case 2: We move within an rtl part or in an rtl editor on the same visual line\n        var sticky = moveInStorageOrder ? \"before\" : \"after\";\n        return new Pos(start.line, ch, sticky);\n      }\n    } // Case 3: Could not move within this bidi part in this visual line, so leave\n    // the current bidi part\n\n\n    var searchInVisualLine = function (partPos, dir, wrappedLineExtent) {\n      var getRes = function (ch, moveInStorageOrder) {\n        return moveInStorageOrder ? new Pos(start.line, mv(ch, 1), \"before\") : new Pos(start.line, ch, \"after\");\n      };\n\n      for (; partPos >= 0 && partPos < bidi.length; partPos += dir) {\n        var part = bidi[partPos];\n        var moveInStorageOrder = dir > 0 == (part.level != 1);\n        var ch = moveInStorageOrder ? wrappedLineExtent.begin : mv(wrappedLineExtent.end, -1);\n\n        if (part.from <= ch && ch < part.to) {\n          return getRes(ch, moveInStorageOrder);\n        }\n\n        ch = moveInStorageOrder ? part.from : mv(part.to, -1);\n\n        if (wrappedLineExtent.begin <= ch && ch < wrappedLineExtent.end) {\n          return getRes(ch, moveInStorageOrder);\n        }\n      }\n    }; // Case 3a: Look for other bidi parts on the same visual line\n\n\n    var res = searchInVisualLine(partPos + dir, dir, wrappedLineExtent);\n\n    if (res) {\n      return res;\n    } // Case 3b: Look for other bidi parts on the next visual line\n\n\n    var nextCh = dir > 0 ? wrappedLineExtent.end : mv(wrappedLineExtent.begin, -1);\n\n    if (nextCh != null && !(dir > 0 && nextCh == line.text.length)) {\n      res = searchInVisualLine(dir > 0 ? 0 : bidi.length - 1, dir, getWrappedLineExtent(nextCh));\n\n      if (res) {\n        return res;\n      }\n    } // Case 4: Nowhere to move\n\n\n    return null;\n  } // Commands are parameter-less actions that can be performed on an\n  // editor, mostly used for keybindings.\n\n\n  var commands = {\n    selectAll: selectAll,\n    singleSelection: function (cm) {\n      return cm.setSelection(cm.getCursor(\"anchor\"), cm.getCursor(\"head\"), sel_dontScroll);\n    },\n    killLine: function (cm) {\n      return deleteNearSelection(cm, function (range) {\n        if (range.empty()) {\n          var len = getLine(cm.doc, range.head.line).text.length;\n\n          if (range.head.ch == len && range.head.line < cm.lastLine()) {\n            return {\n              from: range.head,\n              to: Pos(range.head.line + 1, 0)\n            };\n          } else {\n            return {\n              from: range.head,\n              to: Pos(range.head.line, len)\n            };\n          }\n        } else {\n          return {\n            from: range.from(),\n            to: range.to()\n          };\n        }\n      });\n    },\n    deleteLine: function (cm) {\n      return deleteNearSelection(cm, function (range) {\n        return {\n          from: Pos(range.from().line, 0),\n          to: clipPos(cm.doc, Pos(range.to().line + 1, 0))\n        };\n      });\n    },\n    delLineLeft: function (cm) {\n      return deleteNearSelection(cm, function (range) {\n        return {\n          from: Pos(range.from().line, 0),\n          to: range.from()\n        };\n      });\n    },\n    delWrappedLineLeft: function (cm) {\n      return deleteNearSelection(cm, function (range) {\n        var top = cm.charCoords(range.head, \"div\").top + 5;\n        var leftPos = cm.coordsChar({\n          left: 0,\n          top: top\n        }, \"div\");\n        return {\n          from: leftPos,\n          to: range.from()\n        };\n      });\n    },\n    delWrappedLineRight: function (cm) {\n      return deleteNearSelection(cm, function (range) {\n        var top = cm.charCoords(range.head, \"div\").top + 5;\n        var rightPos = cm.coordsChar({\n          left: cm.display.lineDiv.offsetWidth + 100,\n          top: top\n        }, \"div\");\n        return {\n          from: range.from(),\n          to: rightPos\n        };\n      });\n    },\n    undo: function (cm) {\n      return cm.undo();\n    },\n    redo: function (cm) {\n      return cm.redo();\n    },\n    undoSelection: function (cm) {\n      return cm.undoSelection();\n    },\n    redoSelection: function (cm) {\n      return cm.redoSelection();\n    },\n    goDocStart: function (cm) {\n      return cm.extendSelection(Pos(cm.firstLine(), 0));\n    },\n    goDocEnd: function (cm) {\n      return cm.extendSelection(Pos(cm.lastLine()));\n    },\n    goLineStart: function (cm) {\n      return cm.extendSelectionsBy(function (range) {\n        return lineStart(cm, range.head.line);\n      }, {\n        origin: \"+move\",\n        bias: 1\n      });\n    },\n    goLineStartSmart: function (cm) {\n      return cm.extendSelectionsBy(function (range) {\n        return lineStartSmart(cm, range.head);\n      }, {\n        origin: \"+move\",\n        bias: 1\n      });\n    },\n    goLineEnd: function (cm) {\n      return cm.extendSelectionsBy(function (range) {\n        return lineEnd(cm, range.head.line);\n      }, {\n        origin: \"+move\",\n        bias: -1\n      });\n    },\n    goLineRight: function (cm) {\n      return cm.extendSelectionsBy(function (range) {\n        var top = cm.cursorCoords(range.head, \"div\").top + 5;\n        return cm.coordsChar({\n          left: cm.display.lineDiv.offsetWidth + 100,\n          top: top\n        }, \"div\");\n      }, sel_move);\n    },\n    goLineLeft: function (cm) {\n      return cm.extendSelectionsBy(function (range) {\n        var top = cm.cursorCoords(range.head, \"div\").top + 5;\n        return cm.coordsChar({\n          left: 0,\n          top: top\n        }, \"div\");\n      }, sel_move);\n    },\n    goLineLeftSmart: function (cm) {\n      return cm.extendSelectionsBy(function (range) {\n        var top = cm.cursorCoords(range.head, \"div\").top + 5;\n        var pos = cm.coordsChar({\n          left: 0,\n          top: top\n        }, \"div\");\n\n        if (pos.ch < cm.getLine(pos.line).search(/\\S/)) {\n          return lineStartSmart(cm, range.head);\n        }\n\n        return pos;\n      }, sel_move);\n    },\n    goLineUp: function (cm) {\n      return cm.moveV(-1, \"line\");\n    },\n    goLineDown: function (cm) {\n      return cm.moveV(1, \"line\");\n    },\n    goPageUp: function (cm) {\n      return cm.moveV(-1, \"page\");\n    },\n    goPageDown: function (cm) {\n      return cm.moveV(1, \"page\");\n    },\n    goCharLeft: function (cm) {\n      return cm.moveH(-1, \"char\");\n    },\n    goCharRight: function (cm) {\n      return cm.moveH(1, \"char\");\n    },\n    goColumnLeft: function (cm) {\n      return cm.moveH(-1, \"column\");\n    },\n    goColumnRight: function (cm) {\n      return cm.moveH(1, \"column\");\n    },\n    goWordLeft: function (cm) {\n      return cm.moveH(-1, \"word\");\n    },\n    goGroupRight: function (cm) {\n      return cm.moveH(1, \"group\");\n    },\n    goGroupLeft: function (cm) {\n      return cm.moveH(-1, \"group\");\n    },\n    goWordRight: function (cm) {\n      return cm.moveH(1, \"word\");\n    },\n    delCharBefore: function (cm) {\n      return cm.deleteH(-1, \"char\");\n    },\n    delCharAfter: function (cm) {\n      return cm.deleteH(1, \"char\");\n    },\n    delWordBefore: function (cm) {\n      return cm.deleteH(-1, \"word\");\n    },\n    delWordAfter: function (cm) {\n      return cm.deleteH(1, \"word\");\n    },\n    delGroupBefore: function (cm) {\n      return cm.deleteH(-1, \"group\");\n    },\n    delGroupAfter: function (cm) {\n      return cm.deleteH(1, \"group\");\n    },\n    indentAuto: function (cm) {\n      return cm.indentSelection(\"smart\");\n    },\n    indentMore: function (cm) {\n      return cm.indentSelection(\"add\");\n    },\n    indentLess: function (cm) {\n      return cm.indentSelection(\"subtract\");\n    },\n    insertTab: function (cm) {\n      return cm.replaceSelection(\"\\t\");\n    },\n    insertSoftTab: function (cm) {\n      var spaces = [],\n          ranges = cm.listSelections(),\n          tabSize = cm.options.tabSize;\n\n      for (var i = 0; i < ranges.length; i++) {\n        var pos = ranges[i].from();\n        var col = countColumn(cm.getLine(pos.line), pos.ch, tabSize);\n        spaces.push(spaceStr(tabSize - col % tabSize));\n      }\n\n      cm.replaceSelections(spaces);\n    },\n    defaultTab: function (cm) {\n      if (cm.somethingSelected()) {\n        cm.indentSelection(\"add\");\n      } else {\n        cm.execCommand(\"insertTab\");\n      }\n    },\n    // Swap the two chars left and right of each selection's head.\n    // Move cursor behind the two swapped characters afterwards.\n    //\n    // Doesn't consider line feeds a character.\n    // Doesn't scan more than one line above to find a character.\n    // Doesn't do anything on an empty line.\n    // Doesn't do anything with non-empty selections.\n    transposeChars: function (cm) {\n      return runInOp(cm, function () {\n        var ranges = cm.listSelections(),\n            newSel = [];\n\n        for (var i = 0; i < ranges.length; i++) {\n          if (!ranges[i].empty()) {\n            continue;\n          }\n\n          var cur = ranges[i].head,\n              line = getLine(cm.doc, cur.line).text;\n\n          if (line) {\n            if (cur.ch == line.length) {\n              cur = new Pos(cur.line, cur.ch - 1);\n            }\n\n            if (cur.ch > 0) {\n              cur = new Pos(cur.line, cur.ch + 1);\n              cm.replaceRange(line.charAt(cur.ch - 1) + line.charAt(cur.ch - 2), Pos(cur.line, cur.ch - 2), cur, \"+transpose\");\n            } else if (cur.line > cm.doc.first) {\n              var prev = getLine(cm.doc, cur.line - 1).text;\n\n              if (prev) {\n                cur = new Pos(cur.line, 1);\n                cm.replaceRange(line.charAt(0) + cm.doc.lineSeparator() + prev.charAt(prev.length - 1), Pos(cur.line - 1, prev.length - 1), cur, \"+transpose\");\n              }\n            }\n          }\n\n          newSel.push(new Range(cur, cur));\n        }\n\n        cm.setSelections(newSel);\n      });\n    },\n    newlineAndIndent: function (cm) {\n      return runInOp(cm, function () {\n        var sels = cm.listSelections();\n\n        for (var i = sels.length - 1; i >= 0; i--) {\n          cm.replaceRange(cm.doc.lineSeparator(), sels[i].anchor, sels[i].head, \"+input\");\n        }\n\n        sels = cm.listSelections();\n\n        for (var i$1 = 0; i$1 < sels.length; i$1++) {\n          cm.indentLine(sels[i$1].from().line, null, true);\n        }\n\n        ensureCursorVisible(cm);\n      });\n    },\n    openLine: function (cm) {\n      return cm.replaceSelection(\"\\n\", \"start\");\n    },\n    toggleOverwrite: function (cm) {\n      return cm.toggleOverwrite();\n    }\n  };\n\n  function lineStart(cm, lineN) {\n    var line = getLine(cm.doc, lineN);\n    var visual = visualLine(line);\n\n    if (visual != line) {\n      lineN = lineNo(visual);\n    }\n\n    return endOfLine(true, cm, visual, lineN, 1);\n  }\n\n  function lineEnd(cm, lineN) {\n    var line = getLine(cm.doc, lineN);\n    var visual = visualLineEnd(line);\n\n    if (visual != line) {\n      lineN = lineNo(visual);\n    }\n\n    return endOfLine(true, cm, line, lineN, -1);\n  }\n\n  function lineStartSmart(cm, pos) {\n    var start = lineStart(cm, pos.line);\n    var line = getLine(cm.doc, start.line);\n    var order = getOrder(line, cm.doc.direction);\n\n    if (!order || order[0].level == 0) {\n      var firstNonWS = Math.max(start.ch, line.text.search(/\\S/));\n      var inWS = pos.line == start.line && pos.ch <= firstNonWS && pos.ch;\n      return Pos(start.line, inWS ? 0 : firstNonWS, start.sticky);\n    }\n\n    return start;\n  } // Run a handler that was bound to a key.\n\n\n  function doHandleBinding(cm, bound, dropShift) {\n    if (typeof bound == \"string\") {\n      bound = commands[bound];\n\n      if (!bound) {\n        return false;\n      }\n    } // Ensure previous input has been read, so that the handler sees a\n    // consistent view of the document\n\n\n    cm.display.input.ensurePolled();\n    var prevShift = cm.display.shift,\n        done = false;\n\n    try {\n      if (cm.isReadOnly()) {\n        cm.state.suppressEdits = true;\n      }\n\n      if (dropShift) {\n        cm.display.shift = false;\n      }\n\n      done = bound(cm) != Pass;\n    } finally {\n      cm.display.shift = prevShift;\n      cm.state.suppressEdits = false;\n    }\n\n    return done;\n  }\n\n  function lookupKeyForEditor(cm, name, handle) {\n    for (var i = 0; i < cm.state.keyMaps.length; i++) {\n      var result = lookupKey(name, cm.state.keyMaps[i], handle, cm);\n\n      if (result) {\n        return result;\n      }\n    }\n\n    return cm.options.extraKeys && lookupKey(name, cm.options.extraKeys, handle, cm) || lookupKey(name, cm.options.keyMap, handle, cm);\n  } // Note that, despite the name, this function is also used to check\n  // for bound mouse clicks.\n\n\n  var stopSeq = new Delayed();\n\n  function dispatchKey(cm, name, e, handle) {\n    var seq = cm.state.keySeq;\n\n    if (seq) {\n      if (isModifierKey(name)) {\n        return \"handled\";\n      }\n\n      if (/\\'$/.test(name)) {\n        cm.state.keySeq = null;\n      } else {\n        stopSeq.set(50, function () {\n          if (cm.state.keySeq == seq) {\n            cm.state.keySeq = null;\n            cm.display.input.reset();\n          }\n        });\n      }\n\n      if (dispatchKeyInner(cm, seq + \" \" + name, e, handle)) {\n        return true;\n      }\n    }\n\n    return dispatchKeyInner(cm, name, e, handle);\n  }\n\n  function dispatchKeyInner(cm, name, e, handle) {\n    var result = lookupKeyForEditor(cm, name, handle);\n\n    if (result == \"multi\") {\n      cm.state.keySeq = name;\n    }\n\n    if (result == \"handled\") {\n      signalLater(cm, \"keyHandled\", cm, name, e);\n    }\n\n    if (result == \"handled\" || result == \"multi\") {\n      e_preventDefault(e);\n      restartBlink(cm);\n    }\n\n    return !!result;\n  } // Handle a key from the keydown event.\n\n\n  function handleKeyBinding(cm, e) {\n    var name = keyName(e, true);\n\n    if (!name) {\n      return false;\n    }\n\n    if (e.shiftKey && !cm.state.keySeq) {\n      // First try to resolve full name (including 'Shift-'). Failing\n      // that, see if there is a cursor-motion command (starting with\n      // 'go') bound to the keyname without 'Shift-'.\n      return dispatchKey(cm, \"Shift-\" + name, e, function (b) {\n        return doHandleBinding(cm, b, true);\n      }) || dispatchKey(cm, name, e, function (b) {\n        if (typeof b == \"string\" ? /^go[A-Z]/.test(b) : b.motion) {\n          return doHandleBinding(cm, b);\n        }\n      });\n    } else {\n      return dispatchKey(cm, name, e, function (b) {\n        return doHandleBinding(cm, b);\n      });\n    }\n  } // Handle a key from the keypress event\n\n\n  function handleCharBinding(cm, e, ch) {\n    return dispatchKey(cm, \"'\" + ch + \"'\", e, function (b) {\n      return doHandleBinding(cm, b, true);\n    });\n  }\n\n  var lastStoppedKey = null;\n\n  function onKeyDown(e) {\n    var cm = this;\n    cm.curOp.focus = activeElt();\n\n    if (signalDOMEvent(cm, e)) {\n      return;\n    } // IE does strange things with escape.\n\n\n    if (ie && ie_version < 11 && e.keyCode == 27) {\n      e.returnValue = false;\n    }\n\n    var code = e.keyCode;\n    cm.display.shift = code == 16 || e.shiftKey;\n    var handled = handleKeyBinding(cm, e);\n\n    if (presto) {\n      lastStoppedKey = handled ? code : null; // Opera has no cut event... we try to at least catch the key combo\n\n      if (!handled && code == 88 && !hasCopyEvent && (mac ? e.metaKey : e.ctrlKey)) {\n        cm.replaceSelection(\"\", null, \"cut\");\n      }\n    }\n\n    if (gecko && !mac && !handled && code == 46 && e.shiftKey && !e.ctrlKey && document.execCommand) {\n      document.execCommand(\"cut\");\n    } // Turn mouse into crosshair when Alt is held on Mac.\n\n\n    if (code == 18 && !/\\bCodeMirror-crosshair\\b/.test(cm.display.lineDiv.className)) {\n      showCrossHair(cm);\n    }\n  }\n\n  function showCrossHair(cm) {\n    var lineDiv = cm.display.lineDiv;\n    addClass(lineDiv, \"CodeMirror-crosshair\");\n\n    function up(e) {\n      if (e.keyCode == 18 || !e.altKey) {\n        rmClass(lineDiv, \"CodeMirror-crosshair\");\n        off(document, \"keyup\", up);\n        off(document, \"mouseover\", up);\n      }\n    }\n\n    on(document, \"keyup\", up);\n    on(document, \"mouseover\", up);\n  }\n\n  function onKeyUp(e) {\n    if (e.keyCode == 16) {\n      this.doc.sel.shift = false;\n    }\n\n    signalDOMEvent(this, e);\n  }\n\n  function onKeyPress(e) {\n    var cm = this;\n\n    if (eventInWidget(cm.display, e) || signalDOMEvent(cm, e) || e.ctrlKey && !e.altKey || mac && e.metaKey) {\n      return;\n    }\n\n    var keyCode = e.keyCode,\n        charCode = e.charCode;\n\n    if (presto && keyCode == lastStoppedKey) {\n      lastStoppedKey = null;\n      e_preventDefault(e);\n      return;\n    }\n\n    if (presto && (!e.which || e.which < 10) && handleKeyBinding(cm, e)) {\n      return;\n    }\n\n    var ch = String.fromCharCode(charCode == null ? keyCode : charCode); // Some browsers fire keypress events for backspace\n\n    if (ch == \"\\x08\") {\n      return;\n    }\n\n    if (handleCharBinding(cm, e, ch)) {\n      return;\n    }\n\n    cm.display.input.onKeyPress(e);\n  }\n\n  var DOUBLECLICK_DELAY = 400;\n\n  var PastClick = function (time, pos, button) {\n    this.time = time;\n    this.pos = pos;\n    this.button = button;\n  };\n\n  PastClick.prototype.compare = function (time, pos, button) {\n    return this.time + DOUBLECLICK_DELAY > time && cmp(pos, this.pos) == 0 && button == this.button;\n  };\n\n  var lastClick, lastDoubleClick;\n\n  function clickRepeat(pos, button) {\n    var now = +new Date();\n\n    if (lastDoubleClick && lastDoubleClick.compare(now, pos, button)) {\n      lastClick = lastDoubleClick = null;\n      return \"triple\";\n    } else if (lastClick && lastClick.compare(now, pos, button)) {\n      lastDoubleClick = new PastClick(now, pos, button);\n      lastClick = null;\n      return \"double\";\n    } else {\n      lastClick = new PastClick(now, pos, button);\n      lastDoubleClick = null;\n      return \"single\";\n    }\n  } // A mouse down can be a single click, double click, triple click,\n  // start of selection drag, start of text drag, new cursor\n  // (ctrl-click), rectangle drag (alt-drag), or xwin\n  // middle-click-paste. Or it might be a click on something we should\n  // not interfere with, such as a scrollbar or widget.\n\n\n  function onMouseDown(e) {\n    var cm = this,\n        display = cm.display;\n\n    if (signalDOMEvent(cm, e) || display.activeTouch && display.input.supportsTouch()) {\n      return;\n    }\n\n    display.input.ensurePolled();\n    display.shift = e.shiftKey;\n\n    if (eventInWidget(display, e)) {\n      if (!webkit) {\n        // Briefly turn off draggability, to allow widgets to do\n        // normal dragging things.\n        display.scroller.draggable = false;\n        setTimeout(function () {\n          return display.scroller.draggable = true;\n        }, 100);\n      }\n\n      return;\n    }\n\n    if (clickInGutter(cm, e)) {\n      return;\n    }\n\n    var pos = posFromMouse(cm, e),\n        button = e_button(e),\n        repeat = pos ? clickRepeat(pos, button) : \"single\";\n    window.focus(); // #3261: make sure, that we're not starting a second selection\n\n    if (button == 1 && cm.state.selectingText) {\n      cm.state.selectingText(e);\n    }\n\n    if (pos && handleMappedButton(cm, button, pos, repeat, e)) {\n      return;\n    }\n\n    if (button == 1) {\n      if (pos) {\n        leftButtonDown(cm, pos, repeat, e);\n      } else if (e_target(e) == display.scroller) {\n        e_preventDefault(e);\n      }\n    } else if (button == 2) {\n      if (pos) {\n        extendSelection(cm.doc, pos);\n      }\n\n      setTimeout(function () {\n        return display.input.focus();\n      }, 20);\n    } else if (button == 3) {\n      if (captureRightClick) {\n        cm.display.input.onContextMenu(e);\n      } else {\n        delayBlurEvent(cm);\n      }\n    }\n  }\n\n  function handleMappedButton(cm, button, pos, repeat, event) {\n    var name = \"Click\";\n\n    if (repeat == \"double\") {\n      name = \"Double\" + name;\n    } else if (repeat == \"triple\") {\n      name = \"Triple\" + name;\n    }\n\n    name = (button == 1 ? \"Left\" : button == 2 ? \"Middle\" : \"Right\") + name;\n    return dispatchKey(cm, addModifierNames(name, event), event, function (bound) {\n      if (typeof bound == \"string\") {\n        bound = commands[bound];\n      }\n\n      if (!bound) {\n        return false;\n      }\n\n      var done = false;\n\n      try {\n        if (cm.isReadOnly()) {\n          cm.state.suppressEdits = true;\n        }\n\n        done = bound(cm, pos) != Pass;\n      } finally {\n        cm.state.suppressEdits = false;\n      }\n\n      return done;\n    });\n  }\n\n  function configureMouse(cm, repeat, event) {\n    var option = cm.getOption(\"configureMouse\");\n    var value = option ? option(cm, repeat, event) : {};\n\n    if (value.unit == null) {\n      var rect = chromeOS ? event.shiftKey && event.metaKey : event.altKey;\n      value.unit = rect ? \"rectangle\" : repeat == \"single\" ? \"char\" : repeat == \"double\" ? \"word\" : \"line\";\n    }\n\n    if (value.extend == null || cm.doc.extend) {\n      value.extend = cm.doc.extend || event.shiftKey;\n    }\n\n    if (value.addNew == null) {\n      value.addNew = mac ? event.metaKey : event.ctrlKey;\n    }\n\n    if (value.moveOnDrag == null) {\n      value.moveOnDrag = !(mac ? event.altKey : event.ctrlKey);\n    }\n\n    return value;\n  }\n\n  function leftButtonDown(cm, pos, repeat, event) {\n    if (ie) {\n      setTimeout(bind(ensureFocus, cm), 0);\n    } else {\n      cm.curOp.focus = activeElt();\n    }\n\n    var behavior = configureMouse(cm, repeat, event);\n    var sel = cm.doc.sel,\n        contained;\n\n    if (cm.options.dragDrop && dragAndDrop && !cm.isReadOnly() && repeat == \"single\" && (contained = sel.contains(pos)) > -1 && (cmp((contained = sel.ranges[contained]).from(), pos) < 0 || pos.xRel > 0) && (cmp(contained.to(), pos) > 0 || pos.xRel < 0)) {\n      leftButtonStartDrag(cm, event, pos, behavior);\n    } else {\n      leftButtonSelect(cm, event, pos, behavior);\n    }\n  } // Start a text drag. When it ends, see if any dragging actually\n  // happen, and treat as a click if it didn't.\n\n\n  function leftButtonStartDrag(cm, event, pos, behavior) {\n    var display = cm.display,\n        moved = false;\n    var dragEnd = operation(cm, function (e) {\n      if (webkit) {\n        display.scroller.draggable = false;\n      }\n\n      cm.state.draggingText = false;\n      off(display.wrapper.ownerDocument, \"mouseup\", dragEnd);\n      off(display.wrapper.ownerDocument, \"mousemove\", mouseMove);\n      off(display.scroller, \"dragstart\", dragStart);\n      off(display.scroller, \"drop\", dragEnd);\n\n      if (!moved) {\n        e_preventDefault(e);\n\n        if (!behavior.addNew) {\n          extendSelection(cm.doc, pos, null, null, behavior.extend);\n        } // Work around unexplainable focus problem in IE9 (#2127) and Chrome (#3081)\n\n\n        if (webkit || ie && ie_version == 9) {\n          setTimeout(function () {\n            display.wrapper.ownerDocument.body.focus();\n            display.input.focus();\n          }, 20);\n        } else {\n          display.input.focus();\n        }\n      }\n    });\n\n    var mouseMove = function (e2) {\n      moved = moved || Math.abs(event.clientX - e2.clientX) + Math.abs(event.clientY - e2.clientY) >= 10;\n    };\n\n    var dragStart = function () {\n      return moved = true;\n    }; // Let the drag handler handle this.\n\n\n    if (webkit) {\n      display.scroller.draggable = true;\n    }\n\n    cm.state.draggingText = dragEnd;\n    dragEnd.copy = !behavior.moveOnDrag; // IE's approach to draggable\n\n    if (display.scroller.dragDrop) {\n      display.scroller.dragDrop();\n    }\n\n    on(display.wrapper.ownerDocument, \"mouseup\", dragEnd);\n    on(display.wrapper.ownerDocument, \"mousemove\", mouseMove);\n    on(display.scroller, \"dragstart\", dragStart);\n    on(display.scroller, \"drop\", dragEnd);\n    delayBlurEvent(cm);\n    setTimeout(function () {\n      return display.input.focus();\n    }, 20);\n  }\n\n  function rangeForUnit(cm, pos, unit) {\n    if (unit == \"char\") {\n      return new Range(pos, pos);\n    }\n\n    if (unit == \"word\") {\n      return cm.findWordAt(pos);\n    }\n\n    if (unit == \"line\") {\n      return new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0)));\n    }\n\n    var result = unit(cm, pos);\n    return new Range(result.from, result.to);\n  } // Normal selection, as opposed to text dragging.\n\n\n  function leftButtonSelect(cm, event, start, behavior) {\n    var display = cm.display,\n        doc = cm.doc;\n    e_preventDefault(event);\n    var ourRange,\n        ourIndex,\n        startSel = doc.sel,\n        ranges = startSel.ranges;\n\n    if (behavior.addNew && !behavior.extend) {\n      ourIndex = doc.sel.contains(start);\n\n      if (ourIndex > -1) {\n        ourRange = ranges[ourIndex];\n      } else {\n        ourRange = new Range(start, start);\n      }\n    } else {\n      ourRange = doc.sel.primary();\n      ourIndex = doc.sel.primIndex;\n    }\n\n    if (behavior.unit == \"rectangle\") {\n      if (!behavior.addNew) {\n        ourRange = new Range(start, start);\n      }\n\n      start = posFromMouse(cm, event, true, true);\n      ourIndex = -1;\n    } else {\n      var range = rangeForUnit(cm, start, behavior.unit);\n\n      if (behavior.extend) {\n        ourRange = extendRange(ourRange, range.anchor, range.head, behavior.extend);\n      } else {\n        ourRange = range;\n      }\n    }\n\n    if (!behavior.addNew) {\n      ourIndex = 0;\n      setSelection(doc, new Selection([ourRange], 0), sel_mouse);\n      startSel = doc.sel;\n    } else if (ourIndex == -1) {\n      ourIndex = ranges.length;\n      setSelection(doc, normalizeSelection(cm, ranges.concat([ourRange]), ourIndex), {\n        scroll: false,\n        origin: \"*mouse\"\n      });\n    } else if (ranges.length > 1 && ranges[ourIndex].empty() && behavior.unit == \"char\" && !behavior.extend) {\n      setSelection(doc, normalizeSelection(cm, ranges.slice(0, ourIndex).concat(ranges.slice(ourIndex + 1)), 0), {\n        scroll: false,\n        origin: \"*mouse\"\n      });\n      startSel = doc.sel;\n    } else {\n      replaceOneSelection(doc, ourIndex, ourRange, sel_mouse);\n    }\n\n    var lastPos = start;\n\n    function extendTo(pos) {\n      if (cmp(lastPos, pos) == 0) {\n        return;\n      }\n\n      lastPos = pos;\n\n      if (behavior.unit == \"rectangle\") {\n        var ranges = [],\n            tabSize = cm.options.tabSize;\n        var startCol = countColumn(getLine(doc, start.line).text, start.ch, tabSize);\n        var posCol = countColumn(getLine(doc, pos.line).text, pos.ch, tabSize);\n        var left = Math.min(startCol, posCol),\n            right = Math.max(startCol, posCol);\n\n        for (var line = Math.min(start.line, pos.line), end = Math.min(cm.lastLine(), Math.max(start.line, pos.line)); line <= end; line++) {\n          var text = getLine(doc, line).text,\n              leftPos = findColumn(text, left, tabSize);\n\n          if (left == right) {\n            ranges.push(new Range(Pos(line, leftPos), Pos(line, leftPos)));\n          } else if (text.length > leftPos) {\n            ranges.push(new Range(Pos(line, leftPos), Pos(line, findColumn(text, right, tabSize))));\n          }\n        }\n\n        if (!ranges.length) {\n          ranges.push(new Range(start, start));\n        }\n\n        setSelection(doc, normalizeSelection(cm, startSel.ranges.slice(0, ourIndex).concat(ranges), ourIndex), {\n          origin: \"*mouse\",\n          scroll: false\n        });\n        cm.scrollIntoView(pos);\n      } else {\n        var oldRange = ourRange;\n        var range = rangeForUnit(cm, pos, behavior.unit);\n        var anchor = oldRange.anchor,\n            head;\n\n        if (cmp(range.anchor, anchor) > 0) {\n          head = range.head;\n          anchor = minPos(oldRange.from(), range.anchor);\n        } else {\n          head = range.anchor;\n          anchor = maxPos(oldRange.to(), range.head);\n        }\n\n        var ranges$1 = startSel.ranges.slice(0);\n        ranges$1[ourIndex] = bidiSimplify(cm, new Range(clipPos(doc, anchor), head));\n        setSelection(doc, normalizeSelection(cm, ranges$1, ourIndex), sel_mouse);\n      }\n    }\n\n    var editorSize = display.wrapper.getBoundingClientRect(); // Used to ensure timeout re-tries don't fire when another extend\n    // happened in the meantime (clearTimeout isn't reliable -- at\n    // least on Chrome, the timeouts still happen even when cleared,\n    // if the clear happens after their scheduled firing time).\n\n    var counter = 0;\n\n    function extend(e) {\n      var curCount = ++counter;\n      var cur = posFromMouse(cm, e, true, behavior.unit == \"rectangle\");\n\n      if (!cur) {\n        return;\n      }\n\n      if (cmp(cur, lastPos) != 0) {\n        cm.curOp.focus = activeElt();\n        extendTo(cur);\n        var visible = visibleLines(display, doc);\n\n        if (cur.line >= visible.to || cur.line < visible.from) {\n          setTimeout(operation(cm, function () {\n            if (counter == curCount) {\n              extend(e);\n            }\n          }), 150);\n        }\n      } else {\n        var outside = e.clientY < editorSize.top ? -20 : e.clientY > editorSize.bottom ? 20 : 0;\n\n        if (outside) {\n          setTimeout(operation(cm, function () {\n            if (counter != curCount) {\n              return;\n            }\n\n            display.scroller.scrollTop += outside;\n            extend(e);\n          }), 50);\n        }\n      }\n    }\n\n    function done(e) {\n      cm.state.selectingText = false;\n      counter = Infinity; // If e is null or undefined we interpret this as someone trying\n      // to explicitly cancel the selection rather than the user\n      // letting go of the mouse button.\n\n      if (e) {\n        e_preventDefault(e);\n        display.input.focus();\n      }\n\n      off(display.wrapper.ownerDocument, \"mousemove\", move);\n      off(display.wrapper.ownerDocument, \"mouseup\", up);\n      doc.history.lastSelOrigin = null;\n    }\n\n    var move = operation(cm, function (e) {\n      if (e.buttons === 0 || !e_button(e)) {\n        done(e);\n      } else {\n        extend(e);\n      }\n    });\n    var up = operation(cm, done);\n    cm.state.selectingText = up;\n    on(display.wrapper.ownerDocument, \"mousemove\", move);\n    on(display.wrapper.ownerDocument, \"mouseup\", up);\n  } // Used when mouse-selecting to adjust the anchor to the proper side\n  // of a bidi jump depending on the visual position of the head.\n\n\n  function bidiSimplify(cm, range) {\n    var anchor = range.anchor;\n    var head = range.head;\n    var anchorLine = getLine(cm.doc, anchor.line);\n\n    if (cmp(anchor, head) == 0 && anchor.sticky == head.sticky) {\n      return range;\n    }\n\n    var order = getOrder(anchorLine);\n\n    if (!order) {\n      return range;\n    }\n\n    var index = getBidiPartAt(order, anchor.ch, anchor.sticky),\n        part = order[index];\n\n    if (part.from != anchor.ch && part.to != anchor.ch) {\n      return range;\n    }\n\n    var boundary = index + (part.from == anchor.ch == (part.level != 1) ? 0 : 1);\n\n    if (boundary == 0 || boundary == order.length) {\n      return range;\n    } // Compute the relative visual position of the head compared to the\n    // anchor (<0 is to the left, >0 to the right)\n\n\n    var leftSide;\n\n    if (head.line != anchor.line) {\n      leftSide = (head.line - anchor.line) * (cm.doc.direction == \"ltr\" ? 1 : -1) > 0;\n    } else {\n      var headIndex = getBidiPartAt(order, head.ch, head.sticky);\n      var dir = headIndex - index || (head.ch - anchor.ch) * (part.level == 1 ? -1 : 1);\n\n      if (headIndex == boundary - 1 || headIndex == boundary) {\n        leftSide = dir < 0;\n      } else {\n        leftSide = dir > 0;\n      }\n    }\n\n    var usePart = order[boundary + (leftSide ? -1 : 0)];\n    var from = leftSide == (usePart.level == 1);\n    var ch = from ? usePart.from : usePart.to,\n        sticky = from ? \"after\" : \"before\";\n    return anchor.ch == ch && anchor.sticky == sticky ? range : new Range(new Pos(anchor.line, ch, sticky), head);\n  } // Determines whether an event happened in the gutter, and fires the\n  // handlers for the corresponding event.\n\n\n  function gutterEvent(cm, e, type, prevent) {\n    var mX, mY;\n\n    if (e.touches) {\n      mX = e.touches[0].clientX;\n      mY = e.touches[0].clientY;\n    } else {\n      try {\n        mX = e.clientX;\n        mY = e.clientY;\n      } catch (e) {\n        return false;\n      }\n    }\n\n    if (mX >= Math.floor(cm.display.gutters.getBoundingClientRect().right)) {\n      return false;\n    }\n\n    if (prevent) {\n      e_preventDefault(e);\n    }\n\n    var display = cm.display;\n    var lineBox = display.lineDiv.getBoundingClientRect();\n\n    if (mY > lineBox.bottom || !hasHandler(cm, type)) {\n      return e_defaultPrevented(e);\n    }\n\n    mY -= lineBox.top - display.viewOffset;\n\n    for (var i = 0; i < cm.display.gutterSpecs.length; ++i) {\n      var g = display.gutters.childNodes[i];\n\n      if (g && g.getBoundingClientRect().right >= mX) {\n        var line = lineAtHeight(cm.doc, mY);\n        var gutter = cm.display.gutterSpecs[i];\n        signal(cm, type, cm, line, gutter.className, e);\n        return e_defaultPrevented(e);\n      }\n    }\n  }\n\n  function clickInGutter(cm, e) {\n    return gutterEvent(cm, e, \"gutterClick\", true);\n  } // CONTEXT MENU HANDLING\n  // To make the context menu work, we need to briefly unhide the\n  // textarea (making it as unobtrusive as possible) to let the\n  // right-click take effect on it.\n\n\n  function onContextMenu(cm, e) {\n    if (eventInWidget(cm.display, e) || contextMenuInGutter(cm, e)) {\n      return;\n    }\n\n    if (signalDOMEvent(cm, e, \"contextmenu\")) {\n      return;\n    }\n\n    if (!captureRightClick) {\n      cm.display.input.onContextMenu(e);\n    }\n  }\n\n  function contextMenuInGutter(cm, e) {\n    if (!hasHandler(cm, \"gutterContextMenu\")) {\n      return false;\n    }\n\n    return gutterEvent(cm, e, \"gutterContextMenu\", false);\n  }\n\n  function themeChanged(cm) {\n    cm.display.wrapper.className = cm.display.wrapper.className.replace(/\\s*cm-s-\\S+/g, \"\") + cm.options.theme.replace(/(^|\\s)\\s*/g, \" cm-s-\");\n    clearCaches(cm);\n  }\n\n  var Init = {\n    toString: function () {\n      return \"CodeMirror.Init\";\n    }\n  };\n  var defaults = {};\n  var optionHandlers = {};\n\n  function defineOptions(CodeMirror) {\n    var optionHandlers = CodeMirror.optionHandlers;\n\n    function option(name, deflt, handle, notOnInit) {\n      CodeMirror.defaults[name] = deflt;\n\n      if (handle) {\n        optionHandlers[name] = notOnInit ? function (cm, val, old) {\n          if (old != Init) {\n            handle(cm, val, old);\n          }\n        } : handle;\n      }\n    }\n\n    CodeMirror.defineOption = option; // Passed to option handlers when there is no old value.\n\n    CodeMirror.Init = Init; // These two are, on init, called from the constructor because they\n    // have to be initialized before the editor can start at all.\n\n    option(\"value\", \"\", function (cm, val) {\n      return cm.setValue(val);\n    }, true);\n    option(\"mode\", null, function (cm, val) {\n      cm.doc.modeOption = val;\n      loadMode(cm);\n    }, true);\n    option(\"indentUnit\", 2, loadMode, true);\n    option(\"indentWithTabs\", false);\n    option(\"smartIndent\", true);\n    option(\"tabSize\", 4, function (cm) {\n      resetModeState(cm);\n      clearCaches(cm);\n      regChange(cm);\n    }, true);\n    option(\"lineSeparator\", null, function (cm, val) {\n      cm.doc.lineSep = val;\n\n      if (!val) {\n        return;\n      }\n\n      var newBreaks = [],\n          lineNo = cm.doc.first;\n      cm.doc.iter(function (line) {\n        for (var pos = 0;;) {\n          var found = line.text.indexOf(val, pos);\n\n          if (found == -1) {\n            break;\n          }\n\n          pos = found + val.length;\n          newBreaks.push(Pos(lineNo, found));\n        }\n\n        lineNo++;\n      });\n\n      for (var i = newBreaks.length - 1; i >= 0; i--) {\n        replaceRange(cm.doc, val, newBreaks[i], Pos(newBreaks[i].line, newBreaks[i].ch + val.length));\n      }\n    });\n    option(\"specialChars\", /[\\u0000-\\u001f\\u007f-\\u009f\\u00ad\\u061c\\u200b-\\u200f\\u2028\\u2029\\ufeff\\ufff9-\\ufffc]/g, function (cm, val, old) {\n      cm.state.specialChars = new RegExp(val.source + (val.test(\"\\t\") ? \"\" : \"|\\t\"), \"g\");\n\n      if (old != Init) {\n        cm.refresh();\n      }\n    });\n    option(\"specialCharPlaceholder\", defaultSpecialCharPlaceholder, function (cm) {\n      return cm.refresh();\n    }, true);\n    option(\"electricChars\", true);\n    option(\"inputStyle\", mobile ? \"contenteditable\" : \"textarea\", function () {\n      throw new Error(\"inputStyle can not (yet) be changed in a running editor\"); // FIXME\n    }, true);\n    option(\"spellcheck\", false, function (cm, val) {\n      return cm.getInputField().spellcheck = val;\n    }, true);\n    option(\"autocorrect\", false, function (cm, val) {\n      return cm.getInputField().autocorrect = val;\n    }, true);\n    option(\"autocapitalize\", false, function (cm, val) {\n      return cm.getInputField().autocapitalize = val;\n    }, true);\n    option(\"rtlMoveVisually\", !windows);\n    option(\"wholeLineUpdateBefore\", true);\n    option(\"theme\", \"default\", function (cm) {\n      themeChanged(cm);\n      updateGutters(cm);\n    }, true);\n    option(\"keyMap\", \"default\", function (cm, val, old) {\n      var next = getKeyMap(val);\n      var prev = old != Init && getKeyMap(old);\n\n      if (prev && prev.detach) {\n        prev.detach(cm, next);\n      }\n\n      if (next.attach) {\n        next.attach(cm, prev || null);\n      }\n    });\n    option(\"extraKeys\", null);\n    option(\"configureMouse\", null);\n    option(\"lineWrapping\", false, wrappingChanged, true);\n    option(\"gutters\", [], function (cm, val) {\n      cm.display.gutterSpecs = getGutters(val, cm.options.lineNumbers);\n      updateGutters(cm);\n    }, true);\n    option(\"fixedGutter\", true, function (cm, val) {\n      cm.display.gutters.style.left = val ? compensateForHScroll(cm.display) + \"px\" : \"0\";\n      cm.refresh();\n    }, true);\n    option(\"coverGutterNextToScrollbar\", false, function (cm) {\n      return updateScrollbars(cm);\n    }, true);\n    option(\"scrollbarStyle\", \"native\", function (cm) {\n      initScrollbars(cm);\n      updateScrollbars(cm);\n      cm.display.scrollbars.setScrollTop(cm.doc.scrollTop);\n      cm.display.scrollbars.setScrollLeft(cm.doc.scrollLeft);\n    }, true);\n    option(\"lineNumbers\", false, function (cm, val) {\n      cm.display.gutterSpecs = getGutters(cm.options.gutters, val);\n      updateGutters(cm);\n    }, true);\n    option(\"firstLineNumber\", 1, updateGutters, true);\n    option(\"lineNumberFormatter\", function (integer) {\n      return integer;\n    }, updateGutters, true);\n    option(\"showCursorWhenSelecting\", false, updateSelection, true);\n    option(\"resetSelectionOnContextMenu\", true);\n    option(\"lineWiseCopyCut\", true);\n    option(\"pasteLinesPerSelection\", true);\n    option(\"selectionsMayTouch\", false);\n    option(\"readOnly\", false, function (cm, val) {\n      if (val == \"nocursor\") {\n        onBlur(cm);\n        cm.display.input.blur();\n      }\n\n      cm.display.input.readOnlyChanged(val);\n    });\n    option(\"screenReaderLabel\", null, function (cm, val) {\n      val = val === '' ? null : val;\n      cm.display.input.screenReaderLabelChanged(val);\n    });\n    option(\"disableInput\", false, function (cm, val) {\n      if (!val) {\n        cm.display.input.reset();\n      }\n    }, true);\n    option(\"dragDrop\", true, dragDropChanged);\n    option(\"allowDropFileTypes\", null);\n    option(\"cursorBlinkRate\", 530);\n    option(\"cursorScrollMargin\", 0);\n    option(\"cursorHeight\", 1, updateSelection, true);\n    option(\"singleCursorHeightPerLine\", true, updateSelection, true);\n    option(\"workTime\", 100);\n    option(\"workDelay\", 100);\n    option(\"flattenSpans\", true, resetModeState, true);\n    option(\"addModeClass\", false, resetModeState, true);\n    option(\"pollInterval\", 100);\n    option(\"undoDepth\", 200, function (cm, val) {\n      return cm.doc.history.undoDepth = val;\n    });\n    option(\"historyEventDelay\", 1250);\n    option(\"viewportMargin\", 10, function (cm) {\n      return cm.refresh();\n    }, true);\n    option(\"maxHighlightLength\", 10000, resetModeState, true);\n    option(\"moveInputWithCursor\", true, function (cm, val) {\n      if (!val) {\n        cm.display.input.resetPosition();\n      }\n    });\n    option(\"tabindex\", null, function (cm, val) {\n      return cm.display.input.getField().tabIndex = val || \"\";\n    });\n    option(\"autofocus\", null);\n    option(\"direction\", \"ltr\", function (cm, val) {\n      return cm.doc.setDirection(val);\n    }, true);\n    option(\"phrases\", null);\n  }\n\n  function dragDropChanged(cm, value, old) {\n    var wasOn = old && old != Init;\n\n    if (!value != !wasOn) {\n      var funcs = cm.display.dragFunctions;\n      var toggle = value ? on : off;\n      toggle(cm.display.scroller, \"dragstart\", funcs.start);\n      toggle(cm.display.scroller, \"dragenter\", funcs.enter);\n      toggle(cm.display.scroller, \"dragover\", funcs.over);\n      toggle(cm.display.scroller, \"dragleave\", funcs.leave);\n      toggle(cm.display.scroller, \"drop\", funcs.drop);\n    }\n  }\n\n  function wrappingChanged(cm) {\n    if (cm.options.lineWrapping) {\n      addClass(cm.display.wrapper, \"CodeMirror-wrap\");\n      cm.display.sizer.style.minWidth = \"\";\n      cm.display.sizerWidth = null;\n    } else {\n      rmClass(cm.display.wrapper, \"CodeMirror-wrap\");\n      findMaxLine(cm);\n    }\n\n    estimateLineHeights(cm);\n    regChange(cm);\n    clearCaches(cm);\n    setTimeout(function () {\n      return updateScrollbars(cm);\n    }, 100);\n  } // A CodeMirror instance represents an editor. This is the object\n  // that user code is usually dealing with.\n\n\n  function CodeMirror(place, options) {\n    var this$1 = this;\n\n    if (!(this instanceof CodeMirror)) {\n      return new CodeMirror(place, options);\n    }\n\n    this.options = options = options ? copyObj(options) : {}; // Determine effective options based on given values and defaults.\n\n    copyObj(defaults, options, false);\n    var doc = options.value;\n\n    if (typeof doc == \"string\") {\n      doc = new Doc(doc, options.mode, null, options.lineSeparator, options.direction);\n    } else if (options.mode) {\n      doc.modeOption = options.mode;\n    }\n\n    this.doc = doc;\n    var input = new CodeMirror.inputStyles[options.inputStyle](this);\n    var display = this.display = new Display(place, doc, input, options);\n    display.wrapper.CodeMirror = this;\n    themeChanged(this);\n\n    if (options.lineWrapping) {\n      this.display.wrapper.className += \" CodeMirror-wrap\";\n    }\n\n    initScrollbars(this);\n    this.state = {\n      keyMaps: [],\n      // stores maps added by addKeyMap\n      overlays: [],\n      // highlighting overlays, as added by addOverlay\n      modeGen: 0,\n      // bumped when mode/overlay changes, used to invalidate highlighting info\n      overwrite: false,\n      delayingBlurEvent: false,\n      focused: false,\n      suppressEdits: false,\n      // used to disable editing during key handlers when in readOnly mode\n      pasteIncoming: -1,\n      cutIncoming: -1,\n      // help recognize paste/cut edits in input.poll\n      selectingText: false,\n      draggingText: false,\n      highlight: new Delayed(),\n      // stores highlight worker timeout\n      keySeq: null,\n      // Unfinished key sequence\n      specialChars: null\n    };\n\n    if (options.autofocus && !mobile) {\n      display.input.focus();\n    } // Override magic textarea content restore that IE sometimes does\n    // on our hidden textarea on reload\n\n\n    if (ie && ie_version < 11) {\n      setTimeout(function () {\n        return this$1.display.input.reset(true);\n      }, 20);\n    }\n\n    registerEventHandlers(this);\n    ensureGlobalHandlers();\n    startOperation(this);\n    this.curOp.forceUpdate = true;\n    attachDoc(this, doc);\n\n    if (options.autofocus && !mobile || this.hasFocus()) {\n      setTimeout(bind(onFocus, this), 20);\n    } else {\n      onBlur(this);\n    }\n\n    for (var opt in optionHandlers) {\n      if (optionHandlers.hasOwnProperty(opt)) {\n        optionHandlers[opt](this, options[opt], Init);\n      }\n    }\n\n    maybeUpdateLineNumberWidth(this);\n\n    if (options.finishInit) {\n      options.finishInit(this);\n    }\n\n    for (var i = 0; i < initHooks.length; ++i) {\n      initHooks[i](this);\n    }\n\n    endOperation(this); // Suppress optimizelegibility in Webkit, since it breaks text\n    // measuring on line wrapping boundaries.\n\n    if (webkit && options.lineWrapping && getComputedStyle(display.lineDiv).textRendering == \"optimizelegibility\") {\n      display.lineDiv.style.textRendering = \"auto\";\n    }\n  } // The default configuration options.\n\n\n  CodeMirror.defaults = defaults; // Functions to run when options are changed.\n\n  CodeMirror.optionHandlers = optionHandlers; // Attach the necessary event handlers when initializing the editor\n\n  function registerEventHandlers(cm) {\n    var d = cm.display;\n    on(d.scroller, \"mousedown\", operation(cm, onMouseDown)); // Older IE's will not fire a second mousedown for a double click\n\n    if (ie && ie_version < 11) {\n      on(d.scroller, \"dblclick\", operation(cm, function (e) {\n        if (signalDOMEvent(cm, e)) {\n          return;\n        }\n\n        var pos = posFromMouse(cm, e);\n\n        if (!pos || clickInGutter(cm, e) || eventInWidget(cm.display, e)) {\n          return;\n        }\n\n        e_preventDefault(e);\n        var word = cm.findWordAt(pos);\n        extendSelection(cm.doc, word.anchor, word.head);\n      }));\n    } else {\n      on(d.scroller, \"dblclick\", function (e) {\n        return signalDOMEvent(cm, e) || e_preventDefault(e);\n      });\n    } // Some browsers fire contextmenu *after* opening the menu, at\n    // which point we can't mess with it anymore. Context menu is\n    // handled in onMouseDown for these browsers.\n\n\n    on(d.scroller, \"contextmenu\", function (e) {\n      return onContextMenu(cm, e);\n    });\n    on(d.input.getField(), \"contextmenu\", function (e) {\n      if (!d.scroller.contains(e.target)) {\n        onContextMenu(cm, e);\n      }\n    }); // Used to suppress mouse event handling when a touch happens\n\n    var touchFinished,\n        prevTouch = {\n      end: 0\n    };\n\n    function finishTouch() {\n      if (d.activeTouch) {\n        touchFinished = setTimeout(function () {\n          return d.activeTouch = null;\n        }, 1000);\n        prevTouch = d.activeTouch;\n        prevTouch.end = +new Date();\n      }\n    }\n\n    function isMouseLikeTouchEvent(e) {\n      if (e.touches.length != 1) {\n        return false;\n      }\n\n      var touch = e.touches[0];\n      return touch.radiusX <= 1 && touch.radiusY <= 1;\n    }\n\n    function farAway(touch, other) {\n      if (other.left == null) {\n        return true;\n      }\n\n      var dx = other.left - touch.left,\n          dy = other.top - touch.top;\n      return dx * dx + dy * dy > 20 * 20;\n    }\n\n    on(d.scroller, \"touchstart\", function (e) {\n      if (!signalDOMEvent(cm, e) && !isMouseLikeTouchEvent(e) && !clickInGutter(cm, e)) {\n        d.input.ensurePolled();\n        clearTimeout(touchFinished);\n        var now = +new Date();\n        d.activeTouch = {\n          start: now,\n          moved: false,\n          prev: now - prevTouch.end <= 300 ? prevTouch : null\n        };\n\n        if (e.touches.length == 1) {\n          d.activeTouch.left = e.touches[0].pageX;\n          d.activeTouch.top = e.touches[0].pageY;\n        }\n      }\n    });\n    on(d.scroller, \"touchmove\", function () {\n      if (d.activeTouch) {\n        d.activeTouch.moved = true;\n      }\n    });\n    on(d.scroller, \"touchend\", function (e) {\n      var touch = d.activeTouch;\n\n      if (touch && !eventInWidget(d, e) && touch.left != null && !touch.moved && new Date() - touch.start < 300) {\n        var pos = cm.coordsChar(d.activeTouch, \"page\"),\n            range;\n\n        if (!touch.prev || farAway(touch, touch.prev)) // Single tap\n          {\n            range = new Range(pos, pos);\n          } else if (!touch.prev.prev || farAway(touch, touch.prev.prev)) // Double tap\n          {\n            range = cm.findWordAt(pos);\n          } else // Triple tap\n          {\n            range = new Range(Pos(pos.line, 0), clipPos(cm.doc, Pos(pos.line + 1, 0)));\n          }\n\n        cm.setSelection(range.anchor, range.head);\n        cm.focus();\n        e_preventDefault(e);\n      }\n\n      finishTouch();\n    });\n    on(d.scroller, \"touchcancel\", finishTouch); // Sync scrolling between fake scrollbars and real scrollable\n    // area, ensure viewport is updated when scrolling.\n\n    on(d.scroller, \"scroll\", function () {\n      if (d.scroller.clientHeight) {\n        updateScrollTop(cm, d.scroller.scrollTop);\n        setScrollLeft(cm, d.scroller.scrollLeft, true);\n        signal(cm, \"scroll\", cm);\n      }\n    }); // Listen to wheel events in order to try and update the viewport on time.\n\n    on(d.scroller, \"mousewheel\", function (e) {\n      return onScrollWheel(cm, e);\n    });\n    on(d.scroller, \"DOMMouseScroll\", function (e) {\n      return onScrollWheel(cm, e);\n    }); // Prevent wrapper from ever scrolling\n\n    on(d.wrapper, \"scroll\", function () {\n      return d.wrapper.scrollTop = d.wrapper.scrollLeft = 0;\n    });\n    d.dragFunctions = {\n      enter: function (e) {\n        if (!signalDOMEvent(cm, e)) {\n          e_stop(e);\n        }\n      },\n      over: function (e) {\n        if (!signalDOMEvent(cm, e)) {\n          onDragOver(cm, e);\n          e_stop(e);\n        }\n      },\n      start: function (e) {\n        return onDragStart(cm, e);\n      },\n      drop: operation(cm, onDrop),\n      leave: function (e) {\n        if (!signalDOMEvent(cm, e)) {\n          clearDragCursor(cm);\n        }\n      }\n    };\n    var inp = d.input.getField();\n    on(inp, \"keyup\", function (e) {\n      return onKeyUp.call(cm, e);\n    });\n    on(inp, \"keydown\", operation(cm, onKeyDown));\n    on(inp, \"keypress\", operation(cm, onKeyPress));\n    on(inp, \"focus\", function (e) {\n      return onFocus(cm, e);\n    });\n    on(inp, \"blur\", function (e) {\n      return onBlur(cm, e);\n    });\n  }\n\n  var initHooks = [];\n\n  CodeMirror.defineInitHook = function (f) {\n    return initHooks.push(f);\n  }; // Indent the given line. The how parameter can be \"smart\",\n  // \"add\"/null, \"subtract\", or \"prev\". When aggressive is false\n  // (typically set to true for forced single-line indents), empty\n  // lines are not indented, and places where the mode returns Pass\n  // are left alone.\n\n\n  function indentLine(cm, n, how, aggressive) {\n    var doc = cm.doc,\n        state;\n\n    if (how == null) {\n      how = \"add\";\n    }\n\n    if (how == \"smart\") {\n      // Fall back to \"prev\" when the mode doesn't have an indentation\n      // method.\n      if (!doc.mode.indent) {\n        how = \"prev\";\n      } else {\n        state = getContextBefore(cm, n).state;\n      }\n    }\n\n    var tabSize = cm.options.tabSize;\n    var line = getLine(doc, n),\n        curSpace = countColumn(line.text, null, tabSize);\n\n    if (line.stateAfter) {\n      line.stateAfter = null;\n    }\n\n    var curSpaceString = line.text.match(/^\\s*/)[0],\n        indentation;\n\n    if (!aggressive && !/\\S/.test(line.text)) {\n      indentation = 0;\n      how = \"not\";\n    } else if (how == \"smart\") {\n      indentation = doc.mode.indent(state, line.text.slice(curSpaceString.length), line.text);\n\n      if (indentation == Pass || indentation > 150) {\n        if (!aggressive) {\n          return;\n        }\n\n        how = \"prev\";\n      }\n    }\n\n    if (how == \"prev\") {\n      if (n > doc.first) {\n        indentation = countColumn(getLine(doc, n - 1).text, null, tabSize);\n      } else {\n        indentation = 0;\n      }\n    } else if (how == \"add\") {\n      indentation = curSpace + cm.options.indentUnit;\n    } else if (how == \"subtract\") {\n      indentation = curSpace - cm.options.indentUnit;\n    } else if (typeof how == \"number\") {\n      indentation = curSpace + how;\n    }\n\n    indentation = Math.max(0, indentation);\n    var indentString = \"\",\n        pos = 0;\n\n    if (cm.options.indentWithTabs) {\n      for (var i = Math.floor(indentation / tabSize); i; --i) {\n        pos += tabSize;\n        indentString += \"\\t\";\n      }\n    }\n\n    if (pos < indentation) {\n      indentString += spaceStr(indentation - pos);\n    }\n\n    if (indentString != curSpaceString) {\n      replaceRange(doc, indentString, Pos(n, 0), Pos(n, curSpaceString.length), \"+input\");\n      line.stateAfter = null;\n      return true;\n    } else {\n      // Ensure that, if the cursor was in the whitespace at the start\n      // of the line, it is moved to the end of that space.\n      for (var i$1 = 0; i$1 < doc.sel.ranges.length; i$1++) {\n        var range = doc.sel.ranges[i$1];\n\n        if (range.head.line == n && range.head.ch < curSpaceString.length) {\n          var pos$1 = Pos(n, curSpaceString.length);\n          replaceOneSelection(doc, i$1, new Range(pos$1, pos$1));\n          break;\n        }\n      }\n    }\n  } // This will be set to a {lineWise: bool, text: [string]} object, so\n  // that, when pasting, we know what kind of selections the copied\n  // text was made out of.\n\n\n  var lastCopied = null;\n\n  function setLastCopied(newLastCopied) {\n    lastCopied = newLastCopied;\n  }\n\n  function applyTextInput(cm, inserted, deleted, sel, origin) {\n    var doc = cm.doc;\n    cm.display.shift = false;\n\n    if (!sel) {\n      sel = doc.sel;\n    }\n\n    var recent = +new Date() - 200;\n    var paste = origin == \"paste\" || cm.state.pasteIncoming > recent;\n    var textLines = splitLinesAuto(inserted),\n        multiPaste = null; // When pasting N lines into N selections, insert one line per selection\n\n    if (paste && sel.ranges.length > 1) {\n      if (lastCopied && lastCopied.text.join(\"\\n\") == inserted) {\n        if (sel.ranges.length % lastCopied.text.length == 0) {\n          multiPaste = [];\n\n          for (var i = 0; i < lastCopied.text.length; i++) {\n            multiPaste.push(doc.splitLines(lastCopied.text[i]));\n          }\n        }\n      } else if (textLines.length == sel.ranges.length && cm.options.pasteLinesPerSelection) {\n        multiPaste = map(textLines, function (l) {\n          return [l];\n        });\n      }\n    }\n\n    var updateInput = cm.curOp.updateInput; // Normal behavior is to insert the new text into every selection\n\n    for (var i$1 = sel.ranges.length - 1; i$1 >= 0; i$1--) {\n      var range = sel.ranges[i$1];\n      var from = range.from(),\n          to = range.to();\n\n      if (range.empty()) {\n        if (deleted && deleted > 0) // Handle deletion\n          {\n            from = Pos(from.line, from.ch - deleted);\n          } else if (cm.state.overwrite && !paste) // Handle overwrite\n          {\n            to = Pos(to.line, Math.min(getLine(doc, to.line).text.length, to.ch + lst(textLines).length));\n          } else if (paste && lastCopied && lastCopied.lineWise && lastCopied.text.join(\"\\n\") == inserted) {\n          from = to = Pos(from.line, 0);\n        }\n      }\n\n      var changeEvent = {\n        from: from,\n        to: to,\n        text: multiPaste ? multiPaste[i$1 % multiPaste.length] : textLines,\n        origin: origin || (paste ? \"paste\" : cm.state.cutIncoming > recent ? \"cut\" : \"+input\")\n      };\n      makeChange(cm.doc, changeEvent);\n      signalLater(cm, \"inputRead\", cm, changeEvent);\n    }\n\n    if (inserted && !paste) {\n      triggerElectric(cm, inserted);\n    }\n\n    ensureCursorVisible(cm);\n\n    if (cm.curOp.updateInput < 2) {\n      cm.curOp.updateInput = updateInput;\n    }\n\n    cm.curOp.typing = true;\n    cm.state.pasteIncoming = cm.state.cutIncoming = -1;\n  }\n\n  function handlePaste(e, cm) {\n    var pasted = e.clipboardData && e.clipboardData.getData(\"Text\");\n\n    if (pasted) {\n      e.preventDefault();\n\n      if (!cm.isReadOnly() && !cm.options.disableInput) {\n        runInOp(cm, function () {\n          return applyTextInput(cm, pasted, 0, null, \"paste\");\n        });\n      }\n\n      return true;\n    }\n  }\n\n  function triggerElectric(cm, inserted) {\n    // When an 'electric' character is inserted, immediately trigger a reindent\n    if (!cm.options.electricChars || !cm.options.smartIndent) {\n      return;\n    }\n\n    var sel = cm.doc.sel;\n\n    for (var i = sel.ranges.length - 1; i >= 0; i--) {\n      var range = sel.ranges[i];\n\n      if (range.head.ch > 100 || i && sel.ranges[i - 1].head.line == range.head.line) {\n        continue;\n      }\n\n      var mode = cm.getModeAt(range.head);\n      var indented = false;\n\n      if (mode.electricChars) {\n        for (var j = 0; j < mode.electricChars.length; j++) {\n          if (inserted.indexOf(mode.electricChars.charAt(j)) > -1) {\n            indented = indentLine(cm, range.head.line, \"smart\");\n            break;\n          }\n        }\n      } else if (mode.electricInput) {\n        if (mode.electricInput.test(getLine(cm.doc, range.head.line).text.slice(0, range.head.ch))) {\n          indented = indentLine(cm, range.head.line, \"smart\");\n        }\n      }\n\n      if (indented) {\n        signalLater(cm, \"electricInput\", cm, range.head.line);\n      }\n    }\n  }\n\n  function copyableRanges(cm) {\n    var text = [],\n        ranges = [];\n\n    for (var i = 0; i < cm.doc.sel.ranges.length; i++) {\n      var line = cm.doc.sel.ranges[i].head.line;\n      var lineRange = {\n        anchor: Pos(line, 0),\n        head: Pos(line + 1, 0)\n      };\n      ranges.push(lineRange);\n      text.push(cm.getRange(lineRange.anchor, lineRange.head));\n    }\n\n    return {\n      text: text,\n      ranges: ranges\n    };\n  }\n\n  function disableBrowserMagic(field, spellcheck, autocorrect, autocapitalize) {\n    field.setAttribute(\"autocorrect\", autocorrect ? \"\" : \"off\");\n    field.setAttribute(\"autocapitalize\", autocapitalize ? \"\" : \"off\");\n    field.setAttribute(\"spellcheck\", !!spellcheck);\n  }\n\n  function hiddenTextarea() {\n    var te = elt(\"textarea\", null, null, \"position: absolute; bottom: -1em; padding: 0; width: 1px; height: 1em; outline: none\");\n    var div = elt(\"div\", [te], null, \"overflow: hidden; position: relative; width: 3px; height: 0px;\"); // The textarea is kept positioned near the cursor to prevent the\n    // fact that it'll be scrolled into view on input from scrolling\n    // our fake cursor out of view. On webkit, when wrap=off, paste is\n    // very slow. So make the area wide instead.\n\n    if (webkit) {\n      te.style.width = \"1000px\";\n    } else {\n      te.setAttribute(\"wrap\", \"off\");\n    } // If border: 0; -- iOS fails to open keyboard (issue #1287)\n\n\n    if (ios) {\n      te.style.border = \"1px solid black\";\n    }\n\n    disableBrowserMagic(te);\n    return div;\n  } // The publicly visible API. Note that methodOp(f) means\n  // 'wrap f in an operation, performed on its `this` parameter'.\n  // This is not the complete set of editor methods. Most of the\n  // methods defined on the Doc type are also injected into\n  // CodeMirror.prototype, for backwards compatibility and\n  // convenience.\n\n\n  function addEditorMethods(CodeMirror) {\n    var optionHandlers = CodeMirror.optionHandlers;\n    var helpers = CodeMirror.helpers = {};\n    CodeMirror.prototype = {\n      constructor: CodeMirror,\n      focus: function () {\n        window.focus();\n        this.display.input.focus();\n      },\n      setOption: function (option, value) {\n        var options = this.options,\n            old = options[option];\n\n        if (options[option] == value && option != \"mode\") {\n          return;\n        }\n\n        options[option] = value;\n\n        if (optionHandlers.hasOwnProperty(option)) {\n          operation(this, optionHandlers[option])(this, value, old);\n        }\n\n        signal(this, \"optionChange\", this, option);\n      },\n      getOption: function (option) {\n        return this.options[option];\n      },\n      getDoc: function () {\n        return this.doc;\n      },\n      addKeyMap: function (map, bottom) {\n        this.state.keyMaps[bottom ? \"push\" : \"unshift\"](getKeyMap(map));\n      },\n      removeKeyMap: function (map) {\n        var maps = this.state.keyMaps;\n\n        for (var i = 0; i < maps.length; ++i) {\n          if (maps[i] == map || maps[i].name == map) {\n            maps.splice(i, 1);\n            return true;\n          }\n        }\n      },\n      addOverlay: methodOp(function (spec, options) {\n        var mode = spec.token ? spec : CodeMirror.getMode(this.options, spec);\n\n        if (mode.startState) {\n          throw new Error(\"Overlays may not be stateful.\");\n        }\n\n        insertSorted(this.state.overlays, {\n          mode: mode,\n          modeSpec: spec,\n          opaque: options && options.opaque,\n          priority: options && options.priority || 0\n        }, function (overlay) {\n          return overlay.priority;\n        });\n        this.state.modeGen++;\n        regChange(this);\n      }),\n      removeOverlay: methodOp(function (spec) {\n        var overlays = this.state.overlays;\n\n        for (var i = 0; i < overlays.length; ++i) {\n          var cur = overlays[i].modeSpec;\n\n          if (cur == spec || typeof spec == \"string\" && cur.name == spec) {\n            overlays.splice(i, 1);\n            this.state.modeGen++;\n            regChange(this);\n            return;\n          }\n        }\n      }),\n      indentLine: methodOp(function (n, dir, aggressive) {\n        if (typeof dir != \"string\" && typeof dir != \"number\") {\n          if (dir == null) {\n            dir = this.options.smartIndent ? \"smart\" : \"prev\";\n          } else {\n            dir = dir ? \"add\" : \"subtract\";\n          }\n        }\n\n        if (isLine(this.doc, n)) {\n          indentLine(this, n, dir, aggressive);\n        }\n      }),\n      indentSelection: methodOp(function (how) {\n        var ranges = this.doc.sel.ranges,\n            end = -1;\n\n        for (var i = 0; i < ranges.length; i++) {\n          var range = ranges[i];\n\n          if (!range.empty()) {\n            var from = range.from(),\n                to = range.to();\n            var start = Math.max(end, from.line);\n            end = Math.min(this.lastLine(), to.line - (to.ch ? 0 : 1)) + 1;\n\n            for (var j = start; j < end; ++j) {\n              indentLine(this, j, how);\n            }\n\n            var newRanges = this.doc.sel.ranges;\n\n            if (from.ch == 0 && ranges.length == newRanges.length && newRanges[i].from().ch > 0) {\n              replaceOneSelection(this.doc, i, new Range(from, newRanges[i].to()), sel_dontScroll);\n            }\n          } else if (range.head.line > end) {\n            indentLine(this, range.head.line, how, true);\n            end = range.head.line;\n\n            if (i == this.doc.sel.primIndex) {\n              ensureCursorVisible(this);\n            }\n          }\n        }\n      }),\n      // Fetch the parser token for a given character. Useful for hacks\n      // that want to inspect the mode state (say, for completion).\n      getTokenAt: function (pos, precise) {\n        return takeToken(this, pos, precise);\n      },\n      getLineTokens: function (line, precise) {\n        return takeToken(this, Pos(line), precise, true);\n      },\n      getTokenTypeAt: function (pos) {\n        pos = clipPos(this.doc, pos);\n        var styles = getLineStyles(this, getLine(this.doc, pos.line));\n        var before = 0,\n            after = (styles.length - 1) / 2,\n            ch = pos.ch;\n        var type;\n\n        if (ch == 0) {\n          type = styles[2];\n        } else {\n          for (;;) {\n            var mid = before + after >> 1;\n\n            if ((mid ? styles[mid * 2 - 1] : 0) >= ch) {\n              after = mid;\n            } else if (styles[mid * 2 + 1] < ch) {\n              before = mid + 1;\n            } else {\n              type = styles[mid * 2 + 2];\n              break;\n            }\n          }\n        }\n\n        var cut = type ? type.indexOf(\"overlay \") : -1;\n        return cut < 0 ? type : cut == 0 ? null : type.slice(0, cut - 1);\n      },\n      getModeAt: function (pos) {\n        var mode = this.doc.mode;\n\n        if (!mode.innerMode) {\n          return mode;\n        }\n\n        return CodeMirror.innerMode(mode, this.getTokenAt(pos).state).mode;\n      },\n      getHelper: function (pos, type) {\n        return this.getHelpers(pos, type)[0];\n      },\n      getHelpers: function (pos, type) {\n        var found = [];\n\n        if (!helpers.hasOwnProperty(type)) {\n          return found;\n        }\n\n        var help = helpers[type],\n            mode = this.getModeAt(pos);\n\n        if (typeof mode[type] == \"string\") {\n          if (help[mode[type]]) {\n            found.push(help[mode[type]]);\n          }\n        } else if (mode[type]) {\n          for (var i = 0; i < mode[type].length; i++) {\n            var val = help[mode[type][i]];\n\n            if (val) {\n              found.push(val);\n            }\n          }\n        } else if (mode.helperType && help[mode.helperType]) {\n          found.push(help[mode.helperType]);\n        } else if (help[mode.name]) {\n          found.push(help[mode.name]);\n        }\n\n        for (var i$1 = 0; i$1 < help._global.length; i$1++) {\n          var cur = help._global[i$1];\n\n          if (cur.pred(mode, this) && indexOf(found, cur.val) == -1) {\n            found.push(cur.val);\n          }\n        }\n\n        return found;\n      },\n      getStateAfter: function (line, precise) {\n        var doc = this.doc;\n        line = clipLine(doc, line == null ? doc.first + doc.size - 1 : line);\n        return getContextBefore(this, line + 1, precise).state;\n      },\n      cursorCoords: function (start, mode) {\n        var pos,\n            range = this.doc.sel.primary();\n\n        if (start == null) {\n          pos = range.head;\n        } else if (typeof start == \"object\") {\n          pos = clipPos(this.doc, start);\n        } else {\n          pos = start ? range.from() : range.to();\n        }\n\n        return cursorCoords(this, pos, mode || \"page\");\n      },\n      charCoords: function (pos, mode) {\n        return charCoords(this, clipPos(this.doc, pos), mode || \"page\");\n      },\n      coordsChar: function (coords, mode) {\n        coords = fromCoordSystem(this, coords, mode || \"page\");\n        return coordsChar(this, coords.left, coords.top);\n      },\n      lineAtHeight: function (height, mode) {\n        height = fromCoordSystem(this, {\n          top: height,\n          left: 0\n        }, mode || \"page\").top;\n        return lineAtHeight(this.doc, height + this.display.viewOffset);\n      },\n      heightAtLine: function (line, mode, includeWidgets) {\n        var end = false,\n            lineObj;\n\n        if (typeof line == \"number\") {\n          var last = this.doc.first + this.doc.size - 1;\n\n          if (line < this.doc.first) {\n            line = this.doc.first;\n          } else if (line > last) {\n            line = last;\n            end = true;\n          }\n\n          lineObj = getLine(this.doc, line);\n        } else {\n          lineObj = line;\n        }\n\n        return intoCoordSystem(this, lineObj, {\n          top: 0,\n          left: 0\n        }, mode || \"page\", includeWidgets || end).top + (end ? this.doc.height - heightAtLine(lineObj) : 0);\n      },\n      defaultTextHeight: function () {\n        return textHeight(this.display);\n      },\n      defaultCharWidth: function () {\n        return charWidth(this.display);\n      },\n      getViewport: function () {\n        return {\n          from: this.display.viewFrom,\n          to: this.display.viewTo\n        };\n      },\n      addWidget: function (pos, node, scroll, vert, horiz) {\n        var display = this.display;\n        pos = cursorCoords(this, clipPos(this.doc, pos));\n        var top = pos.bottom,\n            left = pos.left;\n        node.style.position = \"absolute\";\n        node.setAttribute(\"cm-ignore-events\", \"true\");\n        this.display.input.setUneditable(node);\n        display.sizer.appendChild(node);\n\n        if (vert == \"over\") {\n          top = pos.top;\n        } else if (vert == \"above\" || vert == \"near\") {\n          var vspace = Math.max(display.wrapper.clientHeight, this.doc.height),\n              hspace = Math.max(display.sizer.clientWidth, display.lineSpace.clientWidth); // Default to positioning above (if specified and possible); otherwise default to positioning below\n\n          if ((vert == 'above' || pos.bottom + node.offsetHeight > vspace) && pos.top > node.offsetHeight) {\n            top = pos.top - node.offsetHeight;\n          } else if (pos.bottom + node.offsetHeight <= vspace) {\n            top = pos.bottom;\n          }\n\n          if (left + node.offsetWidth > hspace) {\n            left = hspace - node.offsetWidth;\n          }\n        }\n\n        node.style.top = top + \"px\";\n        node.style.left = node.style.right = \"\";\n\n        if (horiz == \"right\") {\n          left = display.sizer.clientWidth - node.offsetWidth;\n          node.style.right = \"0px\";\n        } else {\n          if (horiz == \"left\") {\n            left = 0;\n          } else if (horiz == \"middle\") {\n            left = (display.sizer.clientWidth - node.offsetWidth) / 2;\n          }\n\n          node.style.left = left + \"px\";\n        }\n\n        if (scroll) {\n          scrollIntoView(this, {\n            left: left,\n            top: top,\n            right: left + node.offsetWidth,\n            bottom: top + node.offsetHeight\n          });\n        }\n      },\n      triggerOnKeyDown: methodOp(onKeyDown),\n      triggerOnKeyPress: methodOp(onKeyPress),\n      triggerOnKeyUp: onKeyUp,\n      triggerOnMouseDown: methodOp(onMouseDown),\n      execCommand: function (cmd) {\n        if (commands.hasOwnProperty(cmd)) {\n          return commands[cmd].call(null, this);\n        }\n      },\n      triggerElectric: methodOp(function (text) {\n        triggerElectric(this, text);\n      }),\n      findPosH: function (from, amount, unit, visually) {\n        var dir = 1;\n\n        if (amount < 0) {\n          dir = -1;\n          amount = -amount;\n        }\n\n        var cur = clipPos(this.doc, from);\n\n        for (var i = 0; i < amount; ++i) {\n          cur = findPosH(this.doc, cur, dir, unit, visually);\n\n          if (cur.hitSide) {\n            break;\n          }\n        }\n\n        return cur;\n      },\n      moveH: methodOp(function (dir, unit) {\n        var this$1 = this;\n        this.extendSelectionsBy(function (range) {\n          if (this$1.display.shift || this$1.doc.extend || range.empty()) {\n            return findPosH(this$1.doc, range.head, dir, unit, this$1.options.rtlMoveVisually);\n          } else {\n            return dir < 0 ? range.from() : range.to();\n          }\n        }, sel_move);\n      }),\n      deleteH: methodOp(function (dir, unit) {\n        var sel = this.doc.sel,\n            doc = this.doc;\n\n        if (sel.somethingSelected()) {\n          doc.replaceSelection(\"\", null, \"+delete\");\n        } else {\n          deleteNearSelection(this, function (range) {\n            var other = findPosH(doc, range.head, dir, unit, false);\n            return dir < 0 ? {\n              from: other,\n              to: range.head\n            } : {\n              from: range.head,\n              to: other\n            };\n          });\n        }\n      }),\n      findPosV: function (from, amount, unit, goalColumn) {\n        var dir = 1,\n            x = goalColumn;\n\n        if (amount < 0) {\n          dir = -1;\n          amount = -amount;\n        }\n\n        var cur = clipPos(this.doc, from);\n\n        for (var i = 0; i < amount; ++i) {\n          var coords = cursorCoords(this, cur, \"div\");\n\n          if (x == null) {\n            x = coords.left;\n          } else {\n            coords.left = x;\n          }\n\n          cur = findPosV(this, coords, dir, unit);\n\n          if (cur.hitSide) {\n            break;\n          }\n        }\n\n        return cur;\n      },\n      moveV: methodOp(function (dir, unit) {\n        var this$1 = this;\n        var doc = this.doc,\n            goals = [];\n        var collapse = !this.display.shift && !doc.extend && doc.sel.somethingSelected();\n        doc.extendSelectionsBy(function (range) {\n          if (collapse) {\n            return dir < 0 ? range.from() : range.to();\n          }\n\n          var headPos = cursorCoords(this$1, range.head, \"div\");\n\n          if (range.goalColumn != null) {\n            headPos.left = range.goalColumn;\n          }\n\n          goals.push(headPos.left);\n          var pos = findPosV(this$1, headPos, dir, unit);\n\n          if (unit == \"page\" && range == doc.sel.primary()) {\n            addToScrollTop(this$1, charCoords(this$1, pos, \"div\").top - headPos.top);\n          }\n\n          return pos;\n        }, sel_move);\n\n        if (goals.length) {\n          for (var i = 0; i < doc.sel.ranges.length; i++) {\n            doc.sel.ranges[i].goalColumn = goals[i];\n          }\n        }\n      }),\n      // Find the word at the given position (as returned by coordsChar).\n      findWordAt: function (pos) {\n        var doc = this.doc,\n            line = getLine(doc, pos.line).text;\n        var start = pos.ch,\n            end = pos.ch;\n\n        if (line) {\n          var helper = this.getHelper(pos, \"wordChars\");\n\n          if ((pos.sticky == \"before\" || end == line.length) && start) {\n            --start;\n          } else {\n            ++end;\n          }\n\n          var startChar = line.charAt(start);\n          var check = isWordChar(startChar, helper) ? function (ch) {\n            return isWordChar(ch, helper);\n          } : /\\s/.test(startChar) ? function (ch) {\n            return /\\s/.test(ch);\n          } : function (ch) {\n            return !/\\s/.test(ch) && !isWordChar(ch);\n          };\n\n          while (start > 0 && check(line.charAt(start - 1))) {\n            --start;\n          }\n\n          while (end < line.length && check(line.charAt(end))) {\n            ++end;\n          }\n        }\n\n        return new Range(Pos(pos.line, start), Pos(pos.line, end));\n      },\n      toggleOverwrite: function (value) {\n        if (value != null && value == this.state.overwrite) {\n          return;\n        }\n\n        if (this.state.overwrite = !this.state.overwrite) {\n          addClass(this.display.cursorDiv, \"CodeMirror-overwrite\");\n        } else {\n          rmClass(this.display.cursorDiv, \"CodeMirror-overwrite\");\n        }\n\n        signal(this, \"overwriteToggle\", this, this.state.overwrite);\n      },\n      hasFocus: function () {\n        return this.display.input.getField() == activeElt();\n      },\n      isReadOnly: function () {\n        return !!(this.options.readOnly || this.doc.cantEdit);\n      },\n      scrollTo: methodOp(function (x, y) {\n        scrollToCoords(this, x, y);\n      }),\n      getScrollInfo: function () {\n        var scroller = this.display.scroller;\n        return {\n          left: scroller.scrollLeft,\n          top: scroller.scrollTop,\n          height: scroller.scrollHeight - scrollGap(this) - this.display.barHeight,\n          width: scroller.scrollWidth - scrollGap(this) - this.display.barWidth,\n          clientHeight: displayHeight(this),\n          clientWidth: displayWidth(this)\n        };\n      },\n      scrollIntoView: methodOp(function (range, margin) {\n        if (range == null) {\n          range = {\n            from: this.doc.sel.primary().head,\n            to: null\n          };\n\n          if (margin == null) {\n            margin = this.options.cursorScrollMargin;\n          }\n        } else if (typeof range == \"number\") {\n          range = {\n            from: Pos(range, 0),\n            to: null\n          };\n        } else if (range.from == null) {\n          range = {\n            from: range,\n            to: null\n          };\n        }\n\n        if (!range.to) {\n          range.to = range.from;\n        }\n\n        range.margin = margin || 0;\n\n        if (range.from.line != null) {\n          scrollToRange(this, range);\n        } else {\n          scrollToCoordsRange(this, range.from, range.to, range.margin);\n        }\n      }),\n      setSize: methodOp(function (width, height) {\n        var this$1 = this;\n\n        var interpret = function (val) {\n          return typeof val == \"number\" || /^\\d+$/.test(String(val)) ? val + \"px\" : val;\n        };\n\n        if (width != null) {\n          this.display.wrapper.style.width = interpret(width);\n        }\n\n        if (height != null) {\n          this.display.wrapper.style.height = interpret(height);\n        }\n\n        if (this.options.lineWrapping) {\n          clearLineMeasurementCache(this);\n        }\n\n        var lineNo = this.display.viewFrom;\n        this.doc.iter(lineNo, this.display.viewTo, function (line) {\n          if (line.widgets) {\n            for (var i = 0; i < line.widgets.length; i++) {\n              if (line.widgets[i].noHScroll) {\n                regLineChange(this$1, lineNo, \"widget\");\n                break;\n              }\n            }\n          }\n\n          ++lineNo;\n        });\n        this.curOp.forceUpdate = true;\n        signal(this, \"refresh\", this);\n      }),\n      operation: function (f) {\n        return runInOp(this, f);\n      },\n      startOperation: function () {\n        return startOperation(this);\n      },\n      endOperation: function () {\n        return endOperation(this);\n      },\n      refresh: methodOp(function () {\n        var oldHeight = this.display.cachedTextHeight;\n        regChange(this);\n        this.curOp.forceUpdate = true;\n        clearCaches(this);\n        scrollToCoords(this, this.doc.scrollLeft, this.doc.scrollTop);\n        updateGutterSpace(this.display);\n\n        if (oldHeight == null || Math.abs(oldHeight - textHeight(this.display)) > .5 || this.options.lineWrapping) {\n          estimateLineHeights(this);\n        }\n\n        signal(this, \"refresh\", this);\n      }),\n      swapDoc: methodOp(function (doc) {\n        var old = this.doc;\n        old.cm = null; // Cancel the current text selection if any (#5821)\n\n        if (this.state.selectingText) {\n          this.state.selectingText();\n        }\n\n        attachDoc(this, doc);\n        clearCaches(this);\n        this.display.input.reset();\n        scrollToCoords(this, doc.scrollLeft, doc.scrollTop);\n        this.curOp.forceScroll = true;\n        signalLater(this, \"swapDoc\", this, old);\n        return old;\n      }),\n      phrase: function (phraseText) {\n        var phrases = this.options.phrases;\n        return phrases && Object.prototype.hasOwnProperty.call(phrases, phraseText) ? phrases[phraseText] : phraseText;\n      },\n      getInputField: function () {\n        return this.display.input.getField();\n      },\n      getWrapperElement: function () {\n        return this.display.wrapper;\n      },\n      getScrollerElement: function () {\n        return this.display.scroller;\n      },\n      getGutterElement: function () {\n        return this.display.gutters;\n      }\n    };\n    eventMixin(CodeMirror);\n\n    CodeMirror.registerHelper = function (type, name, value) {\n      if (!helpers.hasOwnProperty(type)) {\n        helpers[type] = CodeMirror[type] = {\n          _global: []\n        };\n      }\n\n      helpers[type][name] = value;\n    };\n\n    CodeMirror.registerGlobalHelper = function (type, name, predicate, value) {\n      CodeMirror.registerHelper(type, name, value);\n\n      helpers[type]._global.push({\n        pred: predicate,\n        val: value\n      });\n    };\n  } // Used for horizontal relative motion. Dir is -1 or 1 (left or\n  // right), unit can be \"char\", \"column\" (like char, but doesn't\n  // cross line boundaries), \"word\" (across next word), or \"group\" (to\n  // the start of next group of word or non-word-non-whitespace\n  // chars). The visually param controls whether, in right-to-left\n  // text, direction 1 means to move towards the next index in the\n  // string, or towards the character to the right of the current\n  // position. The resulting position will have a hitSide=true\n  // property if it reached the end of the document.\n\n\n  function findPosH(doc, pos, dir, unit, visually) {\n    var oldPos = pos;\n    var origDir = dir;\n    var lineObj = getLine(doc, pos.line);\n    var lineDir = visually && doc.direction == \"rtl\" ? -dir : dir;\n\n    function findNextLine() {\n      var l = pos.line + lineDir;\n\n      if (l < doc.first || l >= doc.first + doc.size) {\n        return false;\n      }\n\n      pos = new Pos(l, pos.ch, pos.sticky);\n      return lineObj = getLine(doc, l);\n    }\n\n    function moveOnce(boundToLine) {\n      var next;\n\n      if (visually) {\n        next = moveVisually(doc.cm, lineObj, pos, dir);\n      } else {\n        next = moveLogically(lineObj, pos, dir);\n      }\n\n      if (next == null) {\n        if (!boundToLine && findNextLine()) {\n          pos = endOfLine(visually, doc.cm, lineObj, pos.line, lineDir);\n        } else {\n          return false;\n        }\n      } else {\n        pos = next;\n      }\n\n      return true;\n    }\n\n    if (unit == \"char\") {\n      moveOnce();\n    } else if (unit == \"column\") {\n      moveOnce(true);\n    } else if (unit == \"word\" || unit == \"group\") {\n      var sawType = null,\n          group = unit == \"group\";\n      var helper = doc.cm && doc.cm.getHelper(pos, \"wordChars\");\n\n      for (var first = true;; first = false) {\n        if (dir < 0 && !moveOnce(!first)) {\n          break;\n        }\n\n        var cur = lineObj.text.charAt(pos.ch) || \"\\n\";\n        var type = isWordChar(cur, helper) ? \"w\" : group && cur == \"\\n\" ? \"n\" : !group || /\\s/.test(cur) ? null : \"p\";\n\n        if (group && !first && !type) {\n          type = \"s\";\n        }\n\n        if (sawType && sawType != type) {\n          if (dir < 0) {\n            dir = 1;\n            moveOnce();\n            pos.sticky = \"after\";\n          }\n\n          break;\n        }\n\n        if (type) {\n          sawType = type;\n        }\n\n        if (dir > 0 && !moveOnce(!first)) {\n          break;\n        }\n      }\n    }\n\n    var result = skipAtomic(doc, pos, oldPos, origDir, true);\n\n    if (equalCursorPos(oldPos, result)) {\n      result.hitSide = true;\n    }\n\n    return result;\n  } // For relative vertical movement. Dir may be -1 or 1. Unit can be\n  // \"page\" or \"line\". The resulting position will have a hitSide=true\n  // property if it reached the end of the document.\n\n\n  function findPosV(cm, pos, dir, unit) {\n    var doc = cm.doc,\n        x = pos.left,\n        y;\n\n    if (unit == \"page\") {\n      var pageSize = Math.min(cm.display.wrapper.clientHeight, window.innerHeight || document.documentElement.clientHeight);\n      var moveAmount = Math.max(pageSize - .5 * textHeight(cm.display), 3);\n      y = (dir > 0 ? pos.bottom : pos.top) + dir * moveAmount;\n    } else if (unit == \"line\") {\n      y = dir > 0 ? pos.bottom + 3 : pos.top - 3;\n    }\n\n    var target;\n\n    for (;;) {\n      target = coordsChar(cm, x, y);\n\n      if (!target.outside) {\n        break;\n      }\n\n      if (dir < 0 ? y <= 0 : y >= doc.height) {\n        target.hitSide = true;\n        break;\n      }\n\n      y += dir * 5;\n    }\n\n    return target;\n  } // CONTENTEDITABLE INPUT STYLE\n\n\n  var ContentEditableInput = function (cm) {\n    this.cm = cm;\n    this.lastAnchorNode = this.lastAnchorOffset = this.lastFocusNode = this.lastFocusOffset = null;\n    this.polling = new Delayed();\n    this.composing = null;\n    this.gracePeriod = false;\n    this.readDOMTimeout = null;\n  };\n\n  ContentEditableInput.prototype.init = function (display) {\n    var this$1 = this;\n    var input = this,\n        cm = input.cm;\n    var div = input.div = display.lineDiv;\n    disableBrowserMagic(div, cm.options.spellcheck, cm.options.autocorrect, cm.options.autocapitalize);\n    on(div, \"paste\", function (e) {\n      if (signalDOMEvent(cm, e) || handlePaste(e, cm)) {\n        return;\n      } // IE doesn't fire input events, so we schedule a read for the pasted content in this way\n\n\n      if (ie_version <= 11) {\n        setTimeout(operation(cm, function () {\n          return this$1.updateFromDOM();\n        }), 20);\n      }\n    });\n    on(div, \"compositionstart\", function (e) {\n      this$1.composing = {\n        data: e.data,\n        done: false\n      };\n    });\n    on(div, \"compositionupdate\", function (e) {\n      if (!this$1.composing) {\n        this$1.composing = {\n          data: e.data,\n          done: false\n        };\n      }\n    });\n    on(div, \"compositionend\", function (e) {\n      if (this$1.composing) {\n        if (e.data != this$1.composing.data) {\n          this$1.readFromDOMSoon();\n        }\n\n        this$1.composing.done = true;\n      }\n    });\n    on(div, \"touchstart\", function () {\n      return input.forceCompositionEnd();\n    });\n    on(div, \"input\", function () {\n      if (!this$1.composing) {\n        this$1.readFromDOMSoon();\n      }\n    });\n\n    function onCopyCut(e) {\n      if (signalDOMEvent(cm, e)) {\n        return;\n      }\n\n      if (cm.somethingSelected()) {\n        setLastCopied({\n          lineWise: false,\n          text: cm.getSelections()\n        });\n\n        if (e.type == \"cut\") {\n          cm.replaceSelection(\"\", null, \"cut\");\n        }\n      } else if (!cm.options.lineWiseCopyCut) {\n        return;\n      } else {\n        var ranges = copyableRanges(cm);\n        setLastCopied({\n          lineWise: true,\n          text: ranges.text\n        });\n\n        if (e.type == \"cut\") {\n          cm.operation(function () {\n            cm.setSelections(ranges.ranges, 0, sel_dontScroll);\n            cm.replaceSelection(\"\", null, \"cut\");\n          });\n        }\n      }\n\n      if (e.clipboardData) {\n        e.clipboardData.clearData();\n        var content = lastCopied.text.join(\"\\n\"); // iOS exposes the clipboard API, but seems to discard content inserted into it\n\n        e.clipboardData.setData(\"Text\", content);\n\n        if (e.clipboardData.getData(\"Text\") == content) {\n          e.preventDefault();\n          return;\n        }\n      } // Old-fashioned briefly-focus-a-textarea hack\n\n\n      var kludge = hiddenTextarea(),\n          te = kludge.firstChild;\n      cm.display.lineSpace.insertBefore(kludge, cm.display.lineSpace.firstChild);\n      te.value = lastCopied.text.join(\"\\n\");\n      var hadFocus = document.activeElement;\n      selectInput(te);\n      setTimeout(function () {\n        cm.display.lineSpace.removeChild(kludge);\n        hadFocus.focus();\n\n        if (hadFocus == div) {\n          input.showPrimarySelection();\n        }\n      }, 50);\n    }\n\n    on(div, \"copy\", onCopyCut);\n    on(div, \"cut\", onCopyCut);\n  };\n\n  ContentEditableInput.prototype.screenReaderLabelChanged = function (label) {\n    // Label for screenreaders, accessibility\n    if (label) {\n      this.div.setAttribute('aria-label', label);\n    } else {\n      this.div.removeAttribute('aria-label');\n    }\n  };\n\n  ContentEditableInput.prototype.prepareSelection = function () {\n    var result = prepareSelection(this.cm, false);\n    result.focus = document.activeElement == this.div;\n    return result;\n  };\n\n  ContentEditableInput.prototype.showSelection = function (info, takeFocus) {\n    if (!info || !this.cm.display.view.length) {\n      return;\n    }\n\n    if (info.focus || takeFocus) {\n      this.showPrimarySelection();\n    }\n\n    this.showMultipleSelections(info);\n  };\n\n  ContentEditableInput.prototype.getSelection = function () {\n    return this.cm.display.wrapper.ownerDocument.getSelection();\n  };\n\n  ContentEditableInput.prototype.showPrimarySelection = function () {\n    var sel = this.getSelection(),\n        cm = this.cm,\n        prim = cm.doc.sel.primary();\n    var from = prim.from(),\n        to = prim.to();\n\n    if (cm.display.viewTo == cm.display.viewFrom || from.line >= cm.display.viewTo || to.line < cm.display.viewFrom) {\n      sel.removeAllRanges();\n      return;\n    }\n\n    var curAnchor = domToPos(cm, sel.anchorNode, sel.anchorOffset);\n    var curFocus = domToPos(cm, sel.focusNode, sel.focusOffset);\n\n    if (curAnchor && !curAnchor.bad && curFocus && !curFocus.bad && cmp(minPos(curAnchor, curFocus), from) == 0 && cmp(maxPos(curAnchor, curFocus), to) == 0) {\n      return;\n    }\n\n    var view = cm.display.view;\n    var start = from.line >= cm.display.viewFrom && posToDOM(cm, from) || {\n      node: view[0].measure.map[2],\n      offset: 0\n    };\n    var end = to.line < cm.display.viewTo && posToDOM(cm, to);\n\n    if (!end) {\n      var measure = view[view.length - 1].measure;\n      var map = measure.maps ? measure.maps[measure.maps.length - 1] : measure.map;\n      end = {\n        node: map[map.length - 1],\n        offset: map[map.length - 2] - map[map.length - 3]\n      };\n    }\n\n    if (!start || !end) {\n      sel.removeAllRanges();\n      return;\n    }\n\n    var old = sel.rangeCount && sel.getRangeAt(0),\n        rng;\n\n    try {\n      rng = range(start.node, start.offset, end.offset, end.node);\n    } catch (e) {} // Our model of the DOM might be outdated, in which case the range we try to set can be impossible\n\n\n    if (rng) {\n      if (!gecko && cm.state.focused) {\n        sel.collapse(start.node, start.offset);\n\n        if (!rng.collapsed) {\n          sel.removeAllRanges();\n          sel.addRange(rng);\n        }\n      } else {\n        sel.removeAllRanges();\n        sel.addRange(rng);\n      }\n\n      if (old && sel.anchorNode == null) {\n        sel.addRange(old);\n      } else if (gecko) {\n        this.startGracePeriod();\n      }\n    }\n\n    this.rememberSelection();\n  };\n\n  ContentEditableInput.prototype.startGracePeriod = function () {\n    var this$1 = this;\n    clearTimeout(this.gracePeriod);\n    this.gracePeriod = setTimeout(function () {\n      this$1.gracePeriod = false;\n\n      if (this$1.selectionChanged()) {\n        this$1.cm.operation(function () {\n          return this$1.cm.curOp.selectionChanged = true;\n        });\n      }\n    }, 20);\n  };\n\n  ContentEditableInput.prototype.showMultipleSelections = function (info) {\n    removeChildrenAndAdd(this.cm.display.cursorDiv, info.cursors);\n    removeChildrenAndAdd(this.cm.display.selectionDiv, info.selection);\n  };\n\n  ContentEditableInput.prototype.rememberSelection = function () {\n    var sel = this.getSelection();\n    this.lastAnchorNode = sel.anchorNode;\n    this.lastAnchorOffset = sel.anchorOffset;\n    this.lastFocusNode = sel.focusNode;\n    this.lastFocusOffset = sel.focusOffset;\n  };\n\n  ContentEditableInput.prototype.selectionInEditor = function () {\n    var sel = this.getSelection();\n\n    if (!sel.rangeCount) {\n      return false;\n    }\n\n    var node = sel.getRangeAt(0).commonAncestorContainer;\n    return contains(this.div, node);\n  };\n\n  ContentEditableInput.prototype.focus = function () {\n    if (this.cm.options.readOnly != \"nocursor\") {\n      if (!this.selectionInEditor() || document.activeElement != this.div) {\n        this.showSelection(this.prepareSelection(), true);\n      }\n\n      this.div.focus();\n    }\n  };\n\n  ContentEditableInput.prototype.blur = function () {\n    this.div.blur();\n  };\n\n  ContentEditableInput.prototype.getField = function () {\n    return this.div;\n  };\n\n  ContentEditableInput.prototype.supportsTouch = function () {\n    return true;\n  };\n\n  ContentEditableInput.prototype.receivedFocus = function () {\n    var input = this;\n\n    if (this.selectionInEditor()) {\n      this.pollSelection();\n    } else {\n      runInOp(this.cm, function () {\n        return input.cm.curOp.selectionChanged = true;\n      });\n    }\n\n    function poll() {\n      if (input.cm.state.focused) {\n        input.pollSelection();\n        input.polling.set(input.cm.options.pollInterval, poll);\n      }\n    }\n\n    this.polling.set(this.cm.options.pollInterval, poll);\n  };\n\n  ContentEditableInput.prototype.selectionChanged = function () {\n    var sel = this.getSelection();\n    return sel.anchorNode != this.lastAnchorNode || sel.anchorOffset != this.lastAnchorOffset || sel.focusNode != this.lastFocusNode || sel.focusOffset != this.lastFocusOffset;\n  };\n\n  ContentEditableInput.prototype.pollSelection = function () {\n    if (this.readDOMTimeout != null || this.gracePeriod || !this.selectionChanged()) {\n      return;\n    }\n\n    var sel = this.getSelection(),\n        cm = this.cm; // On Android Chrome (version 56, at least), backspacing into an\n    // uneditable block element will put the cursor in that element,\n    // and then, because it's not editable, hide the virtual keyboard.\n    // Because Android doesn't allow us to actually detect backspace\n    // presses in a sane way, this code checks for when that happens\n    // and simulates a backspace press in this case.\n\n    if (android && chrome && this.cm.display.gutterSpecs.length && isInGutter(sel.anchorNode)) {\n      this.cm.triggerOnKeyDown({\n        type: \"keydown\",\n        keyCode: 8,\n        preventDefault: Math.abs\n      });\n      this.blur();\n      this.focus();\n      return;\n    }\n\n    if (this.composing) {\n      return;\n    }\n\n    this.rememberSelection();\n    var anchor = domToPos(cm, sel.anchorNode, sel.anchorOffset);\n    var head = domToPos(cm, sel.focusNode, sel.focusOffset);\n\n    if (anchor && head) {\n      runInOp(cm, function () {\n        setSelection(cm.doc, simpleSelection(anchor, head), sel_dontScroll);\n\n        if (anchor.bad || head.bad) {\n          cm.curOp.selectionChanged = true;\n        }\n      });\n    }\n  };\n\n  ContentEditableInput.prototype.pollContent = function () {\n    if (this.readDOMTimeout != null) {\n      clearTimeout(this.readDOMTimeout);\n      this.readDOMTimeout = null;\n    }\n\n    var cm = this.cm,\n        display = cm.display,\n        sel = cm.doc.sel.primary();\n    var from = sel.from(),\n        to = sel.to();\n\n    if (from.ch == 0 && from.line > cm.firstLine()) {\n      from = Pos(from.line - 1, getLine(cm.doc, from.line - 1).length);\n    }\n\n    if (to.ch == getLine(cm.doc, to.line).text.length && to.line < cm.lastLine()) {\n      to = Pos(to.line + 1, 0);\n    }\n\n    if (from.line < display.viewFrom || to.line > display.viewTo - 1) {\n      return false;\n    }\n\n    var fromIndex, fromLine, fromNode;\n\n    if (from.line == display.viewFrom || (fromIndex = findViewIndex(cm, from.line)) == 0) {\n      fromLine = lineNo(display.view[0].line);\n      fromNode = display.view[0].node;\n    } else {\n      fromLine = lineNo(display.view[fromIndex].line);\n      fromNode = display.view[fromIndex - 1].node.nextSibling;\n    }\n\n    var toIndex = findViewIndex(cm, to.line);\n    var toLine, toNode;\n\n    if (toIndex == display.view.length - 1) {\n      toLine = display.viewTo - 1;\n      toNode = display.lineDiv.lastChild;\n    } else {\n      toLine = lineNo(display.view[toIndex + 1].line) - 1;\n      toNode = display.view[toIndex + 1].node.previousSibling;\n    }\n\n    if (!fromNode) {\n      return false;\n    }\n\n    var newText = cm.doc.splitLines(domTextBetween(cm, fromNode, toNode, fromLine, toLine));\n    var oldText = getBetween(cm.doc, Pos(fromLine, 0), Pos(toLine, getLine(cm.doc, toLine).text.length));\n\n    while (newText.length > 1 && oldText.length > 1) {\n      if (lst(newText) == lst(oldText)) {\n        newText.pop();\n        oldText.pop();\n        toLine--;\n      } else if (newText[0] == oldText[0]) {\n        newText.shift();\n        oldText.shift();\n        fromLine++;\n      } else {\n        break;\n      }\n    }\n\n    var cutFront = 0,\n        cutEnd = 0;\n    var newTop = newText[0],\n        oldTop = oldText[0],\n        maxCutFront = Math.min(newTop.length, oldTop.length);\n\n    while (cutFront < maxCutFront && newTop.charCodeAt(cutFront) == oldTop.charCodeAt(cutFront)) {\n      ++cutFront;\n    }\n\n    var newBot = lst(newText),\n        oldBot = lst(oldText);\n    var maxCutEnd = Math.min(newBot.length - (newText.length == 1 ? cutFront : 0), oldBot.length - (oldText.length == 1 ? cutFront : 0));\n\n    while (cutEnd < maxCutEnd && newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1)) {\n      ++cutEnd;\n    } // Try to move start of change to start of selection if ambiguous\n\n\n    if (newText.length == 1 && oldText.length == 1 && fromLine == from.line) {\n      while (cutFront && cutFront > from.ch && newBot.charCodeAt(newBot.length - cutEnd - 1) == oldBot.charCodeAt(oldBot.length - cutEnd - 1)) {\n        cutFront--;\n        cutEnd++;\n      }\n    }\n\n    newText[newText.length - 1] = newBot.slice(0, newBot.length - cutEnd).replace(/^\\u200b+/, \"\");\n    newText[0] = newText[0].slice(cutFront).replace(/\\u200b+$/, \"\");\n    var chFrom = Pos(fromLine, cutFront);\n    var chTo = Pos(toLine, oldText.length ? lst(oldText).length - cutEnd : 0);\n\n    if (newText.length > 1 || newText[0] || cmp(chFrom, chTo)) {\n      replaceRange(cm.doc, newText, chFrom, chTo, \"+input\");\n      return true;\n    }\n  };\n\n  ContentEditableInput.prototype.ensurePolled = function () {\n    this.forceCompositionEnd();\n  };\n\n  ContentEditableInput.prototype.reset = function () {\n    this.forceCompositionEnd();\n  };\n\n  ContentEditableInput.prototype.forceCompositionEnd = function () {\n    if (!this.composing) {\n      return;\n    }\n\n    clearTimeout(this.readDOMTimeout);\n    this.composing = null;\n    this.updateFromDOM();\n    this.div.blur();\n    this.div.focus();\n  };\n\n  ContentEditableInput.prototype.readFromDOMSoon = function () {\n    var this$1 = this;\n\n    if (this.readDOMTimeout != null) {\n      return;\n    }\n\n    this.readDOMTimeout = setTimeout(function () {\n      this$1.readDOMTimeout = null;\n\n      if (this$1.composing) {\n        if (this$1.composing.done) {\n          this$1.composing = null;\n        } else {\n          return;\n        }\n      }\n\n      this$1.updateFromDOM();\n    }, 80);\n  };\n\n  ContentEditableInput.prototype.updateFromDOM = function () {\n    var this$1 = this;\n\n    if (this.cm.isReadOnly() || !this.pollContent()) {\n      runInOp(this.cm, function () {\n        return regChange(this$1.cm);\n      });\n    }\n  };\n\n  ContentEditableInput.prototype.setUneditable = function (node) {\n    node.contentEditable = \"false\";\n  };\n\n  ContentEditableInput.prototype.onKeyPress = function (e) {\n    if (e.charCode == 0 || this.composing) {\n      return;\n    }\n\n    e.preventDefault();\n\n    if (!this.cm.isReadOnly()) {\n      operation(this.cm, applyTextInput)(this.cm, String.fromCharCode(e.charCode == null ? e.keyCode : e.charCode), 0);\n    }\n  };\n\n  ContentEditableInput.prototype.readOnlyChanged = function (val) {\n    this.div.contentEditable = String(val != \"nocursor\");\n  };\n\n  ContentEditableInput.prototype.onContextMenu = function () {};\n\n  ContentEditableInput.prototype.resetPosition = function () {};\n\n  ContentEditableInput.prototype.needsContentAttribute = true;\n\n  function posToDOM(cm, pos) {\n    var view = findViewForLine(cm, pos.line);\n\n    if (!view || view.hidden) {\n      return null;\n    }\n\n    var line = getLine(cm.doc, pos.line);\n    var info = mapFromLineView(view, line, pos.line);\n    var order = getOrder(line, cm.doc.direction),\n        side = \"left\";\n\n    if (order) {\n      var partPos = getBidiPartAt(order, pos.ch);\n      side = partPos % 2 ? \"right\" : \"left\";\n    }\n\n    var result = nodeAndOffsetInLineMap(info.map, pos.ch, side);\n    result.offset = result.collapse == \"right\" ? result.end : result.start;\n    return result;\n  }\n\n  function isInGutter(node) {\n    for (var scan = node; scan; scan = scan.parentNode) {\n      if (/CodeMirror-gutter-wrapper/.test(scan.className)) {\n        return true;\n      }\n    }\n\n    return false;\n  }\n\n  function badPos(pos, bad) {\n    if (bad) {\n      pos.bad = true;\n    }\n\n    return pos;\n  }\n\n  function domTextBetween(cm, from, to, fromLine, toLine) {\n    var text = \"\",\n        closing = false,\n        lineSep = cm.doc.lineSeparator(),\n        extraLinebreak = false;\n\n    function recognizeMarker(id) {\n      return function (marker) {\n        return marker.id == id;\n      };\n    }\n\n    function close() {\n      if (closing) {\n        text += lineSep;\n\n        if (extraLinebreak) {\n          text += lineSep;\n        }\n\n        closing = extraLinebreak = false;\n      }\n    }\n\n    function addText(str) {\n      if (str) {\n        close();\n        text += str;\n      }\n    }\n\n    function walk(node) {\n      if (node.nodeType == 1) {\n        var cmText = node.getAttribute(\"cm-text\");\n\n        if (cmText) {\n          addText(cmText);\n          return;\n        }\n\n        var markerID = node.getAttribute(\"cm-marker\"),\n            range;\n\n        if (markerID) {\n          var found = cm.findMarks(Pos(fromLine, 0), Pos(toLine + 1, 0), recognizeMarker(+markerID));\n\n          if (found.length && (range = found[0].find(0))) {\n            addText(getBetween(cm.doc, range.from, range.to).join(lineSep));\n          }\n\n          return;\n        }\n\n        if (node.getAttribute(\"contenteditable\") == \"false\") {\n          return;\n        }\n\n        var isBlock = /^(pre|div|p|li|table|br)$/i.test(node.nodeName);\n\n        if (!/^br$/i.test(node.nodeName) && node.textContent.length == 0) {\n          return;\n        }\n\n        if (isBlock) {\n          close();\n        }\n\n        for (var i = 0; i < node.childNodes.length; i++) {\n          walk(node.childNodes[i]);\n        }\n\n        if (/^(pre|p)$/i.test(node.nodeName)) {\n          extraLinebreak = true;\n        }\n\n        if (isBlock) {\n          closing = true;\n        }\n      } else if (node.nodeType == 3) {\n        addText(node.nodeValue.replace(/\\u200b/g, \"\").replace(/\\u00a0/g, \" \"));\n      }\n    }\n\n    for (;;) {\n      walk(from);\n\n      if (from == to) {\n        break;\n      }\n\n      from = from.nextSibling;\n      extraLinebreak = false;\n    }\n\n    return text;\n  }\n\n  function domToPos(cm, node, offset) {\n    var lineNode;\n\n    if (node == cm.display.lineDiv) {\n      lineNode = cm.display.lineDiv.childNodes[offset];\n\n      if (!lineNode) {\n        return badPos(cm.clipPos(Pos(cm.display.viewTo - 1)), true);\n      }\n\n      node = null;\n      offset = 0;\n    } else {\n      for (lineNode = node;; lineNode = lineNode.parentNode) {\n        if (!lineNode || lineNode == cm.display.lineDiv) {\n          return null;\n        }\n\n        if (lineNode.parentNode && lineNode.parentNode == cm.display.lineDiv) {\n          break;\n        }\n      }\n    }\n\n    for (var i = 0; i < cm.display.view.length; i++) {\n      var lineView = cm.display.view[i];\n\n      if (lineView.node == lineNode) {\n        return locateNodeInLineView(lineView, node, offset);\n      }\n    }\n  }\n\n  function locateNodeInLineView(lineView, node, offset) {\n    var wrapper = lineView.text.firstChild,\n        bad = false;\n\n    if (!node || !contains(wrapper, node)) {\n      return badPos(Pos(lineNo(lineView.line), 0), true);\n    }\n\n    if (node == wrapper) {\n      bad = true;\n      node = wrapper.childNodes[offset];\n      offset = 0;\n\n      if (!node) {\n        var line = lineView.rest ? lst(lineView.rest) : lineView.line;\n        return badPos(Pos(lineNo(line), line.text.length), bad);\n      }\n    }\n\n    var textNode = node.nodeType == 3 ? node : null,\n        topNode = node;\n\n    if (!textNode && node.childNodes.length == 1 && node.firstChild.nodeType == 3) {\n      textNode = node.firstChild;\n\n      if (offset) {\n        offset = textNode.nodeValue.length;\n      }\n    }\n\n    while (topNode.parentNode != wrapper) {\n      topNode = topNode.parentNode;\n    }\n\n    var measure = lineView.measure,\n        maps = measure.maps;\n\n    function find(textNode, topNode, offset) {\n      for (var i = -1; i < (maps ? maps.length : 0); i++) {\n        var map = i < 0 ? measure.map : maps[i];\n\n        for (var j = 0; j < map.length; j += 3) {\n          var curNode = map[j + 2];\n\n          if (curNode == textNode || curNode == topNode) {\n            var line = lineNo(i < 0 ? lineView.line : lineView.rest[i]);\n            var ch = map[j] + offset;\n\n            if (offset < 0 || curNode != textNode) {\n              ch = map[j + (offset ? 1 : 0)];\n            }\n\n            return Pos(line, ch);\n          }\n        }\n      }\n    }\n\n    var found = find(textNode, topNode, offset);\n\n    if (found) {\n      return badPos(found, bad);\n    } // FIXME this is all really shaky. might handle the few cases it needs to handle, but likely to cause problems\n\n\n    for (var after = topNode.nextSibling, dist = textNode ? textNode.nodeValue.length - offset : 0; after; after = after.nextSibling) {\n      found = find(after, after.firstChild, 0);\n\n      if (found) {\n        return badPos(Pos(found.line, found.ch - dist), bad);\n      } else {\n        dist += after.textContent.length;\n      }\n    }\n\n    for (var before = topNode.previousSibling, dist$1 = offset; before; before = before.previousSibling) {\n      found = find(before, before.firstChild, -1);\n\n      if (found) {\n        return badPos(Pos(found.line, found.ch + dist$1), bad);\n      } else {\n        dist$1 += before.textContent.length;\n      }\n    }\n  } // TEXTAREA INPUT STYLE\n\n\n  var TextareaInput = function (cm) {\n    this.cm = cm; // See input.poll and input.reset\n\n    this.prevInput = \"\"; // Flag that indicates whether we expect input to appear real soon\n    // now (after some event like 'keypress' or 'input') and are\n    // polling intensively.\n\n    this.pollingFast = false; // Self-resetting timeout for the poller\n\n    this.polling = new Delayed(); // Used to work around IE issue with selection being forgotten when focus moves away from textarea\n\n    this.hasSelection = false;\n    this.composing = null;\n  };\n\n  TextareaInput.prototype.init = function (display) {\n    var this$1 = this;\n    var input = this,\n        cm = this.cm;\n    this.createField(display);\n    var te = this.textarea;\n    display.wrapper.insertBefore(this.wrapper, display.wrapper.firstChild); // Needed to hide big blue blinking cursor on Mobile Safari (doesn't seem to work in iOS 8 anymore)\n\n    if (ios) {\n      te.style.width = \"0px\";\n    }\n\n    on(te, \"input\", function () {\n      if (ie && ie_version >= 9 && this$1.hasSelection) {\n        this$1.hasSelection = null;\n      }\n\n      input.poll();\n    });\n    on(te, \"paste\", function (e) {\n      if (signalDOMEvent(cm, e) || handlePaste(e, cm)) {\n        return;\n      }\n\n      cm.state.pasteIncoming = +new Date();\n      input.fastPoll();\n    });\n\n    function prepareCopyCut(e) {\n      if (signalDOMEvent(cm, e)) {\n        return;\n      }\n\n      if (cm.somethingSelected()) {\n        setLastCopied({\n          lineWise: false,\n          text: cm.getSelections()\n        });\n      } else if (!cm.options.lineWiseCopyCut) {\n        return;\n      } else {\n        var ranges = copyableRanges(cm);\n        setLastCopied({\n          lineWise: true,\n          text: ranges.text\n        });\n\n        if (e.type == \"cut\") {\n          cm.setSelections(ranges.ranges, null, sel_dontScroll);\n        } else {\n          input.prevInput = \"\";\n          te.value = ranges.text.join(\"\\n\");\n          selectInput(te);\n        }\n      }\n\n      if (e.type == \"cut\") {\n        cm.state.cutIncoming = +new Date();\n      }\n    }\n\n    on(te, \"cut\", prepareCopyCut);\n    on(te, \"copy\", prepareCopyCut);\n    on(display.scroller, \"paste\", function (e) {\n      if (eventInWidget(display, e) || signalDOMEvent(cm, e)) {\n        return;\n      }\n\n      if (!te.dispatchEvent) {\n        cm.state.pasteIncoming = +new Date();\n        input.focus();\n        return;\n      } // Pass the `paste` event to the textarea so it's handled by its event listener.\n\n\n      var event = new Event(\"paste\");\n      event.clipboardData = e.clipboardData;\n      te.dispatchEvent(event);\n    }); // Prevent normal selection in the editor (we handle our own)\n\n    on(display.lineSpace, \"selectstart\", function (e) {\n      if (!eventInWidget(display, e)) {\n        e_preventDefault(e);\n      }\n    });\n    on(te, \"compositionstart\", function () {\n      var start = cm.getCursor(\"from\");\n\n      if (input.composing) {\n        input.composing.range.clear();\n      }\n\n      input.composing = {\n        start: start,\n        range: cm.markText(start, cm.getCursor(\"to\"), {\n          className: \"CodeMirror-composing\"\n        })\n      };\n    });\n    on(te, \"compositionend\", function () {\n      if (input.composing) {\n        input.poll();\n        input.composing.range.clear();\n        input.composing = null;\n      }\n    });\n  };\n\n  TextareaInput.prototype.createField = function (_display) {\n    // Wraps and hides input textarea\n    this.wrapper = hiddenTextarea(); // The semihidden textarea that is focused when the editor is\n    // focused, and receives input.\n\n    this.textarea = this.wrapper.firstChild;\n  };\n\n  TextareaInput.prototype.screenReaderLabelChanged = function (label) {\n    // Label for screenreaders, accessibility\n    if (label) {\n      this.textarea.setAttribute('aria-label', label);\n    } else {\n      this.textarea.removeAttribute('aria-label');\n    }\n  };\n\n  TextareaInput.prototype.prepareSelection = function () {\n    // Redraw the selection and/or cursor\n    var cm = this.cm,\n        display = cm.display,\n        doc = cm.doc;\n    var result = prepareSelection(cm); // Move the hidden textarea near the cursor to prevent scrolling artifacts\n\n    if (cm.options.moveInputWithCursor) {\n      var headPos = cursorCoords(cm, doc.sel.primary().head, \"div\");\n      var wrapOff = display.wrapper.getBoundingClientRect(),\n          lineOff = display.lineDiv.getBoundingClientRect();\n      result.teTop = Math.max(0, Math.min(display.wrapper.clientHeight - 10, headPos.top + lineOff.top - wrapOff.top));\n      result.teLeft = Math.max(0, Math.min(display.wrapper.clientWidth - 10, headPos.left + lineOff.left - wrapOff.left));\n    }\n\n    return result;\n  };\n\n  TextareaInput.prototype.showSelection = function (drawn) {\n    var cm = this.cm,\n        display = cm.display;\n    removeChildrenAndAdd(display.cursorDiv, drawn.cursors);\n    removeChildrenAndAdd(display.selectionDiv, drawn.selection);\n\n    if (drawn.teTop != null) {\n      this.wrapper.style.top = drawn.teTop + \"px\";\n      this.wrapper.style.left = drawn.teLeft + \"px\";\n    }\n  }; // Reset the input to correspond to the selection (or to be empty,\n  // when not typing and nothing is selected)\n\n\n  TextareaInput.prototype.reset = function (typing) {\n    if (this.contextMenuPending || this.composing) {\n      return;\n    }\n\n    var cm = this.cm;\n\n    if (cm.somethingSelected()) {\n      this.prevInput = \"\";\n      var content = cm.getSelection();\n      this.textarea.value = content;\n\n      if (cm.state.focused) {\n        selectInput(this.textarea);\n      }\n\n      if (ie && ie_version >= 9) {\n        this.hasSelection = content;\n      }\n    } else if (!typing) {\n      this.prevInput = this.textarea.value = \"\";\n\n      if (ie && ie_version >= 9) {\n        this.hasSelection = null;\n      }\n    }\n  };\n\n  TextareaInput.prototype.getField = function () {\n    return this.textarea;\n  };\n\n  TextareaInput.prototype.supportsTouch = function () {\n    return false;\n  };\n\n  TextareaInput.prototype.focus = function () {\n    if (this.cm.options.readOnly != \"nocursor\" && (!mobile || activeElt() != this.textarea)) {\n      try {\n        this.textarea.focus();\n      } catch (e) {} // IE8 will throw if the textarea is display: none or not in DOM\n\n    }\n  };\n\n  TextareaInput.prototype.blur = function () {\n    this.textarea.blur();\n  };\n\n  TextareaInput.prototype.resetPosition = function () {\n    this.wrapper.style.top = this.wrapper.style.left = 0;\n  };\n\n  TextareaInput.prototype.receivedFocus = function () {\n    this.slowPoll();\n  }; // Poll for input changes, using the normal rate of polling. This\n  // runs as long as the editor is focused.\n\n\n  TextareaInput.prototype.slowPoll = function () {\n    var this$1 = this;\n\n    if (this.pollingFast) {\n      return;\n    }\n\n    this.polling.set(this.cm.options.pollInterval, function () {\n      this$1.poll();\n\n      if (this$1.cm.state.focused) {\n        this$1.slowPoll();\n      }\n    });\n  }; // When an event has just come in that is likely to add or change\n  // something in the input textarea, we poll faster, to ensure that\n  // the change appears on the screen quickly.\n\n\n  TextareaInput.prototype.fastPoll = function () {\n    var missed = false,\n        input = this;\n    input.pollingFast = true;\n\n    function p() {\n      var changed = input.poll();\n\n      if (!changed && !missed) {\n        missed = true;\n        input.polling.set(60, p);\n      } else {\n        input.pollingFast = false;\n        input.slowPoll();\n      }\n    }\n\n    input.polling.set(20, p);\n  }; // Read input from the textarea, and update the document to match.\n  // When something is selected, it is present in the textarea, and\n  // selected (unless it is huge, in which case a placeholder is\n  // used). When nothing is selected, the cursor sits after previously\n  // seen text (can be empty), which is stored in prevInput (we must\n  // not reset the textarea when typing, because that breaks IME).\n\n\n  TextareaInput.prototype.poll = function () {\n    var this$1 = this;\n    var cm = this.cm,\n        input = this.textarea,\n        prevInput = this.prevInput; // Since this is called a *lot*, try to bail out as cheaply as\n    // possible when it is clear that nothing happened. hasSelection\n    // will be the case when there is a lot of text in the textarea,\n    // in which case reading its value would be expensive.\n\n    if (this.contextMenuPending || !cm.state.focused || hasSelection(input) && !prevInput && !this.composing || cm.isReadOnly() || cm.options.disableInput || cm.state.keySeq) {\n      return false;\n    }\n\n    var text = input.value; // If nothing changed, bail.\n\n    if (text == prevInput && !cm.somethingSelected()) {\n      return false;\n    } // Work around nonsensical selection resetting in IE9/10, and\n    // inexplicable appearance of private area unicode characters on\n    // some key combos in Mac (#2689).\n\n\n    if (ie && ie_version >= 9 && this.hasSelection === text || mac && /[\\uf700-\\uf7ff]/.test(text)) {\n      cm.display.input.reset();\n      return false;\n    }\n\n    if (cm.doc.sel == cm.display.selForContextMenu) {\n      var first = text.charCodeAt(0);\n\n      if (first == 0x200b && !prevInput) {\n        prevInput = \"\\u200b\";\n      }\n\n      if (first == 0x21da) {\n        this.reset();\n        return this.cm.execCommand(\"undo\");\n      }\n    } // Find the part of the input that is actually new\n\n\n    var same = 0,\n        l = Math.min(prevInput.length, text.length);\n\n    while (same < l && prevInput.charCodeAt(same) == text.charCodeAt(same)) {\n      ++same;\n    }\n\n    runInOp(cm, function () {\n      applyTextInput(cm, text.slice(same), prevInput.length - same, null, this$1.composing ? \"*compose\" : null); // Don't leave long text in the textarea, since it makes further polling slow\n\n      if (text.length > 1000 || text.indexOf(\"\\n\") > -1) {\n        input.value = this$1.prevInput = \"\";\n      } else {\n        this$1.prevInput = text;\n      }\n\n      if (this$1.composing) {\n        this$1.composing.range.clear();\n        this$1.composing.range = cm.markText(this$1.composing.start, cm.getCursor(\"to\"), {\n          className: \"CodeMirror-composing\"\n        });\n      }\n    });\n    return true;\n  };\n\n  TextareaInput.prototype.ensurePolled = function () {\n    if (this.pollingFast && this.poll()) {\n      this.pollingFast = false;\n    }\n  };\n\n  TextareaInput.prototype.onKeyPress = function () {\n    if (ie && ie_version >= 9) {\n      this.hasSelection = null;\n    }\n\n    this.fastPoll();\n  };\n\n  TextareaInput.prototype.onContextMenu = function (e) {\n    var input = this,\n        cm = input.cm,\n        display = cm.display,\n        te = input.textarea;\n\n    if (input.contextMenuPending) {\n      input.contextMenuPending();\n    }\n\n    var pos = posFromMouse(cm, e),\n        scrollPos = display.scroller.scrollTop;\n\n    if (!pos || presto) {\n      return;\n    } // Opera is difficult.\n    // Reset the current text selection only if the click is done outside of the selection\n    // and 'resetSelectionOnContextMenu' option is true.\n\n\n    var reset = cm.options.resetSelectionOnContextMenu;\n\n    if (reset && cm.doc.sel.contains(pos) == -1) {\n      operation(cm, setSelection)(cm.doc, simpleSelection(pos), sel_dontScroll);\n    }\n\n    var oldCSS = te.style.cssText,\n        oldWrapperCSS = input.wrapper.style.cssText;\n    var wrapperBox = input.wrapper.offsetParent.getBoundingClientRect();\n    input.wrapper.style.cssText = \"position: static\";\n    te.style.cssText = \"position: absolute; width: 30px; height: 30px;\\n      top: \" + (e.clientY - wrapperBox.top - 5) + \"px; left: \" + (e.clientX - wrapperBox.left - 5) + \"px;\\n      z-index: 1000; background: \" + (ie ? \"rgba(255, 255, 255, .05)\" : \"transparent\") + \";\\n      outline: none; border-width: 0; outline: none; overflow: hidden; opacity: .05; filter: alpha(opacity=5);\";\n    var oldScrollY;\n\n    if (webkit) {\n      oldScrollY = window.scrollY;\n    } // Work around Chrome issue (#2712)\n\n\n    display.input.focus();\n\n    if (webkit) {\n      window.scrollTo(null, oldScrollY);\n    }\n\n    display.input.reset(); // Adds \"Select all\" to context menu in FF\n\n    if (!cm.somethingSelected()) {\n      te.value = input.prevInput = \" \";\n    }\n\n    input.contextMenuPending = rehide;\n    display.selForContextMenu = cm.doc.sel;\n    clearTimeout(display.detectingSelectAll); // Select-all will be greyed out if there's nothing to select, so\n    // this adds a zero-width space so that we can later check whether\n    // it got selected.\n\n    function prepareSelectAllHack() {\n      if (te.selectionStart != null) {\n        var selected = cm.somethingSelected();\n        var extval = \"\\u200b\" + (selected ? te.value : \"\");\n        te.value = \"\\u21da\"; // Used to catch context-menu undo\n\n        te.value = extval;\n        input.prevInput = selected ? \"\" : \"\\u200b\";\n        te.selectionStart = 1;\n        te.selectionEnd = extval.length; // Re-set this, in case some other handler touched the\n        // selection in the meantime.\n\n        display.selForContextMenu = cm.doc.sel;\n      }\n    }\n\n    function rehide() {\n      if (input.contextMenuPending != rehide) {\n        return;\n      }\n\n      input.contextMenuPending = false;\n      input.wrapper.style.cssText = oldWrapperCSS;\n      te.style.cssText = oldCSS;\n\n      if (ie && ie_version < 9) {\n        display.scrollbars.setScrollTop(display.scroller.scrollTop = scrollPos);\n      } // Try to detect the user choosing select-all\n\n\n      if (te.selectionStart != null) {\n        if (!ie || ie && ie_version < 9) {\n          prepareSelectAllHack();\n        }\n\n        var i = 0,\n            poll = function () {\n          if (display.selForContextMenu == cm.doc.sel && te.selectionStart == 0 && te.selectionEnd > 0 && input.prevInput == \"\\u200b\") {\n            operation(cm, selectAll)(cm);\n          } else if (i++ < 10) {\n            display.detectingSelectAll = setTimeout(poll, 500);\n          } else {\n            display.selForContextMenu = null;\n            display.input.reset();\n          }\n        };\n\n        display.detectingSelectAll = setTimeout(poll, 200);\n      }\n    }\n\n    if (ie && ie_version >= 9) {\n      prepareSelectAllHack();\n    }\n\n    if (captureRightClick) {\n      e_stop(e);\n\n      var mouseup = function () {\n        off(window, \"mouseup\", mouseup);\n        setTimeout(rehide, 20);\n      };\n\n      on(window, \"mouseup\", mouseup);\n    } else {\n      setTimeout(rehide, 50);\n    }\n  };\n\n  TextareaInput.prototype.readOnlyChanged = function (val) {\n    if (!val) {\n      this.reset();\n    }\n\n    this.textarea.disabled = val == \"nocursor\";\n  };\n\n  TextareaInput.prototype.setUneditable = function () {};\n\n  TextareaInput.prototype.needsContentAttribute = false;\n\n  function fromTextArea(textarea, options) {\n    options = options ? copyObj(options) : {};\n    options.value = textarea.value;\n\n    if (!options.tabindex && textarea.tabIndex) {\n      options.tabindex = textarea.tabIndex;\n    }\n\n    if (!options.placeholder && textarea.placeholder) {\n      options.placeholder = textarea.placeholder;\n    } // Set autofocus to true if this textarea is focused, or if it has\n    // autofocus and no other element is focused.\n\n\n    if (options.autofocus == null) {\n      var hasFocus = activeElt();\n      options.autofocus = hasFocus == textarea || textarea.getAttribute(\"autofocus\") != null && hasFocus == document.body;\n    }\n\n    function save() {\n      textarea.value = cm.getValue();\n    }\n\n    var realSubmit;\n\n    if (textarea.form) {\n      on(textarea.form, \"submit\", save); // Deplorable hack to make the submit method do the right thing.\n\n      if (!options.leaveSubmitMethodAlone) {\n        var form = textarea.form;\n        realSubmit = form.submit;\n\n        try {\n          var wrappedSubmit = form.submit = function () {\n            save();\n            form.submit = realSubmit;\n            form.submit();\n            form.submit = wrappedSubmit;\n          };\n        } catch (e) {}\n      }\n    }\n\n    options.finishInit = function (cm) {\n      cm.save = save;\n\n      cm.getTextArea = function () {\n        return textarea;\n      };\n\n      cm.toTextArea = function () {\n        cm.toTextArea = isNaN; // Prevent this from being ran twice\n\n        save();\n        textarea.parentNode.removeChild(cm.getWrapperElement());\n        textarea.style.display = \"\";\n\n        if (textarea.form) {\n          off(textarea.form, \"submit\", save);\n\n          if (!options.leaveSubmitMethodAlone && typeof textarea.form.submit == \"function\") {\n            textarea.form.submit = realSubmit;\n          }\n        }\n      };\n    };\n\n    textarea.style.display = \"none\";\n    var cm = CodeMirror(function (node) {\n      return textarea.parentNode.insertBefore(node, textarea.nextSibling);\n    }, options);\n    return cm;\n  }\n\n  function addLegacyProps(CodeMirror) {\n    CodeMirror.off = off;\n    CodeMirror.on = on;\n    CodeMirror.wheelEventPixels = wheelEventPixels;\n    CodeMirror.Doc = Doc;\n    CodeMirror.splitLines = splitLinesAuto;\n    CodeMirror.countColumn = countColumn;\n    CodeMirror.findColumn = findColumn;\n    CodeMirror.isWordChar = isWordCharBasic;\n    CodeMirror.Pass = Pass;\n    CodeMirror.signal = signal;\n    CodeMirror.Line = Line;\n    CodeMirror.changeEnd = changeEnd;\n    CodeMirror.scrollbarModel = scrollbarModel;\n    CodeMirror.Pos = Pos;\n    CodeMirror.cmpPos = cmp;\n    CodeMirror.modes = modes;\n    CodeMirror.mimeModes = mimeModes;\n    CodeMirror.resolveMode = resolveMode;\n    CodeMirror.getMode = getMode;\n    CodeMirror.modeExtensions = modeExtensions;\n    CodeMirror.extendMode = extendMode;\n    CodeMirror.copyState = copyState;\n    CodeMirror.startState = startState;\n    CodeMirror.innerMode = innerMode;\n    CodeMirror.commands = commands;\n    CodeMirror.keyMap = keyMap;\n    CodeMirror.keyName = keyName;\n    CodeMirror.isModifierKey = isModifierKey;\n    CodeMirror.lookupKey = lookupKey;\n    CodeMirror.normalizeKeyMap = normalizeKeyMap;\n    CodeMirror.StringStream = StringStream;\n    CodeMirror.SharedTextMarker = SharedTextMarker;\n    CodeMirror.TextMarker = TextMarker;\n    CodeMirror.LineWidget = LineWidget;\n    CodeMirror.e_preventDefault = e_preventDefault;\n    CodeMirror.e_stopPropagation = e_stopPropagation;\n    CodeMirror.e_stop = e_stop;\n    CodeMirror.addClass = addClass;\n    CodeMirror.contains = contains;\n    CodeMirror.rmClass = rmClass;\n    CodeMirror.keyNames = keyNames;\n  } // EDITOR CONSTRUCTOR\n\n\n  defineOptions(CodeMirror);\n  addEditorMethods(CodeMirror); // Set up methods on CodeMirror's prototype to redirect to the editor's document.\n\n  var dontDelegate = \"iter insert remove copy getEditor constructor\".split(\" \");\n\n  for (var prop in Doc.prototype) {\n    if (Doc.prototype.hasOwnProperty(prop) && indexOf(dontDelegate, prop) < 0) {\n      CodeMirror.prototype[prop] = function (method) {\n        return function () {\n          return method.apply(this.doc, arguments);\n        };\n      }(Doc.prototype[prop]);\n    }\n  }\n\n  eventMixin(Doc);\n  CodeMirror.inputStyles = {\n    \"textarea\": TextareaInput,\n    \"contenteditable\": ContentEditableInput\n  }; // Extra arguments are stored as the mode's dependencies, which is\n  // used by (legacy) mechanisms like loadmode.js to automatically\n  // load a mode. (Preferred mechanism is the require/define calls.)\n\n  CodeMirror.defineMode = function (name\n  /*, mode, */\n  ) {\n    if (!CodeMirror.defaults.mode && name != \"null\") {\n      CodeMirror.defaults.mode = name;\n    }\n\n    defineMode.apply(this, arguments);\n  };\n\n  CodeMirror.defineMIME = defineMIME; // Minimal default mode.\n\n  CodeMirror.defineMode(\"null\", function () {\n    return {\n      token: function (stream) {\n        return stream.skipToEnd();\n      }\n    };\n  });\n  CodeMirror.defineMIME(\"text/plain\", \"null\"); // EXTENSIONS\n\n  CodeMirror.defineExtension = function (name, func) {\n    CodeMirror.prototype[name] = func;\n  };\n\n  CodeMirror.defineDocExtension = function (name, func) {\n    Doc.prototype[name] = func;\n  };\n\n  CodeMirror.fromTextArea = fromTextArea;\n  addLegacyProps(CodeMirror);\n  CodeMirror.version = \"5.53.2\";\n  return CodeMirror;\n});\n\n/***/ }),\n\n/***/ \"./node_modules/codemirror/mode/markdown/markdown.js\":\n/*!***********************************************************!*\\\n  !*** ./node_modules/codemirror/mode/markdown/markdown.js ***!\n  \\***********************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n(function (mod) {\n  if (true) // CommonJS\n    mod(__webpack_require__(/*! ../../lib/codemirror */ \"./node_modules/codemirror/lib/codemirror.js\"), __webpack_require__(/*! ../xml/xml */ \"./node_modules/codemirror/mode/xml/xml.js\"), __webpack_require__(/*! ../meta */ \"./node_modules/codemirror/mode/meta.js\"));else {}\n})(function (CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.defineMode(\"markdown\", function (cmCfg, modeCfg) {\n    var htmlMode = CodeMirror.getMode(cmCfg, \"text/html\");\n    var htmlModeMissing = htmlMode.name == \"null\";\n\n    function getMode(name) {\n      if (CodeMirror.findModeByName) {\n        var found = CodeMirror.findModeByName(name);\n        if (found) name = found.mime || found.mimes[0];\n      }\n\n      var mode = CodeMirror.getMode(cmCfg, name);\n      return mode.name == \"null\" ? null : mode;\n    } // Should characters that affect highlighting be highlighted separate?\n    // Does not include characters that will be output (such as `1.` and `-` for lists)\n\n\n    if (modeCfg.highlightFormatting === undefined) modeCfg.highlightFormatting = false; // Maximum number of nested blockquotes. Set to 0 for infinite nesting.\n    // Excess `>` will emit `error` token.\n\n    if (modeCfg.maxBlockquoteDepth === undefined) modeCfg.maxBlockquoteDepth = 0; // Turn on task lists? (\"- [ ] \" and \"- [x] \")\n\n    if (modeCfg.taskLists === undefined) modeCfg.taskLists = false; // Turn on strikethrough syntax\n\n    if (modeCfg.strikethrough === undefined) modeCfg.strikethrough = false;\n    if (modeCfg.emoji === undefined) modeCfg.emoji = false;\n    if (modeCfg.fencedCodeBlockHighlighting === undefined) modeCfg.fencedCodeBlockHighlighting = true;\n    if (modeCfg.xml === undefined) modeCfg.xml = true; // Allow token types to be overridden by user-provided token types.\n\n    if (modeCfg.tokenTypeOverrides === undefined) modeCfg.tokenTypeOverrides = {};\n    var tokenTypes = {\n      header: \"header\",\n      code: \"comment\",\n      quote: \"quote\",\n      list1: \"variable-2\",\n      list2: \"variable-3\",\n      list3: \"keyword\",\n      hr: \"hr\",\n      image: \"image\",\n      imageAltText: \"image-alt-text\",\n      imageMarker: \"image-marker\",\n      formatting: \"formatting\",\n      linkInline: \"link\",\n      linkEmail: \"link\",\n      linkText: \"link\",\n      linkHref: \"string\",\n      em: \"em\",\n      strong: \"strong\",\n      strikethrough: \"strikethrough\",\n      emoji: \"builtin\"\n    };\n\n    for (var tokenType in tokenTypes) {\n      if (tokenTypes.hasOwnProperty(tokenType) && modeCfg.tokenTypeOverrides[tokenType]) {\n        tokenTypes[tokenType] = modeCfg.tokenTypeOverrides[tokenType];\n      }\n    }\n\n    var hrRE = /^([*\\-_])(?:\\s*\\1){2,}\\s*$/,\n        listRE = /^(?:[*\\-+]|^[0-9]+([.)]))\\s+/,\n        taskListRE = /^\\[(x| )\\](?=\\s)/i // Must follow listRE\n    ,\n        atxHeaderRE = modeCfg.allowAtxHeaderWithoutSpace ? /^(#+)/ : /^(#+)(?: |$)/,\n        setextHeaderRE = /^ {0,3}(?:\\={1,}|-{2,})\\s*$/,\n        textRE = /^[^#!\\[\\]*_\\\\<>` \"'(~:]+/,\n        fencedCodeRE = /^(~~~+|```+)[ \\t]*([\\w+#-]*)[^\\n`]*$/,\n        linkDefRE = /^\\s*\\[[^\\]]+?\\]:.*$/ // naive link-definition\n    ,\n        punctuation = /[!\"#$%&'()*+,\\-.\\/:;<=>?@\\[\\\\\\]^_`{|}~\\xA1\\xA7\\xAB\\xB6\\xB7\\xBB\\xBF\\u037E\\u0387\\u055A-\\u055F\\u0589\\u058A\\u05BE\\u05C0\\u05C3\\u05C6\\u05F3\\u05F4\\u0609\\u060A\\u060C\\u060D\\u061B\\u061E\\u061F\\u066A-\\u066D\\u06D4\\u0700-\\u070D\\u07F7-\\u07F9\\u0830-\\u083E\\u085E\\u0964\\u0965\\u0970\\u0AF0\\u0DF4\\u0E4F\\u0E5A\\u0E5B\\u0F04-\\u0F12\\u0F14\\u0F3A-\\u0F3D\\u0F85\\u0FD0-\\u0FD4\\u0FD9\\u0FDA\\u104A-\\u104F\\u10FB\\u1360-\\u1368\\u1400\\u166D\\u166E\\u169B\\u169C\\u16EB-\\u16ED\\u1735\\u1736\\u17D4-\\u17D6\\u17D8-\\u17DA\\u1800-\\u180A\\u1944\\u1945\\u1A1E\\u1A1F\\u1AA0-\\u1AA6\\u1AA8-\\u1AAD\\u1B5A-\\u1B60\\u1BFC-\\u1BFF\\u1C3B-\\u1C3F\\u1C7E\\u1C7F\\u1CC0-\\u1CC7\\u1CD3\\u2010-\\u2027\\u2030-\\u2043\\u2045-\\u2051\\u2053-\\u205E\\u207D\\u207E\\u208D\\u208E\\u2308-\\u230B\\u2329\\u232A\\u2768-\\u2775\\u27C5\\u27C6\\u27E6-\\u27EF\\u2983-\\u2998\\u29D8-\\u29DB\\u29FC\\u29FD\\u2CF9-\\u2CFC\\u2CFE\\u2CFF\\u2D70\\u2E00-\\u2E2E\\u2E30-\\u2E42\\u3001-\\u3003\\u3008-\\u3011\\u3014-\\u301F\\u3030\\u303D\\u30A0\\u30FB\\uA4FE\\uA4FF\\uA60D-\\uA60F\\uA673\\uA67E\\uA6F2-\\uA6F7\\uA874-\\uA877\\uA8CE\\uA8CF\\uA8F8-\\uA8FA\\uA8FC\\uA92E\\uA92F\\uA95F\\uA9C1-\\uA9CD\\uA9DE\\uA9DF\\uAA5C-\\uAA5F\\uAADE\\uAADF\\uAAF0\\uAAF1\\uABEB\\uFD3E\\uFD3F\\uFE10-\\uFE19\\uFE30-\\uFE52\\uFE54-\\uFE61\\uFE63\\uFE68\\uFE6A\\uFE6B\\uFF01-\\uFF03\\uFF05-\\uFF0A\\uFF0C-\\uFF0F\\uFF1A\\uFF1B\\uFF1F\\uFF20\\uFF3B-\\uFF3D\\uFF3F\\uFF5B\\uFF5D\\uFF5F-\\uFF65]|\\uD800[\\uDD00-\\uDD02\\uDF9F\\uDFD0]|\\uD801\\uDD6F|\\uD802[\\uDC57\\uDD1F\\uDD3F\\uDE50-\\uDE58\\uDE7F\\uDEF0-\\uDEF6\\uDF39-\\uDF3F\\uDF99-\\uDF9C]|\\uD804[\\uDC47-\\uDC4D\\uDCBB\\uDCBC\\uDCBE-\\uDCC1\\uDD40-\\uDD43\\uDD74\\uDD75\\uDDC5-\\uDDC9\\uDDCD\\uDDDB\\uDDDD-\\uDDDF\\uDE38-\\uDE3D\\uDEA9]|\\uD805[\\uDCC6\\uDDC1-\\uDDD7\\uDE41-\\uDE43\\uDF3C-\\uDF3E]|\\uD809[\\uDC70-\\uDC74]|\\uD81A[\\uDE6E\\uDE6F\\uDEF5\\uDF37-\\uDF3B\\uDF44]|\\uD82F\\uDC9F|\\uD836[\\uDE87-\\uDE8B]/,\n        expandedTab = \"    \"; // CommonMark specifies tab as 4 spaces\n\n    function switchInline(stream, state, f) {\n      state.f = state.inline = f;\n      return f(stream, state);\n    }\n\n    function switchBlock(stream, state, f) {\n      state.f = state.block = f;\n      return f(stream, state);\n    }\n\n    function lineIsEmpty(line) {\n      return !line || !/\\S/.test(line.string);\n    } // Blocks\n\n\n    function blankLine(state) {\n      // Reset linkTitle state\n      state.linkTitle = false;\n      state.linkHref = false;\n      state.linkText = false; // Reset EM state\n\n      state.em = false; // Reset STRONG state\n\n      state.strong = false; // Reset strikethrough state\n\n      state.strikethrough = false; // Reset state.quote\n\n      state.quote = 0; // Reset state.indentedCode\n\n      state.indentedCode = false;\n\n      if (state.f == htmlBlock) {\n        var exit = htmlModeMissing;\n\n        if (!exit) {\n          var inner = CodeMirror.innerMode(htmlMode, state.htmlState);\n          exit = inner.mode.name == \"xml\" && inner.state.tagStart === null && !inner.state.context && inner.state.tokenize.isInText;\n        }\n\n        if (exit) {\n          state.f = inlineNormal;\n          state.block = blockNormal;\n          state.htmlState = null;\n        }\n      } // Reset state.trailingSpace\n\n\n      state.trailingSpace = 0;\n      state.trailingSpaceNewLine = false; // Mark this line as blank\n\n      state.prevLine = state.thisLine;\n      state.thisLine = {\n        stream: null\n      };\n      return null;\n    }\n\n    function blockNormal(stream, state) {\n      var firstTokenOnLine = stream.column() === state.indentation;\n      var prevLineLineIsEmpty = lineIsEmpty(state.prevLine.stream);\n      var prevLineIsIndentedCode = state.indentedCode;\n      var prevLineIsHr = state.prevLine.hr;\n      var prevLineIsList = state.list !== false;\n      var maxNonCodeIndentation = (state.listStack[state.listStack.length - 1] || 0) + 3;\n      state.indentedCode = false;\n      var lineIndentation = state.indentation; // compute once per line (on first token)\n\n      if (state.indentationDiff === null) {\n        state.indentationDiff = state.indentation;\n\n        if (prevLineIsList) {\n          state.list = null; // While this list item's marker's indentation is less than the deepest\n          //  list item's content's indentation,pop the deepest list item\n          //  indentation off the stack, and update block indentation state\n\n          while (lineIndentation < state.listStack[state.listStack.length - 1]) {\n            state.listStack.pop();\n\n            if (state.listStack.length) {\n              state.indentation = state.listStack[state.listStack.length - 1]; // less than the first list's indent -> the line is no longer a list\n            } else {\n              state.list = false;\n            }\n          }\n\n          if (state.list !== false) {\n            state.indentationDiff = lineIndentation - state.listStack[state.listStack.length - 1];\n          }\n        }\n      } // not comprehensive (currently only for setext detection purposes)\n\n\n      var allowsInlineContinuation = !prevLineLineIsEmpty && !prevLineIsHr && !state.prevLine.header && (!prevLineIsList || !prevLineIsIndentedCode) && !state.prevLine.fencedCodeEnd;\n      var isHr = (state.list === false || prevLineIsHr || prevLineLineIsEmpty) && state.indentation <= maxNonCodeIndentation && stream.match(hrRE);\n      var match = null;\n\n      if (state.indentationDiff >= 4 && (prevLineIsIndentedCode || state.prevLine.fencedCodeEnd || state.prevLine.header || prevLineLineIsEmpty)) {\n        stream.skipToEnd();\n        state.indentedCode = true;\n        return tokenTypes.code;\n      } else if (stream.eatSpace()) {\n        return null;\n      } else if (firstTokenOnLine && state.indentation <= maxNonCodeIndentation && (match = stream.match(atxHeaderRE)) && match[1].length <= 6) {\n        state.quote = 0;\n        state.header = match[1].length;\n        state.thisLine.header = true;\n        if (modeCfg.highlightFormatting) state.formatting = \"header\";\n        state.f = state.inline;\n        return getType(state);\n      } else if (state.indentation <= maxNonCodeIndentation && stream.eat('>')) {\n        state.quote = firstTokenOnLine ? 1 : state.quote + 1;\n        if (modeCfg.highlightFormatting) state.formatting = \"quote\";\n        stream.eatSpace();\n        return getType(state);\n      } else if (!isHr && !state.setext && firstTokenOnLine && state.indentation <= maxNonCodeIndentation && (match = stream.match(listRE))) {\n        var listType = match[1] ? \"ol\" : \"ul\";\n        state.indentation = lineIndentation + stream.current().length;\n        state.list = true;\n        state.quote = 0; // Add this list item's content's indentation to the stack\n\n        state.listStack.push(state.indentation); // Reset inline styles which shouldn't propagate aross list items\n\n        state.em = false;\n        state.strong = false;\n        state.code = false;\n        state.strikethrough = false;\n\n        if (modeCfg.taskLists && stream.match(taskListRE, false)) {\n          state.taskList = true;\n        }\n\n        state.f = state.inline;\n        if (modeCfg.highlightFormatting) state.formatting = [\"list\", \"list-\" + listType];\n        return getType(state);\n      } else if (firstTokenOnLine && state.indentation <= maxNonCodeIndentation && (match = stream.match(fencedCodeRE, true))) {\n        state.quote = 0;\n        state.fencedEndRE = new RegExp(match[1] + \"+ *$\"); // try switching mode\n\n        state.localMode = modeCfg.fencedCodeBlockHighlighting && getMode(match[2]);\n        if (state.localMode) state.localState = CodeMirror.startState(state.localMode);\n        state.f = state.block = local;\n        if (modeCfg.highlightFormatting) state.formatting = \"code-block\";\n        state.code = -1;\n        return getType(state); // SETEXT has lowest block-scope precedence after HR, so check it after\n        //  the others (code, blockquote, list...)\n      } else if ( // if setext set, indicates line after ---/===\n      state.setext || // line before ---/===\n      (!allowsInlineContinuation || !prevLineIsList) && !state.quote && state.list === false && !state.code && !isHr && !linkDefRE.test(stream.string) && (match = stream.lookAhead(1)) && (match = match.match(setextHeaderRE))) {\n        if (!state.setext) {\n          state.header = match[0].charAt(0) == '=' ? 1 : 2;\n          state.setext = state.header;\n        } else {\n          state.header = state.setext; // has no effect on type so we can reset it now\n\n          state.setext = 0;\n          stream.skipToEnd();\n          if (modeCfg.highlightFormatting) state.formatting = \"header\";\n        }\n\n        state.thisLine.header = true;\n        state.f = state.inline;\n        return getType(state);\n      } else if (isHr) {\n        stream.skipToEnd();\n        state.hr = true;\n        state.thisLine.hr = true;\n        return tokenTypes.hr;\n      } else if (stream.peek() === '[') {\n        return switchInline(stream, state, footnoteLink);\n      }\n\n      return switchInline(stream, state, state.inline);\n    }\n\n    function htmlBlock(stream, state) {\n      var style = htmlMode.token(stream, state.htmlState);\n\n      if (!htmlModeMissing) {\n        var inner = CodeMirror.innerMode(htmlMode, state.htmlState);\n\n        if (inner.mode.name == \"xml\" && inner.state.tagStart === null && !inner.state.context && inner.state.tokenize.isInText || state.md_inside && stream.current().indexOf(\">\") > -1) {\n          state.f = inlineNormal;\n          state.block = blockNormal;\n          state.htmlState = null;\n        }\n      }\n\n      return style;\n    }\n\n    function local(stream, state) {\n      var currListInd = state.listStack[state.listStack.length - 1] || 0;\n      var hasExitedList = state.indentation < currListInd;\n      var maxFencedEndInd = currListInd + 3;\n\n      if (state.fencedEndRE && state.indentation <= maxFencedEndInd && (hasExitedList || stream.match(state.fencedEndRE))) {\n        if (modeCfg.highlightFormatting) state.formatting = \"code-block\";\n        var returnType;\n        if (!hasExitedList) returnType = getType(state);\n        state.localMode = state.localState = null;\n        state.block = blockNormal;\n        state.f = inlineNormal;\n        state.fencedEndRE = null;\n        state.code = 0;\n        state.thisLine.fencedCodeEnd = true;\n        if (hasExitedList) return switchBlock(stream, state, state.block);\n        return returnType;\n      } else if (state.localMode) {\n        return state.localMode.token(stream, state.localState);\n      } else {\n        stream.skipToEnd();\n        return tokenTypes.code;\n      }\n    } // Inline\n\n\n    function getType(state) {\n      var styles = [];\n\n      if (state.formatting) {\n        styles.push(tokenTypes.formatting);\n        if (typeof state.formatting === \"string\") state.formatting = [state.formatting];\n\n        for (var i = 0; i < state.formatting.length; i++) {\n          styles.push(tokenTypes.formatting + \"-\" + state.formatting[i]);\n\n          if (state.formatting[i] === \"header\") {\n            styles.push(tokenTypes.formatting + \"-\" + state.formatting[i] + \"-\" + state.header);\n          } // Add `formatting-quote` and `formatting-quote-#` for blockquotes\n          // Add `error` instead if the maximum blockquote nesting depth is passed\n\n\n          if (state.formatting[i] === \"quote\") {\n            if (!modeCfg.maxBlockquoteDepth || modeCfg.maxBlockquoteDepth >= state.quote) {\n              styles.push(tokenTypes.formatting + \"-\" + state.formatting[i] + \"-\" + state.quote);\n            } else {\n              styles.push(\"error\");\n            }\n          }\n        }\n      }\n\n      if (state.taskOpen) {\n        styles.push(\"meta\");\n        return styles.length ? styles.join(' ') : null;\n      }\n\n      if (state.taskClosed) {\n        styles.push(\"property\");\n        return styles.length ? styles.join(' ') : null;\n      }\n\n      if (state.linkHref) {\n        styles.push(tokenTypes.linkHref, \"url\");\n      } else {\n        // Only apply inline styles to non-url text\n        if (state.strong) {\n          styles.push(tokenTypes.strong);\n        }\n\n        if (state.em) {\n          styles.push(tokenTypes.em);\n        }\n\n        if (state.strikethrough) {\n          styles.push(tokenTypes.strikethrough);\n        }\n\n        if (state.emoji) {\n          styles.push(tokenTypes.emoji);\n        }\n\n        if (state.linkText) {\n          styles.push(tokenTypes.linkText);\n        }\n\n        if (state.code) {\n          styles.push(tokenTypes.code);\n        }\n\n        if (state.image) {\n          styles.push(tokenTypes.image);\n        }\n\n        if (state.imageAltText) {\n          styles.push(tokenTypes.imageAltText, \"link\");\n        }\n\n        if (state.imageMarker) {\n          styles.push(tokenTypes.imageMarker);\n        }\n      }\n\n      if (state.header) {\n        styles.push(tokenTypes.header, tokenTypes.header + \"-\" + state.header);\n      }\n\n      if (state.quote) {\n        styles.push(tokenTypes.quote); // Add `quote-#` where the maximum for `#` is modeCfg.maxBlockquoteDepth\n\n        if (!modeCfg.maxBlockquoteDepth || modeCfg.maxBlockquoteDepth >= state.quote) {\n          styles.push(tokenTypes.quote + \"-\" + state.quote);\n        } else {\n          styles.push(tokenTypes.quote + \"-\" + modeCfg.maxBlockquoteDepth);\n        }\n      }\n\n      if (state.list !== false) {\n        var listMod = (state.listStack.length - 1) % 3;\n\n        if (!listMod) {\n          styles.push(tokenTypes.list1);\n        } else if (listMod === 1) {\n          styles.push(tokenTypes.list2);\n        } else {\n          styles.push(tokenTypes.list3);\n        }\n      }\n\n      if (state.trailingSpaceNewLine) {\n        styles.push(\"trailing-space-new-line\");\n      } else if (state.trailingSpace) {\n        styles.push(\"trailing-space-\" + (state.trailingSpace % 2 ? \"a\" : \"b\"));\n      }\n\n      return styles.length ? styles.join(' ') : null;\n    }\n\n    function handleText(stream, state) {\n      if (stream.match(textRE, true)) {\n        return getType(state);\n      }\n\n      return undefined;\n    }\n\n    function inlineNormal(stream, state) {\n      var style = state.text(stream, state);\n      if (typeof style !== 'undefined') return style;\n\n      if (state.list) {\n        // List marker (*, +, -, 1., etc)\n        state.list = null;\n        return getType(state);\n      }\n\n      if (state.taskList) {\n        var taskOpen = stream.match(taskListRE, true)[1] === \" \";\n        if (taskOpen) state.taskOpen = true;else state.taskClosed = true;\n        if (modeCfg.highlightFormatting) state.formatting = \"task\";\n        state.taskList = false;\n        return getType(state);\n      }\n\n      state.taskOpen = false;\n      state.taskClosed = false;\n\n      if (state.header && stream.match(/^#+$/, true)) {\n        if (modeCfg.highlightFormatting) state.formatting = \"header\";\n        return getType(state);\n      }\n\n      var ch = stream.next(); // Matches link titles present on next line\n\n      if (state.linkTitle) {\n        state.linkTitle = false;\n        var matchCh = ch;\n\n        if (ch === '(') {\n          matchCh = ')';\n        }\n\n        matchCh = (matchCh + '').replace(/([.?*+^\\[\\]\\\\(){}|-])/g, \"\\\\$1\");\n        var regex = '^\\\\s*(?:[^' + matchCh + '\\\\\\\\]+|\\\\\\\\\\\\\\\\|\\\\\\\\.)' + matchCh;\n\n        if (stream.match(new RegExp(regex), true)) {\n          return tokenTypes.linkHref;\n        }\n      } // If this block is changed, it may need to be updated in GFM mode\n\n\n      if (ch === '`') {\n        var previousFormatting = state.formatting;\n        if (modeCfg.highlightFormatting) state.formatting = \"code\";\n        stream.eatWhile('`');\n        var count = stream.current().length;\n\n        if (state.code == 0 && (!state.quote || count == 1)) {\n          state.code = count;\n          return getType(state);\n        } else if (count == state.code) {\n          // Must be exact\n          var t = getType(state);\n          state.code = 0;\n          return t;\n        } else {\n          state.formatting = previousFormatting;\n          return getType(state);\n        }\n      } else if (state.code) {\n        return getType(state);\n      }\n\n      if (ch === '\\\\') {\n        stream.next();\n\n        if (modeCfg.highlightFormatting) {\n          var type = getType(state);\n          var formattingEscape = tokenTypes.formatting + \"-escape\";\n          return type ? type + \" \" + formattingEscape : formattingEscape;\n        }\n      }\n\n      if (ch === '!' && stream.match(/\\[[^\\]]*\\] ?(?:\\(|\\[)/, false)) {\n        state.imageMarker = true;\n        state.image = true;\n        if (modeCfg.highlightFormatting) state.formatting = \"image\";\n        return getType(state);\n      }\n\n      if (ch === '[' && state.imageMarker && stream.match(/[^\\]]*\\](\\(.*?\\)| ?\\[.*?\\])/, false)) {\n        state.imageMarker = false;\n        state.imageAltText = true;\n        if (modeCfg.highlightFormatting) state.formatting = \"image\";\n        return getType(state);\n      }\n\n      if (ch === ']' && state.imageAltText) {\n        if (modeCfg.highlightFormatting) state.formatting = \"image\";\n        var type = getType(state);\n        state.imageAltText = false;\n        state.image = false;\n        state.inline = state.f = linkHref;\n        return type;\n      }\n\n      if (ch === '[' && !state.image) {\n        if (state.linkText && stream.match(/^.*?\\]/)) return getType(state);\n        state.linkText = true;\n        if (modeCfg.highlightFormatting) state.formatting = \"link\";\n        return getType(state);\n      }\n\n      if (ch === ']' && state.linkText) {\n        if (modeCfg.highlightFormatting) state.formatting = \"link\";\n        var type = getType(state);\n        state.linkText = false;\n        state.inline = state.f = stream.match(/\\(.*?\\)| ?\\[.*?\\]/, false) ? linkHref : inlineNormal;\n        return type;\n      }\n\n      if (ch === '<' && stream.match(/^(https?|ftps?):\\/\\/(?:[^\\\\>]|\\\\.)+>/, false)) {\n        state.f = state.inline = linkInline;\n        if (modeCfg.highlightFormatting) state.formatting = \"link\";\n        var type = getType(state);\n\n        if (type) {\n          type += \" \";\n        } else {\n          type = \"\";\n        }\n\n        return type + tokenTypes.linkInline;\n      }\n\n      if (ch === '<' && stream.match(/^[^> \\\\]+@(?:[^\\\\>]|\\\\.)+>/, false)) {\n        state.f = state.inline = linkInline;\n        if (modeCfg.highlightFormatting) state.formatting = \"link\";\n        var type = getType(state);\n\n        if (type) {\n          type += \" \";\n        } else {\n          type = \"\";\n        }\n\n        return type + tokenTypes.linkEmail;\n      }\n\n      if (modeCfg.xml && ch === '<' && stream.match(/^(!--|\\?|!\\[CDATA\\[|[a-z][a-z0-9-]*(?:\\s+[a-z_:.\\-]+(?:\\s*=\\s*[^>]+)?)*\\s*(?:>|$))/i, false)) {\n        var end = stream.string.indexOf(\">\", stream.pos);\n\n        if (end != -1) {\n          var atts = stream.string.substring(stream.start, end);\n          if (/markdown\\s*=\\s*('|\"){0,1}1('|\"){0,1}/.test(atts)) state.md_inside = true;\n        }\n\n        stream.backUp(1);\n        state.htmlState = CodeMirror.startState(htmlMode);\n        return switchBlock(stream, state, htmlBlock);\n      }\n\n      if (modeCfg.xml && ch === '<' && stream.match(/^\\/\\w*?>/)) {\n        state.md_inside = false;\n        return \"tag\";\n      } else if (ch === \"*\" || ch === \"_\") {\n        var len = 1,\n            before = stream.pos == 1 ? \" \" : stream.string.charAt(stream.pos - 2);\n\n        while (len < 3 && stream.eat(ch)) len++;\n\n        var after = stream.peek() || \" \"; // See http://spec.commonmark.org/0.27/#emphasis-and-strong-emphasis\n\n        var leftFlanking = !/\\s/.test(after) && (!punctuation.test(after) || /\\s/.test(before) || punctuation.test(before));\n        var rightFlanking = !/\\s/.test(before) && (!punctuation.test(before) || /\\s/.test(after) || punctuation.test(after));\n        var setEm = null,\n            setStrong = null;\n\n        if (len % 2) {\n          // Em\n          if (!state.em && leftFlanking && (ch === \"*\" || !rightFlanking || punctuation.test(before))) setEm = true;else if (state.em == ch && rightFlanking && (ch === \"*\" || !leftFlanking || punctuation.test(after))) setEm = false;\n        }\n\n        if (len > 1) {\n          // Strong\n          if (!state.strong && leftFlanking && (ch === \"*\" || !rightFlanking || punctuation.test(before))) setStrong = true;else if (state.strong == ch && rightFlanking && (ch === \"*\" || !leftFlanking || punctuation.test(after))) setStrong = false;\n        }\n\n        if (setStrong != null || setEm != null) {\n          if (modeCfg.highlightFormatting) state.formatting = setEm == null ? \"strong\" : setStrong == null ? \"em\" : \"strong em\";\n          if (setEm === true) state.em = ch;\n          if (setStrong === true) state.strong = ch;\n          var t = getType(state);\n          if (setEm === false) state.em = false;\n          if (setStrong === false) state.strong = false;\n          return t;\n        }\n      } else if (ch === ' ') {\n        if (stream.eat('*') || stream.eat('_')) {\n          // Probably surrounded by spaces\n          if (stream.peek() === ' ') {\n            // Surrounded by spaces, ignore\n            return getType(state);\n          } else {\n            // Not surrounded by spaces, back up pointer\n            stream.backUp(1);\n          }\n        }\n      }\n\n      if (modeCfg.strikethrough) {\n        if (ch === '~' && stream.eatWhile(ch)) {\n          if (state.strikethrough) {\n            // Remove strikethrough\n            if (modeCfg.highlightFormatting) state.formatting = \"strikethrough\";\n            var t = getType(state);\n            state.strikethrough = false;\n            return t;\n          } else if (stream.match(/^[^\\s]/, false)) {\n            // Add strikethrough\n            state.strikethrough = true;\n            if (modeCfg.highlightFormatting) state.formatting = \"strikethrough\";\n            return getType(state);\n          }\n        } else if (ch === ' ') {\n          if (stream.match(/^~~/, true)) {\n            // Probably surrounded by space\n            if (stream.peek() === ' ') {\n              // Surrounded by spaces, ignore\n              return getType(state);\n            } else {\n              // Not surrounded by spaces, back up pointer\n              stream.backUp(2);\n            }\n          }\n        }\n      }\n\n      if (modeCfg.emoji && ch === \":\" && stream.match(/^(?:[a-z_\\d+][a-z_\\d+-]*|\\-[a-z_\\d+][a-z_\\d+-]*):/)) {\n        state.emoji = true;\n        if (modeCfg.highlightFormatting) state.formatting = \"emoji\";\n        var retType = getType(state);\n        state.emoji = false;\n        return retType;\n      }\n\n      if (ch === ' ') {\n        if (stream.match(/^ +$/, false)) {\n          state.trailingSpace++;\n        } else if (state.trailingSpace) {\n          state.trailingSpaceNewLine = true;\n        }\n      }\n\n      return getType(state);\n    }\n\n    function linkInline(stream, state) {\n      var ch = stream.next();\n\n      if (ch === \">\") {\n        state.f = state.inline = inlineNormal;\n        if (modeCfg.highlightFormatting) state.formatting = \"link\";\n        var type = getType(state);\n\n        if (type) {\n          type += \" \";\n        } else {\n          type = \"\";\n        }\n\n        return type + tokenTypes.linkInline;\n      }\n\n      stream.match(/^[^>]+/, true);\n      return tokenTypes.linkInline;\n    }\n\n    function linkHref(stream, state) {\n      // Check if space, and return NULL if so (to avoid marking the space)\n      if (stream.eatSpace()) {\n        return null;\n      }\n\n      var ch = stream.next();\n\n      if (ch === '(' || ch === '[') {\n        state.f = state.inline = getLinkHrefInside(ch === \"(\" ? \")\" : \"]\");\n        if (modeCfg.highlightFormatting) state.formatting = \"link-string\";\n        state.linkHref = true;\n        return getType(state);\n      }\n\n      return 'error';\n    }\n\n    var linkRE = {\n      \")\": /^(?:[^\\\\\\(\\)]|\\\\.|\\((?:[^\\\\\\(\\)]|\\\\.)*\\))*?(?=\\))/,\n      \"]\": /^(?:[^\\\\\\[\\]]|\\\\.|\\[(?:[^\\\\\\[\\]]|\\\\.)*\\])*?(?=\\])/\n    };\n\n    function getLinkHrefInside(endChar) {\n      return function (stream, state) {\n        var ch = stream.next();\n\n        if (ch === endChar) {\n          state.f = state.inline = inlineNormal;\n          if (modeCfg.highlightFormatting) state.formatting = \"link-string\";\n          var returnState = getType(state);\n          state.linkHref = false;\n          return returnState;\n        }\n\n        stream.match(linkRE[endChar]);\n        state.linkHref = true;\n        return getType(state);\n      };\n    }\n\n    function footnoteLink(stream, state) {\n      if (stream.match(/^([^\\]\\\\]|\\\\.)*\\]:/, false)) {\n        state.f = footnoteLinkInside;\n        stream.next(); // Consume [\n\n        if (modeCfg.highlightFormatting) state.formatting = \"link\";\n        state.linkText = true;\n        return getType(state);\n      }\n\n      return switchInline(stream, state, inlineNormal);\n    }\n\n    function footnoteLinkInside(stream, state) {\n      if (stream.match(/^\\]:/, true)) {\n        state.f = state.inline = footnoteUrl;\n        if (modeCfg.highlightFormatting) state.formatting = \"link\";\n        var returnType = getType(state);\n        state.linkText = false;\n        return returnType;\n      }\n\n      stream.match(/^([^\\]\\\\]|\\\\.)+/, true);\n      return tokenTypes.linkText;\n    }\n\n    function footnoteUrl(stream, state) {\n      // Check if space, and return NULL if so (to avoid marking the space)\n      if (stream.eatSpace()) {\n        return null;\n      } // Match URL\n\n\n      stream.match(/^[^\\s]+/, true); // Check for link title\n\n      if (stream.peek() === undefined) {\n        // End of line, set flag to check next line\n        state.linkTitle = true;\n      } else {\n        // More content on line, check if link title\n        stream.match(/^(?:\\s+(?:\"(?:[^\"\\\\]|\\\\\\\\|\\\\.)+\"|'(?:[^'\\\\]|\\\\\\\\|\\\\.)+'|\\((?:[^)\\\\]|\\\\\\\\|\\\\.)+\\)))?/, true);\n      }\n\n      state.f = state.inline = inlineNormal;\n      return tokenTypes.linkHref + \" url\";\n    }\n\n    var mode = {\n      startState: function () {\n        return {\n          f: blockNormal,\n          prevLine: {\n            stream: null\n          },\n          thisLine: {\n            stream: null\n          },\n          block: blockNormal,\n          htmlState: null,\n          indentation: 0,\n          inline: inlineNormal,\n          text: handleText,\n          formatting: false,\n          linkText: false,\n          linkHref: false,\n          linkTitle: false,\n          code: 0,\n          em: false,\n          strong: false,\n          header: 0,\n          setext: 0,\n          hr: false,\n          taskList: false,\n          list: false,\n          listStack: [],\n          quote: 0,\n          trailingSpace: 0,\n          trailingSpaceNewLine: false,\n          strikethrough: false,\n          emoji: false,\n          fencedEndRE: null\n        };\n      },\n      copyState: function (s) {\n        return {\n          f: s.f,\n          prevLine: s.prevLine,\n          thisLine: s.thisLine,\n          block: s.block,\n          htmlState: s.htmlState && CodeMirror.copyState(htmlMode, s.htmlState),\n          indentation: s.indentation,\n          localMode: s.localMode,\n          localState: s.localMode ? CodeMirror.copyState(s.localMode, s.localState) : null,\n          inline: s.inline,\n          text: s.text,\n          formatting: false,\n          linkText: s.linkText,\n          linkTitle: s.linkTitle,\n          linkHref: s.linkHref,\n          code: s.code,\n          em: s.em,\n          strong: s.strong,\n          strikethrough: s.strikethrough,\n          emoji: s.emoji,\n          header: s.header,\n          setext: s.setext,\n          hr: s.hr,\n          taskList: s.taskList,\n          list: s.list,\n          listStack: s.listStack.slice(0),\n          quote: s.quote,\n          indentedCode: s.indentedCode,\n          trailingSpace: s.trailingSpace,\n          trailingSpaceNewLine: s.trailingSpaceNewLine,\n          md_inside: s.md_inside,\n          fencedEndRE: s.fencedEndRE\n        };\n      },\n      token: function (stream, state) {\n        // Reset state.formatting\n        state.formatting = false;\n\n        if (stream != state.thisLine.stream) {\n          state.header = 0;\n          state.hr = false;\n\n          if (stream.match(/^\\s*$/, true)) {\n            blankLine(state);\n            return null;\n          }\n\n          state.prevLine = state.thisLine;\n          state.thisLine = {\n            stream: stream\n          }; // Reset state.taskList\n\n          state.taskList = false; // Reset state.trailingSpace\n\n          state.trailingSpace = 0;\n          state.trailingSpaceNewLine = false;\n\n          if (!state.localState) {\n            state.f = state.block;\n\n            if (state.f != htmlBlock) {\n              var indentation = stream.match(/^\\s*/, true)[0].replace(/\\t/g, expandedTab).length;\n              state.indentation = indentation;\n              state.indentationDiff = null;\n              if (indentation > 0) return null;\n            }\n          }\n        }\n\n        return state.f(stream, state);\n      },\n      innerMode: function (state) {\n        if (state.block == htmlBlock) return {\n          state: state.htmlState,\n          mode: htmlMode\n        };\n        if (state.localState) return {\n          state: state.localState,\n          mode: state.localMode\n        };\n        return {\n          state: state,\n          mode: mode\n        };\n      },\n      indent: function (state, textAfter, line) {\n        if (state.block == htmlBlock && htmlMode.indent) return htmlMode.indent(state.htmlState, textAfter, line);\n        if (state.localState && state.localMode.indent) return state.localMode.indent(state.localState, textAfter, line);\n        return CodeMirror.Pass;\n      },\n      blankLine: blankLine,\n      getType: getType,\n      blockCommentStart: \"<!--\",\n      blockCommentEnd: \"-->\",\n      closeBrackets: \"()[]{}''\\\"\\\"``\",\n      fold: \"markdown\"\n    };\n    return mode;\n  }, \"xml\");\n  CodeMirror.defineMIME(\"text/markdown\", \"markdown\");\n  CodeMirror.defineMIME(\"text/x-markdown\", \"markdown\");\n});\n\n/***/ }),\n\n/***/ \"./node_modules/codemirror/mode/meta.js\":\n/*!**********************************************!*\\\n  !*** ./node_modules/codemirror/mode/meta.js ***!\n  \\**********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n(function (mod) {\n  if (true) // CommonJS\n    mod(__webpack_require__(/*! ../lib/codemirror */ \"./node_modules/codemirror/lib/codemirror.js\"));else {}\n})(function (CodeMirror) {\n  \"use strict\";\n\n  CodeMirror.modeInfo = [{\n    name: \"APL\",\n    mime: \"text/apl\",\n    mode: \"apl\",\n    ext: [\"dyalog\", \"apl\"]\n  }, {\n    name: \"PGP\",\n    mimes: [\"application/pgp\", \"application/pgp-encrypted\", \"application/pgp-keys\", \"application/pgp-signature\"],\n    mode: \"asciiarmor\",\n    ext: [\"asc\", \"pgp\", \"sig\"]\n  }, {\n    name: \"ASN.1\",\n    mime: \"text/x-ttcn-asn\",\n    mode: \"asn.1\",\n    ext: [\"asn\", \"asn1\"]\n  }, {\n    name: \"Asterisk\",\n    mime: \"text/x-asterisk\",\n    mode: \"asterisk\",\n    file: /^extensions\\.conf$/i\n  }, {\n    name: \"Brainfuck\",\n    mime: \"text/x-brainfuck\",\n    mode: \"brainfuck\",\n    ext: [\"b\", \"bf\"]\n  }, {\n    name: \"C\",\n    mime: \"text/x-csrc\",\n    mode: \"clike\",\n    ext: [\"c\", \"h\", \"ino\"]\n  }, {\n    name: \"C++\",\n    mime: \"text/x-c++src\",\n    mode: \"clike\",\n    ext: [\"cpp\", \"c++\", \"cc\", \"cxx\", \"hpp\", \"h++\", \"hh\", \"hxx\"],\n    alias: [\"cpp\"]\n  }, {\n    name: \"Cobol\",\n    mime: \"text/x-cobol\",\n    mode: \"cobol\",\n    ext: [\"cob\", \"cpy\"]\n  }, {\n    name: \"C#\",\n    mime: \"text/x-csharp\",\n    mode: \"clike\",\n    ext: [\"cs\"],\n    alias: [\"csharp\", \"cs\"]\n  }, {\n    name: \"Clojure\",\n    mime: \"text/x-clojure\",\n    mode: \"clojure\",\n    ext: [\"clj\", \"cljc\", \"cljx\"]\n  }, {\n    name: \"ClojureScript\",\n    mime: \"text/x-clojurescript\",\n    mode: \"clojure\",\n    ext: [\"cljs\"]\n  }, {\n    name: \"Closure Stylesheets (GSS)\",\n    mime: \"text/x-gss\",\n    mode: \"css\",\n    ext: [\"gss\"]\n  }, {\n    name: \"CMake\",\n    mime: \"text/x-cmake\",\n    mode: \"cmake\",\n    ext: [\"cmake\", \"cmake.in\"],\n    file: /^CMakeLists.txt$/\n  }, {\n    name: \"CoffeeScript\",\n    mimes: [\"application/vnd.coffeescript\", \"text/coffeescript\", \"text/x-coffeescript\"],\n    mode: \"coffeescript\",\n    ext: [\"coffee\"],\n    alias: [\"coffee\", \"coffee-script\"]\n  }, {\n    name: \"Common Lisp\",\n    mime: \"text/x-common-lisp\",\n    mode: \"commonlisp\",\n    ext: [\"cl\", \"lisp\", \"el\"],\n    alias: [\"lisp\"]\n  }, {\n    name: \"Cypher\",\n    mime: \"application/x-cypher-query\",\n    mode: \"cypher\",\n    ext: [\"cyp\", \"cypher\"]\n  }, {\n    name: \"Cython\",\n    mime: \"text/x-cython\",\n    mode: \"python\",\n    ext: [\"pyx\", \"pxd\", \"pxi\"]\n  }, {\n    name: \"Crystal\",\n    mime: \"text/x-crystal\",\n    mode: \"crystal\",\n    ext: [\"cr\"]\n  }, {\n    name: \"CSS\",\n    mime: \"text/css\",\n    mode: \"css\",\n    ext: [\"css\"]\n  }, {\n    name: \"CQL\",\n    mime: \"text/x-cassandra\",\n    mode: \"sql\",\n    ext: [\"cql\"]\n  }, {\n    name: \"D\",\n    mime: \"text/x-d\",\n    mode: \"d\",\n    ext: [\"d\"]\n  }, {\n    name: \"Dart\",\n    mimes: [\"application/dart\", \"text/x-dart\"],\n    mode: \"dart\",\n    ext: [\"dart\"]\n  }, {\n    name: \"diff\",\n    mime: \"text/x-diff\",\n    mode: \"diff\",\n    ext: [\"diff\", \"patch\"]\n  }, {\n    name: \"Django\",\n    mime: \"text/x-django\",\n    mode: \"django\"\n  }, {\n    name: \"Dockerfile\",\n    mime: \"text/x-dockerfile\",\n    mode: \"dockerfile\",\n    file: /^Dockerfile$/\n  }, {\n    name: \"DTD\",\n    mime: \"application/xml-dtd\",\n    mode: \"dtd\",\n    ext: [\"dtd\"]\n  }, {\n    name: \"Dylan\",\n    mime: \"text/x-dylan\",\n    mode: \"dylan\",\n    ext: [\"dylan\", \"dyl\", \"intr\"]\n  }, {\n    name: \"EBNF\",\n    mime: \"text/x-ebnf\",\n    mode: \"ebnf\"\n  }, {\n    name: \"ECL\",\n    mime: \"text/x-ecl\",\n    mode: \"ecl\",\n    ext: [\"ecl\"]\n  }, {\n    name: \"edn\",\n    mime: \"application/edn\",\n    mode: \"clojure\",\n    ext: [\"edn\"]\n  }, {\n    name: \"Eiffel\",\n    mime: \"text/x-eiffel\",\n    mode: \"eiffel\",\n    ext: [\"e\"]\n  }, {\n    name: \"Elm\",\n    mime: \"text/x-elm\",\n    mode: \"elm\",\n    ext: [\"elm\"]\n  }, {\n    name: \"Embedded Javascript\",\n    mime: \"application/x-ejs\",\n    mode: \"htmlembedded\",\n    ext: [\"ejs\"]\n  }, {\n    name: \"Embedded Ruby\",\n    mime: \"application/x-erb\",\n    mode: \"htmlembedded\",\n    ext: [\"erb\"]\n  }, {\n    name: \"Erlang\",\n    mime: \"text/x-erlang\",\n    mode: \"erlang\",\n    ext: [\"erl\"]\n  }, {\n    name: \"Esper\",\n    mime: \"text/x-esper\",\n    mode: \"sql\"\n  }, {\n    name: \"Factor\",\n    mime: \"text/x-factor\",\n    mode: \"factor\",\n    ext: [\"factor\"]\n  }, {\n    name: \"FCL\",\n    mime: \"text/x-fcl\",\n    mode: \"fcl\"\n  }, {\n    name: \"Forth\",\n    mime: \"text/x-forth\",\n    mode: \"forth\",\n    ext: [\"forth\", \"fth\", \"4th\"]\n  }, {\n    name: \"Fortran\",\n    mime: \"text/x-fortran\",\n    mode: \"fortran\",\n    ext: [\"f\", \"for\", \"f77\", \"f90\", \"f95\"]\n  }, {\n    name: \"F#\",\n    mime: \"text/x-fsharp\",\n    mode: \"mllike\",\n    ext: [\"fs\"],\n    alias: [\"fsharp\"]\n  }, {\n    name: \"Gas\",\n    mime: \"text/x-gas\",\n    mode: \"gas\",\n    ext: [\"s\"]\n  }, {\n    name: \"Gherkin\",\n    mime: \"text/x-feature\",\n    mode: \"gherkin\",\n    ext: [\"feature\"]\n  }, {\n    name: \"GitHub Flavored Markdown\",\n    mime: \"text/x-gfm\",\n    mode: \"gfm\",\n    file: /^(readme|contributing|history).md$/i\n  }, {\n    name: \"Go\",\n    mime: \"text/x-go\",\n    mode: \"go\",\n    ext: [\"go\"]\n  }, {\n    name: \"Groovy\",\n    mime: \"text/x-groovy\",\n    mode: \"groovy\",\n    ext: [\"groovy\", \"gradle\"],\n    file: /^Jenkinsfile$/\n  }, {\n    name: \"HAML\",\n    mime: \"text/x-haml\",\n    mode: \"haml\",\n    ext: [\"haml\"]\n  }, {\n    name: \"Haskell\",\n    mime: \"text/x-haskell\",\n    mode: \"haskell\",\n    ext: [\"hs\"]\n  }, {\n    name: \"Haskell (Literate)\",\n    mime: \"text/x-literate-haskell\",\n    mode: \"haskell-literate\",\n    ext: [\"lhs\"]\n  }, {\n    name: \"Haxe\",\n    mime: \"text/x-haxe\",\n    mode: \"haxe\",\n    ext: [\"hx\"]\n  }, {\n    name: \"HXML\",\n    mime: \"text/x-hxml\",\n    mode: \"haxe\",\n    ext: [\"hxml\"]\n  }, {\n    name: \"ASP.NET\",\n    mime: \"application/x-aspx\",\n    mode: \"htmlembedded\",\n    ext: [\"aspx\"],\n    alias: [\"asp\", \"aspx\"]\n  }, {\n    name: \"HTML\",\n    mime: \"text/html\",\n    mode: \"htmlmixed\",\n    ext: [\"html\", \"htm\", \"handlebars\", \"hbs\"],\n    alias: [\"xhtml\"]\n  }, {\n    name: \"HTTP\",\n    mime: \"message/http\",\n    mode: \"http\"\n  }, {\n    name: \"IDL\",\n    mime: \"text/x-idl\",\n    mode: \"idl\",\n    ext: [\"pro\"]\n  }, {\n    name: \"Pug\",\n    mime: \"text/x-pug\",\n    mode: \"pug\",\n    ext: [\"jade\", \"pug\"],\n    alias: [\"jade\"]\n  }, {\n    name: \"Java\",\n    mime: \"text/x-java\",\n    mode: \"clike\",\n    ext: [\"java\"]\n  }, {\n    name: \"Java Server Pages\",\n    mime: \"application/x-jsp\",\n    mode: \"htmlembedded\",\n    ext: [\"jsp\"],\n    alias: [\"jsp\"]\n  }, {\n    name: \"JavaScript\",\n    mimes: [\"text/javascript\", \"text/ecmascript\", \"application/javascript\", \"application/x-javascript\", \"application/ecmascript\"],\n    mode: \"javascript\",\n    ext: [\"js\"],\n    alias: [\"ecmascript\", \"js\", \"node\"]\n  }, {\n    name: \"JSON\",\n    mimes: [\"application/json\", \"application/x-json\"],\n    mode: \"javascript\",\n    ext: [\"json\", \"map\"],\n    alias: [\"json5\"]\n  }, {\n    name: \"JSON-LD\",\n    mime: \"application/ld+json\",\n    mode: \"javascript\",\n    ext: [\"jsonld\"],\n    alias: [\"jsonld\"]\n  }, {\n    name: \"JSX\",\n    mime: \"text/jsx\",\n    mode: \"jsx\",\n    ext: [\"jsx\"]\n  }, {\n    name: \"Jinja2\",\n    mime: \"text/jinja2\",\n    mode: \"jinja2\",\n    ext: [\"j2\", \"jinja\", \"jinja2\"]\n  }, {\n    name: \"Julia\",\n    mime: \"text/x-julia\",\n    mode: \"julia\",\n    ext: [\"jl\"]\n  }, {\n    name: \"Kotlin\",\n    mime: \"text/x-kotlin\",\n    mode: \"clike\",\n    ext: [\"kt\"]\n  }, {\n    name: \"LESS\",\n    mime: \"text/x-less\",\n    mode: \"css\",\n    ext: [\"less\"]\n  }, {\n    name: \"LiveScript\",\n    mime: \"text/x-livescript\",\n    mode: \"livescript\",\n    ext: [\"ls\"],\n    alias: [\"ls\"]\n  }, {\n    name: \"Lua\",\n    mime: \"text/x-lua\",\n    mode: \"lua\",\n    ext: [\"lua\"]\n  }, {\n    name: \"Markdown\",\n    mime: \"text/x-markdown\",\n    mode: \"markdown\",\n    ext: [\"markdown\", \"md\", \"mkd\"]\n  }, {\n    name: \"mIRC\",\n    mime: \"text/mirc\",\n    mode: \"mirc\"\n  }, {\n    name: \"MariaDB SQL\",\n    mime: \"text/x-mariadb\",\n    mode: \"sql\"\n  }, {\n    name: \"Mathematica\",\n    mime: \"text/x-mathematica\",\n    mode: \"mathematica\",\n    ext: [\"m\", \"nb\", \"wl\", \"wls\"]\n  }, {\n    name: \"Modelica\",\n    mime: \"text/x-modelica\",\n    mode: \"modelica\",\n    ext: [\"mo\"]\n  }, {\n    name: \"MUMPS\",\n    mime: \"text/x-mumps\",\n    mode: \"mumps\",\n    ext: [\"mps\"]\n  }, {\n    name: \"MS SQL\",\n    mime: \"text/x-mssql\",\n    mode: \"sql\"\n  }, {\n    name: \"mbox\",\n    mime: \"application/mbox\",\n    mode: \"mbox\",\n    ext: [\"mbox\"]\n  }, {\n    name: \"MySQL\",\n    mime: \"text/x-mysql\",\n    mode: \"sql\"\n  }, {\n    name: \"Nginx\",\n    mime: \"text/x-nginx-conf\",\n    mode: \"nginx\",\n    file: /nginx.*\\.conf$/i\n  }, {\n    name: \"NSIS\",\n    mime: \"text/x-nsis\",\n    mode: \"nsis\",\n    ext: [\"nsh\", \"nsi\"]\n  }, {\n    name: \"NTriples\",\n    mimes: [\"application/n-triples\", \"application/n-quads\", \"text/n-triples\"],\n    mode: \"ntriples\",\n    ext: [\"nt\", \"nq\"]\n  }, {\n    name: \"Objective-C\",\n    mime: \"text/x-objectivec\",\n    mode: \"clike\",\n    ext: [\"m\"],\n    alias: [\"objective-c\", \"objc\"]\n  }, {\n    name: \"Objective-C++\",\n    mime: \"text/x-objectivec++\",\n    mode: \"clike\",\n    ext: [\"mm\"],\n    alias: [\"objective-c++\", \"objc++\"]\n  }, {\n    name: \"OCaml\",\n    mime: \"text/x-ocaml\",\n    mode: \"mllike\",\n    ext: [\"ml\", \"mli\", \"mll\", \"mly\"]\n  }, {\n    name: \"Octave\",\n    mime: \"text/x-octave\",\n    mode: \"octave\",\n    ext: [\"m\"]\n  }, {\n    name: \"Oz\",\n    mime: \"text/x-oz\",\n    mode: \"oz\",\n    ext: [\"oz\"]\n  }, {\n    name: \"Pascal\",\n    mime: \"text/x-pascal\",\n    mode: \"pascal\",\n    ext: [\"p\", \"pas\"]\n  }, {\n    name: \"PEG.js\",\n    mime: \"null\",\n    mode: \"pegjs\",\n    ext: [\"jsonld\"]\n  }, {\n    name: \"Perl\",\n    mime: \"text/x-perl\",\n    mode: \"perl\",\n    ext: [\"pl\", \"pm\"]\n  }, {\n    name: \"PHP\",\n    mimes: [\"text/x-php\", \"application/x-httpd-php\", \"application/x-httpd-php-open\"],\n    mode: \"php\",\n    ext: [\"php\", \"php3\", \"php4\", \"php5\", \"php7\", \"phtml\"]\n  }, {\n    name: \"Pig\",\n    mime: \"text/x-pig\",\n    mode: \"pig\",\n    ext: [\"pig\"]\n  }, {\n    name: \"Plain Text\",\n    mime: \"text/plain\",\n    mode: \"null\",\n    ext: [\"txt\", \"text\", \"conf\", \"def\", \"list\", \"log\"]\n  }, {\n    name: \"PLSQL\",\n    mime: \"text/x-plsql\",\n    mode: \"sql\",\n    ext: [\"pls\"]\n  }, {\n    name: \"PostgreSQL\",\n    mime: \"text/x-pgsql\",\n    mode: \"sql\"\n  }, {\n    name: \"PowerShell\",\n    mime: \"application/x-powershell\",\n    mode: \"powershell\",\n    ext: [\"ps1\", \"psd1\", \"psm1\"]\n  }, {\n    name: \"Properties files\",\n    mime: \"text/x-properties\",\n    mode: \"properties\",\n    ext: [\"properties\", \"ini\", \"in\"],\n    alias: [\"ini\", \"properties\"]\n  }, {\n    name: \"ProtoBuf\",\n    mime: \"text/x-protobuf\",\n    mode: \"protobuf\",\n    ext: [\"proto\"]\n  }, {\n    name: \"Python\",\n    mime: \"text/x-python\",\n    mode: \"python\",\n    ext: [\"BUILD\", \"bzl\", \"py\", \"pyw\"],\n    file: /^(BUCK|BUILD)$/\n  }, {\n    name: \"Puppet\",\n    mime: \"text/x-puppet\",\n    mode: \"puppet\",\n    ext: [\"pp\"]\n  }, {\n    name: \"Q\",\n    mime: \"text/x-q\",\n    mode: \"q\",\n    ext: [\"q\"]\n  }, {\n    name: \"R\",\n    mime: \"text/x-rsrc\",\n    mode: \"r\",\n    ext: [\"r\", \"R\"],\n    alias: [\"rscript\"]\n  }, {\n    name: \"reStructuredText\",\n    mime: \"text/x-rst\",\n    mode: \"rst\",\n    ext: [\"rst\"],\n    alias: [\"rst\"]\n  }, {\n    name: \"RPM Changes\",\n    mime: \"text/x-rpm-changes\",\n    mode: \"rpm\"\n  }, {\n    name: \"RPM Spec\",\n    mime: \"text/x-rpm-spec\",\n    mode: \"rpm\",\n    ext: [\"spec\"]\n  }, {\n    name: \"Ruby\",\n    mime: \"text/x-ruby\",\n    mode: \"ruby\",\n    ext: [\"rb\"],\n    alias: [\"jruby\", \"macruby\", \"rake\", \"rb\", \"rbx\"]\n  }, {\n    name: \"Rust\",\n    mime: \"text/x-rustsrc\",\n    mode: \"rust\",\n    ext: [\"rs\"]\n  }, {\n    name: \"SAS\",\n    mime: \"text/x-sas\",\n    mode: \"sas\",\n    ext: [\"sas\"]\n  }, {\n    name: \"Sass\",\n    mime: \"text/x-sass\",\n    mode: \"sass\",\n    ext: [\"sass\"]\n  }, {\n    name: \"Scala\",\n    mime: \"text/x-scala\",\n    mode: \"clike\",\n    ext: [\"scala\"]\n  }, {\n    name: \"Scheme\",\n    mime: \"text/x-scheme\",\n    mode: \"scheme\",\n    ext: [\"scm\", \"ss\"]\n  }, {\n    name: \"SCSS\",\n    mime: \"text/x-scss\",\n    mode: \"css\",\n    ext: [\"scss\"]\n  }, {\n    name: \"Shell\",\n    mimes: [\"text/x-sh\", \"application/x-sh\"],\n    mode: \"shell\",\n    ext: [\"sh\", \"ksh\", \"bash\"],\n    alias: [\"bash\", \"sh\", \"zsh\"],\n    file: /^PKGBUILD$/\n  }, {\n    name: \"Sieve\",\n    mime: \"application/sieve\",\n    mode: \"sieve\",\n    ext: [\"siv\", \"sieve\"]\n  }, {\n    name: \"Slim\",\n    mimes: [\"text/x-slim\", \"application/x-slim\"],\n    mode: \"slim\",\n    ext: [\"slim\"]\n  }, {\n    name: \"Smalltalk\",\n    mime: \"text/x-stsrc\",\n    mode: \"smalltalk\",\n    ext: [\"st\"]\n  }, {\n    name: \"Smarty\",\n    mime: \"text/x-smarty\",\n    mode: \"smarty\",\n    ext: [\"tpl\"]\n  }, {\n    name: \"Solr\",\n    mime: \"text/x-solr\",\n    mode: \"solr\"\n  }, {\n    name: \"SML\",\n    mime: \"text/x-sml\",\n    mode: \"mllike\",\n    ext: [\"sml\", \"sig\", \"fun\", \"smackspec\"]\n  }, {\n    name: \"Soy\",\n    mime: \"text/x-soy\",\n    mode: \"soy\",\n    ext: [\"soy\"],\n    alias: [\"closure template\"]\n  }, {\n    name: \"SPARQL\",\n    mime: \"application/sparql-query\",\n    mode: \"sparql\",\n    ext: [\"rq\", \"sparql\"],\n    alias: [\"sparul\"]\n  }, {\n    name: \"Spreadsheet\",\n    mime: \"text/x-spreadsheet\",\n    mode: \"spreadsheet\",\n    alias: [\"excel\", \"formula\"]\n  }, {\n    name: \"SQL\",\n    mime: \"text/x-sql\",\n    mode: \"sql\",\n    ext: [\"sql\"]\n  }, {\n    name: \"SQLite\",\n    mime: \"text/x-sqlite\",\n    mode: \"sql\"\n  }, {\n    name: \"Squirrel\",\n    mime: \"text/x-squirrel\",\n    mode: \"clike\",\n    ext: [\"nut\"]\n  }, {\n    name: \"Stylus\",\n    mime: \"text/x-styl\",\n    mode: \"stylus\",\n    ext: [\"styl\"]\n  }, {\n    name: \"Swift\",\n    mime: \"text/x-swift\",\n    mode: \"swift\",\n    ext: [\"swift\"]\n  }, {\n    name: \"sTeX\",\n    mime: \"text/x-stex\",\n    mode: \"stex\"\n  }, {\n    name: \"LaTeX\",\n    mime: \"text/x-latex\",\n    mode: \"stex\",\n    ext: [\"text\", \"ltx\", \"tex\"],\n    alias: [\"tex\"]\n  }, {\n    name: \"SystemVerilog\",\n    mime: \"text/x-systemverilog\",\n    mode: \"verilog\",\n    ext: [\"v\", \"sv\", \"svh\"]\n  }, {\n    name: \"Tcl\",\n    mime: \"text/x-tcl\",\n    mode: \"tcl\",\n    ext: [\"tcl\"]\n  }, {\n    name: \"Textile\",\n    mime: \"text/x-textile\",\n    mode: \"textile\",\n    ext: [\"textile\"]\n  }, {\n    name: \"TiddlyWiki \",\n    mime: \"text/x-tiddlywiki\",\n    mode: \"tiddlywiki\"\n  }, {\n    name: \"Tiki wiki\",\n    mime: \"text/tiki\",\n    mode: \"tiki\"\n  }, {\n    name: \"TOML\",\n    mime: \"text/x-toml\",\n    mode: \"toml\",\n    ext: [\"toml\"]\n  }, {\n    name: \"Tornado\",\n    mime: \"text/x-tornado\",\n    mode: \"tornado\"\n  }, {\n    name: \"troff\",\n    mime: \"text/troff\",\n    mode: \"troff\",\n    ext: [\"1\", \"2\", \"3\", \"4\", \"5\", \"6\", \"7\", \"8\", \"9\"]\n  }, {\n    name: \"TTCN\",\n    mime: \"text/x-ttcn\",\n    mode: \"ttcn\",\n    ext: [\"ttcn\", \"ttcn3\", \"ttcnpp\"]\n  }, {\n    name: \"TTCN_CFG\",\n    mime: \"text/x-ttcn-cfg\",\n    mode: \"ttcn-cfg\",\n    ext: [\"cfg\"]\n  }, {\n    name: \"Turtle\",\n    mime: \"text/turtle\",\n    mode: \"turtle\",\n    ext: [\"ttl\"]\n  }, {\n    name: \"TypeScript\",\n    mime: \"application/typescript\",\n    mode: \"javascript\",\n    ext: [\"ts\"],\n    alias: [\"ts\"]\n  }, {\n    name: \"TypeScript-JSX\",\n    mime: \"text/typescript-jsx\",\n    mode: \"jsx\",\n    ext: [\"tsx\"],\n    alias: [\"tsx\"]\n  }, {\n    name: \"Twig\",\n    mime: \"text/x-twig\",\n    mode: \"twig\"\n  }, {\n    name: \"Web IDL\",\n    mime: \"text/x-webidl\",\n    mode: \"webidl\",\n    ext: [\"webidl\"]\n  }, {\n    name: \"VB.NET\",\n    mime: \"text/x-vb\",\n    mode: \"vb\",\n    ext: [\"vb\"]\n  }, {\n    name: \"VBScript\",\n    mime: \"text/vbscript\",\n    mode: \"vbscript\",\n    ext: [\"vbs\"]\n  }, {\n    name: \"Velocity\",\n    mime: \"text/velocity\",\n    mode: \"velocity\",\n    ext: [\"vtl\"]\n  }, {\n    name: \"Verilog\",\n    mime: \"text/x-verilog\",\n    mode: \"verilog\",\n    ext: [\"v\"]\n  }, {\n    name: \"VHDL\",\n    mime: \"text/x-vhdl\",\n    mode: \"vhdl\",\n    ext: [\"vhd\", \"vhdl\"]\n  }, {\n    name: \"Vue.js Component\",\n    mimes: [\"script/x-vue\", \"text/x-vue\"],\n    mode: \"vue\",\n    ext: [\"vue\"]\n  }, {\n    name: \"XML\",\n    mimes: [\"application/xml\", \"text/xml\"],\n    mode: \"xml\",\n    ext: [\"xml\", \"xsl\", \"xsd\", \"svg\"],\n    alias: [\"rss\", \"wsdl\", \"xsd\"]\n  }, {\n    name: \"XQuery\",\n    mime: \"application/xquery\",\n    mode: \"xquery\",\n    ext: [\"xy\", \"xquery\"]\n  }, {\n    name: \"Yacas\",\n    mime: \"text/x-yacas\",\n    mode: \"yacas\",\n    ext: [\"ys\"]\n  }, {\n    name: \"YAML\",\n    mimes: [\"text/x-yaml\", \"text/yaml\"],\n    mode: \"yaml\",\n    ext: [\"yaml\", \"yml\"],\n    alias: [\"yml\"]\n  }, {\n    name: \"Z80\",\n    mime: \"text/x-z80\",\n    mode: \"z80\",\n    ext: [\"z80\"]\n  }, {\n    name: \"mscgen\",\n    mime: \"text/x-mscgen\",\n    mode: \"mscgen\",\n    ext: [\"mscgen\", \"mscin\", \"msc\"]\n  }, {\n    name: \"xu\",\n    mime: \"text/x-xu\",\n    mode: \"mscgen\",\n    ext: [\"xu\"]\n  }, {\n    name: \"msgenny\",\n    mime: \"text/x-msgenny\",\n    mode: \"mscgen\",\n    ext: [\"msgenny\"]\n  }]; // Ensure all modes have a mime property for backwards compatibility\n\n  for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n    var info = CodeMirror.modeInfo[i];\n    if (info.mimes) info.mime = info.mimes[0];\n  }\n\n  CodeMirror.findModeByMIME = function (mime) {\n    mime = mime.toLowerCase();\n\n    for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n      var info = CodeMirror.modeInfo[i];\n      if (info.mime == mime) return info;\n      if (info.mimes) for (var j = 0; j < info.mimes.length; j++) if (info.mimes[j] == mime) return info;\n    }\n\n    if (/\\+xml$/.test(mime)) return CodeMirror.findModeByMIME(\"application/xml\");\n    if (/\\+json$/.test(mime)) return CodeMirror.findModeByMIME(\"application/json\");\n  };\n\n  CodeMirror.findModeByExtension = function (ext) {\n    ext = ext.toLowerCase();\n\n    for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n      var info = CodeMirror.modeInfo[i];\n      if (info.ext) for (var j = 0; j < info.ext.length; j++) if (info.ext[j] == ext) return info;\n    }\n  };\n\n  CodeMirror.findModeByFileName = function (filename) {\n    for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n      var info = CodeMirror.modeInfo[i];\n      if (info.file && info.file.test(filename)) return info;\n    }\n\n    var dot = filename.lastIndexOf(\".\");\n    var ext = dot > -1 && filename.substring(dot + 1, filename.length);\n    if (ext) return CodeMirror.findModeByExtension(ext);\n  };\n\n  CodeMirror.findModeByName = function (name) {\n    name = name.toLowerCase();\n\n    for (var i = 0; i < CodeMirror.modeInfo.length; i++) {\n      var info = CodeMirror.modeInfo[i];\n      if (info.name.toLowerCase() == name) return info;\n      if (info.alias) for (var j = 0; j < info.alias.length; j++) if (info.alias[j].toLowerCase() == name) return info;\n    }\n  };\n});\n\n/***/ }),\n\n/***/ \"./node_modules/codemirror/mode/xml/xml.js\":\n/*!*************************************************!*\\\n  !*** ./node_modules/codemirror/mode/xml/xml.js ***!\n  \\*************************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// CodeMirror, copyright (c) by Marijn Haverbeke and others\n// Distributed under an MIT license: https://codemirror.net/LICENSE\n(function (mod) {\n  if (true) // CommonJS\n    mod(__webpack_require__(/*! ../../lib/codemirror */ \"./node_modules/codemirror/lib/codemirror.js\"));else {}\n})(function (CodeMirror) {\n  \"use strict\";\n\n  var htmlConfig = {\n    autoSelfClosers: {\n      'area': true,\n      'base': true,\n      'br': true,\n      'col': true,\n      'command': true,\n      'embed': true,\n      'frame': true,\n      'hr': true,\n      'img': true,\n      'input': true,\n      'keygen': true,\n      'link': true,\n      'meta': true,\n      'param': true,\n      'source': true,\n      'track': true,\n      'wbr': true,\n      'menuitem': true\n    },\n    implicitlyClosed: {\n      'dd': true,\n      'li': true,\n      'optgroup': true,\n      'option': true,\n      'p': true,\n      'rp': true,\n      'rt': true,\n      'tbody': true,\n      'td': true,\n      'tfoot': true,\n      'th': true,\n      'tr': true\n    },\n    contextGrabbers: {\n      'dd': {\n        'dd': true,\n        'dt': true\n      },\n      'dt': {\n        'dd': true,\n        'dt': true\n      },\n      'li': {\n        'li': true\n      },\n      'option': {\n        'option': true,\n        'optgroup': true\n      },\n      'optgroup': {\n        'optgroup': true\n      },\n      'p': {\n        'address': true,\n        'article': true,\n        'aside': true,\n        'blockquote': true,\n        'dir': true,\n        'div': true,\n        'dl': true,\n        'fieldset': true,\n        'footer': true,\n        'form': true,\n        'h1': true,\n        'h2': true,\n        'h3': true,\n        'h4': true,\n        'h5': true,\n        'h6': true,\n        'header': true,\n        'hgroup': true,\n        'hr': true,\n        'menu': true,\n        'nav': true,\n        'ol': true,\n        'p': true,\n        'pre': true,\n        'section': true,\n        'table': true,\n        'ul': true\n      },\n      'rp': {\n        'rp': true,\n        'rt': true\n      },\n      'rt': {\n        'rp': true,\n        'rt': true\n      },\n      'tbody': {\n        'tbody': true,\n        'tfoot': true\n      },\n      'td': {\n        'td': true,\n        'th': true\n      },\n      'tfoot': {\n        'tbody': true\n      },\n      'th': {\n        'td': true,\n        'th': true\n      },\n      'thead': {\n        'tbody': true,\n        'tfoot': true\n      },\n      'tr': {\n        'tr': true\n      }\n    },\n    doNotIndent: {\n      \"pre\": true\n    },\n    allowUnquoted: true,\n    allowMissing: true,\n    caseFold: true\n  };\n  var xmlConfig = {\n    autoSelfClosers: {},\n    implicitlyClosed: {},\n    contextGrabbers: {},\n    doNotIndent: {},\n    allowUnquoted: false,\n    allowMissing: false,\n    allowMissingTagName: false,\n    caseFold: false\n  };\n  CodeMirror.defineMode(\"xml\", function (editorConf, config_) {\n    var indentUnit = editorConf.indentUnit;\n    var config = {};\n    var defaults = config_.htmlMode ? htmlConfig : xmlConfig;\n\n    for (var prop in defaults) config[prop] = defaults[prop];\n\n    for (var prop in config_) config[prop] = config_[prop]; // Return variables for tokenizers\n\n\n    var type, setStyle;\n\n    function inText(stream, state) {\n      function chain(parser) {\n        state.tokenize = parser;\n        return parser(stream, state);\n      }\n\n      var ch = stream.next();\n\n      if (ch == \"<\") {\n        if (stream.eat(\"!\")) {\n          if (stream.eat(\"[\")) {\n            if (stream.match(\"CDATA[\")) return chain(inBlock(\"atom\", \"]]>\"));else return null;\n          } else if (stream.match(\"--\")) {\n            return chain(inBlock(\"comment\", \"-->\"));\n          } else if (stream.match(\"DOCTYPE\", true, true)) {\n            stream.eatWhile(/[\\w\\._\\-]/);\n            return chain(doctype(1));\n          } else {\n            return null;\n          }\n        } else if (stream.eat(\"?\")) {\n          stream.eatWhile(/[\\w\\._\\-]/);\n          state.tokenize = inBlock(\"meta\", \"?>\");\n          return \"meta\";\n        } else {\n          type = stream.eat(\"/\") ? \"closeTag\" : \"openTag\";\n          state.tokenize = inTag;\n          return \"tag bracket\";\n        }\n      } else if (ch == \"&\") {\n        var ok;\n\n        if (stream.eat(\"#\")) {\n          if (stream.eat(\"x\")) {\n            ok = stream.eatWhile(/[a-fA-F\\d]/) && stream.eat(\";\");\n          } else {\n            ok = stream.eatWhile(/[\\d]/) && stream.eat(\";\");\n          }\n        } else {\n          ok = stream.eatWhile(/[\\w\\.\\-:]/) && stream.eat(\";\");\n        }\n\n        return ok ? \"atom\" : \"error\";\n      } else {\n        stream.eatWhile(/[^&<]/);\n        return null;\n      }\n    }\n\n    inText.isInText = true;\n\n    function inTag(stream, state) {\n      var ch = stream.next();\n\n      if (ch == \">\" || ch == \"/\" && stream.eat(\">\")) {\n        state.tokenize = inText;\n        type = ch == \">\" ? \"endTag\" : \"selfcloseTag\";\n        return \"tag bracket\";\n      } else if (ch == \"=\") {\n        type = \"equals\";\n        return null;\n      } else if (ch == \"<\") {\n        state.tokenize = inText;\n        state.state = baseState;\n        state.tagName = state.tagStart = null;\n        var next = state.tokenize(stream, state);\n        return next ? next + \" tag error\" : \"tag error\";\n      } else if (/[\\'\\\"]/.test(ch)) {\n        state.tokenize = inAttribute(ch);\n        state.stringStartCol = stream.column();\n        return state.tokenize(stream, state);\n      } else {\n        stream.match(/^[^\\s\\u00a0=<>\\\"\\']*[^\\s\\u00a0=<>\\\"\\'\\/]/);\n        return \"word\";\n      }\n    }\n\n    function inAttribute(quote) {\n      var closure = function (stream, state) {\n        while (!stream.eol()) {\n          if (stream.next() == quote) {\n            state.tokenize = inTag;\n            break;\n          }\n        }\n\n        return \"string\";\n      };\n\n      closure.isInAttribute = true;\n      return closure;\n    }\n\n    function inBlock(style, terminator) {\n      return function (stream, state) {\n        while (!stream.eol()) {\n          if (stream.match(terminator)) {\n            state.tokenize = inText;\n            break;\n          }\n\n          stream.next();\n        }\n\n        return style;\n      };\n    }\n\n    function doctype(depth) {\n      return function (stream, state) {\n        var ch;\n\n        while ((ch = stream.next()) != null) {\n          if (ch == \"<\") {\n            state.tokenize = doctype(depth + 1);\n            return state.tokenize(stream, state);\n          } else if (ch == \">\") {\n            if (depth == 1) {\n              state.tokenize = inText;\n              break;\n            } else {\n              state.tokenize = doctype(depth - 1);\n              return state.tokenize(stream, state);\n            }\n          }\n        }\n\n        return \"meta\";\n      };\n    }\n\n    function Context(state, tagName, startOfLine) {\n      this.prev = state.context;\n      this.tagName = tagName;\n      this.indent = state.indented;\n      this.startOfLine = startOfLine;\n      if (config.doNotIndent.hasOwnProperty(tagName) || state.context && state.context.noIndent) this.noIndent = true;\n    }\n\n    function popContext(state) {\n      if (state.context) state.context = state.context.prev;\n    }\n\n    function maybePopContext(state, nextTagName) {\n      var parentTagName;\n\n      while (true) {\n        if (!state.context) {\n          return;\n        }\n\n        parentTagName = state.context.tagName;\n\n        if (!config.contextGrabbers.hasOwnProperty(parentTagName) || !config.contextGrabbers[parentTagName].hasOwnProperty(nextTagName)) {\n          return;\n        }\n\n        popContext(state);\n      }\n    }\n\n    function baseState(type, stream, state) {\n      if (type == \"openTag\") {\n        state.tagStart = stream.column();\n        return tagNameState;\n      } else if (type == \"closeTag\") {\n        return closeTagNameState;\n      } else {\n        return baseState;\n      }\n    }\n\n    function tagNameState(type, stream, state) {\n      if (type == \"word\") {\n        state.tagName = stream.current();\n        setStyle = \"tag\";\n        return attrState;\n      } else if (config.allowMissingTagName && type == \"endTag\") {\n        setStyle = \"tag bracket\";\n        return attrState(type, stream, state);\n      } else {\n        setStyle = \"error\";\n        return tagNameState;\n      }\n    }\n\n    function closeTagNameState(type, stream, state) {\n      if (type == \"word\") {\n        var tagName = stream.current();\n        if (state.context && state.context.tagName != tagName && config.implicitlyClosed.hasOwnProperty(state.context.tagName)) popContext(state);\n\n        if (state.context && state.context.tagName == tagName || config.matchClosing === false) {\n          setStyle = \"tag\";\n          return closeState;\n        } else {\n          setStyle = \"tag error\";\n          return closeStateErr;\n        }\n      } else if (config.allowMissingTagName && type == \"endTag\") {\n        setStyle = \"tag bracket\";\n        return closeState(type, stream, state);\n      } else {\n        setStyle = \"error\";\n        return closeStateErr;\n      }\n    }\n\n    function closeState(type, _stream, state) {\n      if (type != \"endTag\") {\n        setStyle = \"error\";\n        return closeState;\n      }\n\n      popContext(state);\n      return baseState;\n    }\n\n    function closeStateErr(type, stream, state) {\n      setStyle = \"error\";\n      return closeState(type, stream, state);\n    }\n\n    function attrState(type, _stream, state) {\n      if (type == \"word\") {\n        setStyle = \"attribute\";\n        return attrEqState;\n      } else if (type == \"endTag\" || type == \"selfcloseTag\") {\n        var tagName = state.tagName,\n            tagStart = state.tagStart;\n        state.tagName = state.tagStart = null;\n\n        if (type == \"selfcloseTag\" || config.autoSelfClosers.hasOwnProperty(tagName)) {\n          maybePopContext(state, tagName);\n        } else {\n          maybePopContext(state, tagName);\n          state.context = new Context(state, tagName, tagStart == state.indented);\n        }\n\n        return baseState;\n      }\n\n      setStyle = \"error\";\n      return attrState;\n    }\n\n    function attrEqState(type, stream, state) {\n      if (type == \"equals\") return attrValueState;\n      if (!config.allowMissing) setStyle = \"error\";\n      return attrState(type, stream, state);\n    }\n\n    function attrValueState(type, stream, state) {\n      if (type == \"string\") return attrContinuedState;\n\n      if (type == \"word\" && config.allowUnquoted) {\n        setStyle = \"string\";\n        return attrState;\n      }\n\n      setStyle = \"error\";\n      return attrState(type, stream, state);\n    }\n\n    function attrContinuedState(type, stream, state) {\n      if (type == \"string\") return attrContinuedState;\n      return attrState(type, stream, state);\n    }\n\n    return {\n      startState: function (baseIndent) {\n        var state = {\n          tokenize: inText,\n          state: baseState,\n          indented: baseIndent || 0,\n          tagName: null,\n          tagStart: null,\n          context: null\n        };\n        if (baseIndent != null) state.baseIndent = baseIndent;\n        return state;\n      },\n      token: function (stream, state) {\n        if (!state.tagName && stream.sol()) state.indented = stream.indentation();\n        if (stream.eatSpace()) return null;\n        type = null;\n        var style = state.tokenize(stream, state);\n\n        if ((style || type) && style != \"comment\") {\n          setStyle = null;\n          state.state = state.state(type || style, stream, state);\n          if (setStyle) style = setStyle == \"error\" ? style + \" error\" : setStyle;\n        }\n\n        return style;\n      },\n      indent: function (state, textAfter, fullLine) {\n        var context = state.context; // Indent multi-line strings (e.g. css).\n\n        if (state.tokenize.isInAttribute) {\n          if (state.tagStart == state.indented) return state.stringStartCol + 1;else return state.indented + indentUnit;\n        }\n\n        if (context && context.noIndent) return CodeMirror.Pass;\n        if (state.tokenize != inTag && state.tokenize != inText) return fullLine ? fullLine.match(/^(\\s*)/)[0].length : 0; // Indent the starts of attribute names.\n\n        if (state.tagName) {\n          if (config.multilineTagIndentPastTag !== false) return state.tagStart + state.tagName.length + 2;else return state.tagStart + indentUnit * (config.multilineTagIndentFactor || 1);\n        }\n\n        if (config.alignCDATA && /<!\\[CDATA\\[/.test(textAfter)) return 0;\n        var tagAfter = textAfter && /^<(\\/)?([\\w_:\\.-]*)/.exec(textAfter);\n\n        if (tagAfter && tagAfter[1]) {\n          // Closing tag spotted\n          while (context) {\n            if (context.tagName == tagAfter[2]) {\n              context = context.prev;\n              break;\n            } else if (config.implicitlyClosed.hasOwnProperty(context.tagName)) {\n              context = context.prev;\n            } else {\n              break;\n            }\n          }\n        } else if (tagAfter) {\n          // Opening tag spotted\n          while (context) {\n            var grabbers = config.contextGrabbers[context.tagName];\n            if (grabbers && grabbers.hasOwnProperty(tagAfter[2])) context = context.prev;else break;\n          }\n        }\n\n        while (context && context.prev && !context.startOfLine) context = context.prev;\n\n        if (context) return context.indent + indentUnit;else return state.baseIndent || 0;\n      },\n      electricInput: /<\\/[\\s\\w:]+>$/,\n      blockCommentStart: \"<!--\",\n      blockCommentEnd: \"-->\",\n      configuration: config.htmlMode ? \"html\" : \"xml\",\n      helperType: config.htmlMode ? \"html\" : \"xml\",\n      skipAttribute: function (state) {\n        if (state.state == attrValueState) state.state = attrState;\n      },\n      xmlCurrentTag: function (state) {\n        return state.tagName ? {\n          name: state.tagName,\n          close: state.type == \"closeTag\"\n        } : null;\n      },\n      xmlCurrentContext: function (state) {\n        var context = [];\n\n        for (var cx = state.context; cx; cx = cx.prev) if (cx.tagName) context.push(cx.tagName);\n\n        return context.reverse();\n      }\n    };\n  });\n  CodeMirror.defineMIME(\"text/xml\", \"xml\");\n  CodeMirror.defineMIME(\"application/xml\", \"xml\");\n  if (!CodeMirror.mimeModes.hasOwnProperty(\"text/html\")) CodeMirror.defineMIME(\"text/html\", {\n    name: \"xml\",\n    htmlMode: true\n  });\n});\n\n/***/ }),\n\n/***/ \"./node_modules/markdownparser/index.js\":\n/*!**********************************************!*\\\n  !*** ./node_modules/markdownparser/index.js ***!\n  \\**********************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nmodule.exports = {\n  _patterns: [{\n    name: 'blockquote',\n    regex: /<blockquote.*?>([\\s\\S]*?)<\\/blockquote>/im,\n    callback: function (matches) {\n      return '> ' + this.trim(matches[1]);\n    }\n  }, {\n    name: 'pre-code',\n    regex: /<pre.*?>.*?<code.*?>([\\s\\S]*?)<\\/code>.*?<\\/pre>/im,\n    callback: function (matches) {\n      return '```\\n' + this.escape(matches[1]) + '\\n```'; //return '\\n```\\n$1\\n```\\n';\n    }\n  }, {\n    name: 'code',\n    regex: /<code.*?>([\\s\\S]*?)<\\/code>/im,\n    callback: function (matches) {\n      return '```' + this.escape(matches[1]) + '```';\n    }\n  }, {\n    name: 'pre',\n    regex: /<pre.*?>([\\s\\S]*?)<\\/pre>/im,\n    callback: function (matches) {\n      return '\\n```\\n' + this.escape(matches[1]) + '\\n```\\n';\n    }\n  }, {\n    name: 'heading',\n    regex: /<h(\\d*).*?>(.*?)<\\/h\\d*>/im,\n    callback: function (matches) {\n      var count = parseInt(matches[1]);\n      var string = '';\n\n      for (var x = 0; x < count; x++) {\n        string += '#';\n      }\n\n      return string + ' ' + this.trim(matches[2]) + '\\n';\n    }\n  }, {\n    name: 'p',\n    //regex: /<p>([\\s\\S]*?)<\\/p>/gim,\n    regex: /<p.*?>(.*?)<\\/p>/gmi,\n    callback: function () {\n      return '\\n$1\\n';\n    }\n  }, {\n    name: 'ul',\n    regex: /<ul.*?>([\\s\\S]*?)<\\/ul>/im,\n    callback: function (matches) {\n      var html = matches[1];\n      var regex = /<li>([\\s\\S]*?)<\\/li>/i;\n      var m = [];\n\n      while (m = regex.exec(html)) {\n        if (m) {\n          html = this.trim(html.replace(regex, '* $1{x}'));\n        }\n      }\n\n      return html.replace(/{x}/g, '\\n');\n      ;\n    }\n  }, {\n    name: 'ol',\n    regex: /<ol.*?>([\\s\\S]*?)<\\/ol>/im,\n    callback: function (matches) {\n      var html = matches[1];\n      var regex = /<li>([\\s\\S]*?)<\\/li>/i;\n      var m = [];\n\n      while (m = regex.exec(html)) {\n        if (m) {\n          html = this.trim(html.replace(regex, '1. $1{x}'));\n        }\n      }\n\n      return html.replace(/{x}/g, '\\n');\n    }\n  }, {\n    name: 'bold',\n    regex: /<(?:b|strong)>([\\s\\S]*?)<\\/\\w*>/gim,\n    callback: function () {\n      return '**$1**';\n    }\n  }, {\n    name: 'italic',\n    regex: /<(?:i|em)>([\\s\\S]*?)<\\/\\w*>/gim,\n    callback: function () {\n      return '*$1*';\n    }\n  }, {\n    name: 'del',\n    regex: /<del.*?>([\\s\\S]*?)<\\/\\w*>/gim,\n    callback: function () {\n      return '~~$1~~';\n    }\n  }, {\n    name: 'br',\n    regex: /<br.*?>/gim,\n    callback: function () {\n      return '\\n';\n    }\n  }, {\n    name: 'hr',\n    regex: /<hr.*?>/gim,\n    callback: function () {\n      return '\\n* * *\\n';\n    }\n  }, {\n    name: 'div',\n    regex: /<div.*?>(.*?)<\\/div>/gim,\n    callback: function () {\n      return '$1\\n';\n    }\n  }, {\n    name: 'a',\n    regex: /<a.*? href=\"([^\"]+)\".*?>([^<]+)<\\/a>/gim,\n    callback: function () {\n      return '[$2]($1 \"$2\")';\n    }\n  }, {\n    name: 'image',\n    regex: /<img.*?src\\s*=\\s*['\\\"]([^'\\\"]*?)['\\\"][^>]*?>/gim,\n    callback: function () {\n      return '![]($1)';\n    }\n  }, {\n    name: 'style',\n    regex: /<style\\b[^<]*(?:(?!<\\/style>)<[^<]*)*<\\/style>/gim,\n    callback: function () {\n      return '';\n    }\n  }, {\n    name: 'script',\n    regex: /<script\\b[^<]*(?:(?!<\\/script>)<[^<]*)*<\\/script>/gim,\n    callback: function () {\n      return '';\n    }\n  }, {\n    name: 'html',\n    regex: /<(?:.)*?>/gm,\n    callback: function () {\n      return '';\n    }\n  }],\n  escape: function (html) {\n    return html.replace(/</g, \"&lt;\").replace(/>/g, \"&gt;\"); // .replace(/\"/g, \"&quot;\")\n    // .replace(/'/g, \"&#039;\");\n  },\n  decode: function (str) {\n    return str.replace(/&nbsp;/g, ' ').replace(/&amp;/g, '&').replace(/&gt;/g, '>').replace(/&lt;/g, '<').replace(/&quot;/g, '\"').replace(/&#(\\d+);/g, function (match, dec) {\n      return String.fromCharCode(dec);\n    });\n  },\n  trim: function (str) {\n    return str.replace(/(?:(?:^|\\n)\\s+|\\s+(?:$|\\n))/g, '').replace(/\\s+/g, ' ');\n  },\n  parse: function (html, regexs) {\n    var _t = this;\n\n    if (html && html.length > 0) {\n      if (regexs) {\n        regexs = Array.isArray(regexs) ? regexs : [regexs];\n\n        this._patterns.concat(regexs);\n      }\n\n      this._patterns.forEach(function (p) {\n        var matches = [];\n\n        while (matches = p.regex.exec(html)) {\n          // console.log(matches);\n          if (matches) {\n            var txt = '$1';\n\n            if (p.callback && typeof p.callback === 'function') {\n              txt = p.callback.call(_t, matches);\n            }\n\n            html = html.replace(p.regex, txt);\n          }\n        }\n      });\n    }\n\n    return this.decode(html);\n  }\n};\n\n/***/ }),\n\n/***/ \"./node_modules/marked/src/Lexer.js\":\n/*!******************************************!*\\\n  !*** ./node_modules/marked/src/Lexer.js ***!\n  \\******************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nconst Tokenizer = __webpack_require__(/*! ./Tokenizer.js */ \"./node_modules/marked/src/Tokenizer.js\");\n\nconst {\n  defaults\n} = __webpack_require__(/*! ./defaults.js */ \"./node_modules/marked/src/defaults.js\");\n\nconst {\n  block,\n  inline\n} = __webpack_require__(/*! ./rules.js */ \"./node_modules/marked/src/rules.js\");\n/**\n * smartypants text replacement\n */\n\n\nfunction smartypants(text) {\n  return text // em-dashes\n  .replace(/---/g, '\\u2014') // en-dashes\n  .replace(/--/g, '\\u2013') // opening singles\n  .replace(/(^|[-\\u2014/(\\[{\"\\s])'/g, '$1\\u2018') // closing singles & apostrophes\n  .replace(/'/g, '\\u2019') // opening doubles\n  .replace(/(^|[-\\u2014/(\\[{\\u2018\\s])\"/g, '$1\\u201c') // closing doubles\n  .replace(/\"/g, '\\u201d') // ellipses\n  .replace(/\\.{3}/g, '\\u2026');\n}\n/**\n * mangle email addresses\n */\n\n\nfunction mangle(text) {\n  let out = '',\n      i,\n      ch;\n  const l = text.length;\n\n  for (i = 0; i < l; i++) {\n    ch = text.charCodeAt(i);\n\n    if (Math.random() > 0.5) {\n      ch = 'x' + ch.toString(16);\n    }\n\n    out += '&#' + ch + ';';\n  }\n\n  return out;\n}\n/**\n * Block Lexer\n */\n\n\nmodule.exports = class Lexer {\n  constructor(options) {\n    this.tokens = [];\n    this.tokens.links = Object.create(null);\n    this.options = options || defaults;\n    this.options.tokenizer = this.options.tokenizer || new Tokenizer();\n    this.tokenizer = this.options.tokenizer;\n    this.tokenizer.options = this.options;\n    const rules = {\n      block: block.normal,\n      inline: inline.normal\n    };\n\n    if (this.options.pedantic) {\n      rules.block = block.pedantic;\n      rules.inline = inline.pedantic;\n    } else if (this.options.gfm) {\n      rules.block = block.gfm;\n\n      if (this.options.breaks) {\n        rules.inline = inline.breaks;\n      } else {\n        rules.inline = inline.gfm;\n      }\n    }\n\n    this.tokenizer.rules = rules;\n  }\n  /**\n   * Expose Rules\n   */\n\n\n  static get rules() {\n    return {\n      block,\n      inline\n    };\n  }\n  /**\n   * Static Lex Method\n   */\n\n\n  static lex(src, options) {\n    const lexer = new Lexer(options);\n    return lexer.lex(src);\n  }\n  /**\n   * Preprocessing\n   */\n\n\n  lex(src) {\n    src = src.replace(/\\r\\n|\\r/g, '\\n').replace(/\\t/g, '    ');\n    this.blockTokens(src, this.tokens, true);\n    this.inline(this.tokens);\n    return this.tokens;\n  }\n  /**\n   * Lexing\n   */\n\n\n  blockTokens(src, tokens = [], top = true) {\n    src = src.replace(/^ +$/gm, '');\n    let token, i, l;\n\n    while (src) {\n      // newline\n      if (token = this.tokenizer.space(src)) {\n        src = src.substring(token.raw.length);\n\n        if (token.type) {\n          tokens.push(token);\n        }\n\n        continue;\n      } // code\n\n\n      if (token = this.tokenizer.code(src, tokens)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // fences\n\n\n      if (token = this.tokenizer.fences(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // heading\n\n\n      if (token = this.tokenizer.heading(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // table no leading pipe (gfm)\n\n\n      if (token = this.tokenizer.nptable(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // hr\n\n\n      if (token = this.tokenizer.hr(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // blockquote\n\n\n      if (token = this.tokenizer.blockquote(src)) {\n        src = src.substring(token.raw.length);\n        token.tokens = this.blockTokens(token.text, [], top);\n        tokens.push(token);\n        continue;\n      } // list\n\n\n      if (token = this.tokenizer.list(src)) {\n        src = src.substring(token.raw.length);\n        l = token.items.length;\n\n        for (i = 0; i < l; i++) {\n          token.items[i].tokens = this.blockTokens(token.items[i].text, [], false);\n        }\n\n        tokens.push(token);\n        continue;\n      } // html\n\n\n      if (token = this.tokenizer.html(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // def\n\n\n      if (top && (token = this.tokenizer.def(src))) {\n        src = src.substring(token.raw.length);\n\n        if (!this.tokens.links[token.tag]) {\n          this.tokens.links[token.tag] = {\n            href: token.href,\n            title: token.title\n          };\n        }\n\n        continue;\n      } // table (gfm)\n\n\n      if (token = this.tokenizer.table(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // lheading\n\n\n      if (token = this.tokenizer.lheading(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // top-level paragraph\n\n\n      if (top && (token = this.tokenizer.paragraph(src))) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // text\n\n\n      if (token = this.tokenizer.text(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      if (src) {\n        const errMsg = 'Infinite loop on byte: ' + src.charCodeAt(0);\n\n        if (this.options.silent) {\n          console.error(errMsg);\n          break;\n        } else {\n          throw new Error(errMsg);\n        }\n      }\n    }\n\n    return tokens;\n  }\n\n  inline(tokens) {\n    let i, j, k, l2, row, token;\n    const l = tokens.length;\n\n    for (i = 0; i < l; i++) {\n      token = tokens[i];\n\n      switch (token.type) {\n        case 'paragraph':\n        case 'text':\n        case 'heading':\n          {\n            token.tokens = [];\n            this.inlineTokens(token.text, token.tokens);\n            break;\n          }\n\n        case 'table':\n          {\n            token.tokens = {\n              header: [],\n              cells: []\n            }; // header\n\n            l2 = token.header.length;\n\n            for (j = 0; j < l2; j++) {\n              token.tokens.header[j] = [];\n              this.inlineTokens(token.header[j], token.tokens.header[j]);\n            } // cells\n\n\n            l2 = token.cells.length;\n\n            for (j = 0; j < l2; j++) {\n              row = token.cells[j];\n              token.tokens.cells[j] = [];\n\n              for (k = 0; k < row.length; k++) {\n                token.tokens.cells[j][k] = [];\n                this.inlineTokens(row[k], token.tokens.cells[j][k]);\n              }\n            }\n\n            break;\n          }\n\n        case 'blockquote':\n          {\n            this.inline(token.tokens);\n            break;\n          }\n\n        case 'list':\n          {\n            l2 = token.items.length;\n\n            for (j = 0; j < l2; j++) {\n              this.inline(token.items[j].tokens);\n            }\n\n            break;\n          }\n\n        default:\n          {// do nothing\n          }\n      }\n    }\n\n    return tokens;\n  }\n  /**\n   * Lexing/Compiling\n   */\n\n\n  inlineTokens(src, tokens = [], inLink = false, inRawBlock = false) {\n    let token;\n\n    while (src) {\n      // escape\n      if (token = this.tokenizer.escape(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // tag\n\n\n      if (token = this.tokenizer.tag(src, inLink, inRawBlock)) {\n        src = src.substring(token.raw.length);\n        inLink = token.inLink;\n        inRawBlock = token.inRawBlock;\n        tokens.push(token);\n        continue;\n      } // link\n\n\n      if (token = this.tokenizer.link(src)) {\n        src = src.substring(token.raw.length);\n\n        if (token.type === 'link') {\n          token.tokens = this.inlineTokens(token.text, [], true, inRawBlock);\n        }\n\n        tokens.push(token);\n        continue;\n      } // reflink, nolink\n\n\n      if (token = this.tokenizer.reflink(src, this.tokens.links)) {\n        src = src.substring(token.raw.length);\n\n        if (token.type === 'link') {\n          token.tokens = this.inlineTokens(token.text, [], true, inRawBlock);\n        }\n\n        tokens.push(token);\n        continue;\n      } // strong\n\n\n      if (token = this.tokenizer.strong(src)) {\n        src = src.substring(token.raw.length);\n        token.tokens = this.inlineTokens(token.text, [], inLink, inRawBlock);\n        tokens.push(token);\n        continue;\n      } // em\n\n\n      if (token = this.tokenizer.em(src)) {\n        src = src.substring(token.raw.length);\n        token.tokens = this.inlineTokens(token.text, [], inLink, inRawBlock);\n        tokens.push(token);\n        continue;\n      } // code\n\n\n      if (token = this.tokenizer.codespan(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // br\n\n\n      if (token = this.tokenizer.br(src)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // del (gfm)\n\n\n      if (token = this.tokenizer.del(src)) {\n        src = src.substring(token.raw.length);\n        token.tokens = this.inlineTokens(token.text, [], inLink, inRawBlock);\n        tokens.push(token);\n        continue;\n      } // autolink\n\n\n      if (token = this.tokenizer.autolink(src, mangle)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // url (gfm)\n\n\n      if (!inLink && (token = this.tokenizer.url(src, mangle))) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      } // text\n\n\n      if (token = this.tokenizer.inlineText(src, inRawBlock, smartypants)) {\n        src = src.substring(token.raw.length);\n        tokens.push(token);\n        continue;\n      }\n\n      if (src) {\n        const errMsg = 'Infinite loop on byte: ' + src.charCodeAt(0);\n\n        if (this.options.silent) {\n          console.error(errMsg);\n          break;\n        } else {\n          throw new Error(errMsg);\n        }\n      }\n    }\n\n    return tokens;\n  }\n\n};\n\n/***/ }),\n\n/***/ \"./node_modules/marked/src/Parser.js\":\n/*!*******************************************!*\\\n  !*** ./node_modules/marked/src/Parser.js ***!\n  \\*******************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nconst Renderer = __webpack_require__(/*! ./Renderer.js */ \"./node_modules/marked/src/Renderer.js\");\n\nconst TextRenderer = __webpack_require__(/*! ./TextRenderer.js */ \"./node_modules/marked/src/TextRenderer.js\");\n\nconst Slugger = __webpack_require__(/*! ./Slugger.js */ \"./node_modules/marked/src/Slugger.js\");\n\nconst {\n  defaults\n} = __webpack_require__(/*! ./defaults.js */ \"./node_modules/marked/src/defaults.js\");\n\nconst {\n  unescape\n} = __webpack_require__(/*! ./helpers.js */ \"./node_modules/marked/src/helpers.js\");\n/**\n * Parsing & Compiling\n */\n\n\nmodule.exports = class Parser {\n  constructor(options) {\n    this.options = options || defaults;\n    this.options.renderer = this.options.renderer || new Renderer();\n    this.renderer = this.options.renderer;\n    this.renderer.options = this.options;\n    this.textRenderer = new TextRenderer();\n    this.slugger = new Slugger();\n  }\n  /**\n   * Static Parse Method\n   */\n\n\n  static parse(tokens, options) {\n    const parser = new Parser(options);\n    return parser.parse(tokens);\n  }\n  /**\n   * Parse Loop\n   */\n\n\n  parse(tokens, top = true) {\n    let out = '',\n        i,\n        j,\n        k,\n        l2,\n        l3,\n        row,\n        cell,\n        header,\n        body,\n        token,\n        ordered,\n        start,\n        loose,\n        itemBody,\n        item,\n        checked,\n        task,\n        checkbox;\n    const l = tokens.length;\n\n    for (i = 0; i < l; i++) {\n      token = tokens[i];\n\n      switch (token.type) {\n        case 'space':\n          {\n            continue;\n          }\n\n        case 'hr':\n          {\n            out += this.renderer.hr();\n            continue;\n          }\n\n        case 'heading':\n          {\n            out += this.renderer.heading(this.parseInline(token.tokens), token.depth, unescape(this.parseInline(token.tokens, this.textRenderer)), this.slugger);\n            continue;\n          }\n\n        case 'code':\n          {\n            out += this.renderer.code(token.text, token.lang, token.escaped);\n            continue;\n          }\n\n        case 'table':\n          {\n            header = ''; // header\n\n            cell = '';\n            l2 = token.header.length;\n\n            for (j = 0; j < l2; j++) {\n              cell += this.renderer.tablecell(this.parseInline(token.tokens.header[j]), {\n                header: true,\n                align: token.align[j]\n              });\n            }\n\n            header += this.renderer.tablerow(cell);\n            body = '';\n            l2 = token.cells.length;\n\n            for (j = 0; j < l2; j++) {\n              row = token.tokens.cells[j];\n              cell = '';\n              l3 = row.length;\n\n              for (k = 0; k < l3; k++) {\n                cell += this.renderer.tablecell(this.parseInline(row[k]), {\n                  header: false,\n                  align: token.align[k]\n                });\n              }\n\n              body += this.renderer.tablerow(cell);\n            }\n\n            out += this.renderer.table(header, body);\n            continue;\n          }\n\n        case 'blockquote':\n          {\n            body = this.parse(token.tokens);\n            out += this.renderer.blockquote(body);\n            continue;\n          }\n\n        case 'list':\n          {\n            ordered = token.ordered;\n            start = token.start;\n            loose = token.loose;\n            l2 = token.items.length;\n            body = '';\n\n            for (j = 0; j < l2; j++) {\n              item = token.items[j];\n              checked = item.checked;\n              task = item.task;\n              itemBody = '';\n\n              if (item.task) {\n                checkbox = this.renderer.checkbox(checked);\n\n                if (loose) {\n                  if (item.tokens[0].type === 'text') {\n                    item.tokens[0].text = checkbox + ' ' + item.tokens[0].text;\n\n                    if (item.tokens[0].tokens && item.tokens[0].tokens.length > 0 && item.tokens[0].tokens[0].type === 'text') {\n                      item.tokens[0].tokens[0].text = checkbox + ' ' + item.tokens[0].tokens[0].text;\n                    }\n                  } else {\n                    item.tokens.unshift({\n                      type: 'text',\n                      text: checkbox\n                    });\n                  }\n                } else {\n                  itemBody += checkbox;\n                }\n              }\n\n              itemBody += this.parse(item.tokens, loose);\n              body += this.renderer.listitem(itemBody, task, checked);\n            }\n\n            out += this.renderer.list(body, ordered, start);\n            continue;\n          }\n\n        case 'html':\n          {\n            // TODO parse inline content if parameter markdown=1\n            out += this.renderer.html(token.text);\n            continue;\n          }\n\n        case 'paragraph':\n          {\n            out += this.renderer.paragraph(this.parseInline(token.tokens));\n            continue;\n          }\n\n        case 'text':\n          {\n            body = token.tokens ? this.parseInline(token.tokens) : token.text;\n\n            while (i + 1 < l && tokens[i + 1].type === 'text') {\n              token = tokens[++i];\n              body += '\\n' + (token.tokens ? this.parseInline(token.tokens) : token.text);\n            }\n\n            out += top ? this.renderer.paragraph(body) : body;\n            continue;\n          }\n\n        default:\n          {\n            const errMsg = 'Token with \"' + token.type + '\" type was not found.';\n\n            if (this.options.silent) {\n              console.error(errMsg);\n              return;\n            } else {\n              throw new Error(errMsg);\n            }\n          }\n      }\n    }\n\n    return out;\n  }\n  /**\n   * Parse Inline Tokens\n   */\n\n\n  parseInline(tokens, renderer) {\n    renderer = renderer || this.renderer;\n    let out = '',\n        i,\n        token;\n    const l = tokens.length;\n\n    for (i = 0; i < l; i++) {\n      token = tokens[i];\n\n      switch (token.type) {\n        case 'escape':\n          {\n            out += renderer.text(token.text);\n            break;\n          }\n\n        case 'html':\n          {\n            out += renderer.html(token.text);\n            break;\n          }\n\n        case 'link':\n          {\n            out += renderer.link(token.href, token.title, this.parseInline(token.tokens, renderer));\n            break;\n          }\n\n        case 'image':\n          {\n            out += renderer.image(token.href, token.title, token.text);\n            break;\n          }\n\n        case 'strong':\n          {\n            out += renderer.strong(this.parseInline(token.tokens, renderer));\n            break;\n          }\n\n        case 'em':\n          {\n            out += renderer.em(this.parseInline(token.tokens, renderer));\n            break;\n          }\n\n        case 'codespan':\n          {\n            out += renderer.codespan(token.text);\n            break;\n          }\n\n        case 'br':\n          {\n            out += renderer.br();\n            break;\n          }\n\n        case 'del':\n          {\n            out += renderer.del(this.parseInline(token.tokens, renderer));\n            break;\n          }\n\n        case 'text':\n          {\n            out += renderer.text(token.text);\n            break;\n          }\n\n        default:\n          {\n            const errMsg = 'Token with \"' + token.type + '\" type was not found.';\n\n            if (this.options.silent) {\n              console.error(errMsg);\n              return;\n            } else {\n              throw new Error(errMsg);\n            }\n          }\n      }\n    }\n\n    return out;\n  }\n\n};\n\n/***/ }),\n\n/***/ \"./node_modules/marked/src/Renderer.js\":\n/*!*********************************************!*\\\n  !*** ./node_modules/marked/src/Renderer.js ***!\n  \\*********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nconst {\n  defaults\n} = __webpack_require__(/*! ./defaults.js */ \"./node_modules/marked/src/defaults.js\");\n\nconst {\n  cleanUrl,\n  escape\n} = __webpack_require__(/*! ./helpers.js */ \"./node_modules/marked/src/helpers.js\");\n/**\n * Renderer\n */\n\n\nmodule.exports = class Renderer {\n  constructor(options) {\n    this.options = options || defaults;\n  }\n\n  code(code, infostring, escaped) {\n    const lang = (infostring || '').match(/\\S*/)[0];\n\n    if (this.options.highlight) {\n      const out = this.options.highlight(code, lang);\n\n      if (out != null && out !== code) {\n        escaped = true;\n        code = out;\n      }\n    }\n\n    if (!lang) {\n      return '<pre><code>' + (escaped ? code : escape(code, true)) + '</code></pre>';\n    }\n\n    return '<pre><code class=\"' + this.options.langPrefix + escape(lang, true) + '\">' + (escaped ? code : escape(code, true)) + '</code></pre>\\n';\n  }\n\n  blockquote(quote) {\n    return '<blockquote>\\n' + quote + '</blockquote>\\n';\n  }\n\n  html(html) {\n    return html;\n  }\n\n  heading(text, level, raw, slugger) {\n    if (this.options.headerIds) {\n      return '<h' + level + ' id=\"' + this.options.headerPrefix + slugger.slug(raw) + '\">' + text + '</h' + level + '>\\n';\n    } // ignore IDs\n\n\n    return '<h' + level + '>' + text + '</h' + level + '>\\n';\n  }\n\n  hr() {\n    return this.options.xhtml ? '<hr/>\\n' : '<hr>\\n';\n  }\n\n  list(body, ordered, start) {\n    const type = ordered ? 'ol' : 'ul',\n          startatt = ordered && start !== 1 ? ' start=\"' + start + '\"' : '';\n    return '<' + type + startatt + '>\\n' + body + '</' + type + '>\\n';\n  }\n\n  listitem(text) {\n    return '<li>' + text + '</li>\\n';\n  }\n\n  checkbox(checked) {\n    return '<input ' + (checked ? 'checked=\"\" ' : '') + 'disabled=\"\" type=\"checkbox\"' + (this.options.xhtml ? ' /' : '') + '> ';\n  }\n\n  paragraph(text) {\n    return '<p>' + text + '</p>\\n';\n  }\n\n  table(header, body) {\n    if (body) body = '<tbody>' + body + '</tbody>';\n    return '<table>\\n' + '<thead>\\n' + header + '</thead>\\n' + body + '</table>\\n';\n  }\n\n  tablerow(content) {\n    return '<tr>\\n' + content + '</tr>\\n';\n  }\n\n  tablecell(content, flags) {\n    const type = flags.header ? 'th' : 'td';\n    const tag = flags.align ? '<' + type + ' align=\"' + flags.align + '\">' : '<' + type + '>';\n    return tag + content + '</' + type + '>\\n';\n  } // span level renderer\n\n\n  strong(text) {\n    return '<strong>' + text + '</strong>';\n  }\n\n  em(text) {\n    return '<em>' + text + '</em>';\n  }\n\n  codespan(text) {\n    return '<code>' + text + '</code>';\n  }\n\n  br() {\n    return this.options.xhtml ? '<br/>' : '<br>';\n  }\n\n  del(text) {\n    return '<del>' + text + '</del>';\n  }\n\n  link(href, title, text) {\n    href = cleanUrl(this.options.sanitize, this.options.baseUrl, href);\n\n    if (href === null) {\n      return text;\n    }\n\n    let out = '<a href=\"' + escape(href) + '\"';\n\n    if (title) {\n      out += ' title=\"' + title + '\"';\n    }\n\n    out += '>' + text + '</a>';\n    return out;\n  }\n\n  image(href, title, text) {\n    href = cleanUrl(this.options.sanitize, this.options.baseUrl, href);\n\n    if (href === null) {\n      return text;\n    }\n\n    let out = '<img src=\"' + href + '\" alt=\"' + text + '\"';\n\n    if (title) {\n      out += ' title=\"' + title + '\"';\n    }\n\n    out += this.options.xhtml ? '/>' : '>';\n    return out;\n  }\n\n  text(text) {\n    return text;\n  }\n\n};\n\n/***/ }),\n\n/***/ \"./node_modules/marked/src/Slugger.js\":\n/*!********************************************!*\\\n  !*** ./node_modules/marked/src/Slugger.js ***!\n  \\********************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\n/**\n * Slugger generates header id\n */\nmodule.exports = class Slugger {\n  constructor() {\n    this.seen = {};\n  }\n  /**\n   * Convert string to unique id\n   */\n\n\n  slug(value) {\n    let slug = value.toLowerCase().trim() // remove html tags\n    .replace(/<[!\\/a-z].*?>/ig, '') // remove unwanted chars\n    .replace(/[\\u2000-\\u206F\\u2E00-\\u2E7F\\\\'!\"#$%&()*+,./:;<=>?@[\\]^`{|}~]/g, '').replace(/\\s/g, '-');\n\n    if (this.seen.hasOwnProperty(slug)) {\n      const originalSlug = slug;\n\n      do {\n        this.seen[originalSlug]++;\n        slug = originalSlug + '-' + this.seen[originalSlug];\n      } while (this.seen.hasOwnProperty(slug));\n    }\n\n    this.seen[slug] = 0;\n    return slug;\n  }\n\n};\n\n/***/ }),\n\n/***/ \"./node_modules/marked/src/TextRenderer.js\":\n/*!*************************************************!*\\\n  !*** ./node_modules/marked/src/TextRenderer.js ***!\n  \\*************************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\n/**\n * TextRenderer\n * returns only the textual part of the token\n */\nmodule.exports = class TextRenderer {\n  // no need for block level renderers\n  strong(text) {\n    return text;\n  }\n\n  em(text) {\n    return text;\n  }\n\n  codespan(text) {\n    return text;\n  }\n\n  del(text) {\n    return text;\n  }\n\n  html(text) {\n    return text;\n  }\n\n  text(text) {\n    return text;\n  }\n\n  link(href, title, text) {\n    return '' + text;\n  }\n\n  image(href, title, text) {\n    return '' + text;\n  }\n\n  br() {\n    return '';\n  }\n\n};\n\n/***/ }),\n\n/***/ \"./node_modules/marked/src/Tokenizer.js\":\n/*!**********************************************!*\\\n  !*** ./node_modules/marked/src/Tokenizer.js ***!\n  \\**********************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nconst {\n  defaults\n} = __webpack_require__(/*! ./defaults.js */ \"./node_modules/marked/src/defaults.js\");\n\nconst {\n  rtrim,\n  splitCells,\n  escape,\n  findClosingBracket\n} = __webpack_require__(/*! ./helpers.js */ \"./node_modules/marked/src/helpers.js\");\n\nfunction outputLink(cap, link, raw) {\n  const href = link.href;\n  const title = link.title ? escape(link.title) : null;\n\n  if (cap[0].charAt(0) !== '!') {\n    return {\n      type: 'link',\n      raw,\n      href,\n      title,\n      text: cap[1]\n    };\n  } else {\n    return {\n      type: 'image',\n      raw,\n      text: escape(cap[1]),\n      href,\n      title\n    };\n  }\n}\n/**\n * Tokenizer\n */\n\n\nmodule.exports = class Tokenizer {\n  constructor(options) {\n    this.options = options || defaults;\n  }\n\n  space(src) {\n    const cap = this.rules.block.newline.exec(src);\n\n    if (cap) {\n      if (cap[0].length > 1) {\n        return {\n          type: 'space',\n          raw: cap[0]\n        };\n      }\n\n      return {\n        raw: '\\n'\n      };\n    }\n  }\n\n  code(src, tokens) {\n    const cap = this.rules.block.code.exec(src);\n\n    if (cap) {\n      const lastToken = tokens[tokens.length - 1]; // An indented code block cannot interrupt a paragraph.\n\n      if (lastToken && lastToken.type === 'paragraph') {\n        tokens.pop();\n        lastToken.text += '\\n' + cap[0].trimRight();\n        lastToken.raw += '\\n' + cap[0];\n        return lastToken;\n      } else {\n        const text = cap[0].replace(/^ {4}/gm, '');\n        return {\n          type: 'code',\n          raw: cap[0],\n          codeBlockStyle: 'indented',\n          text: !this.options.pedantic ? rtrim(text, '\\n') : text\n        };\n      }\n    }\n  }\n\n  fences(src) {\n    const cap = this.rules.block.fences.exec(src);\n\n    if (cap) {\n      return {\n        type: 'code',\n        raw: cap[0],\n        lang: cap[2] ? cap[2].trim() : cap[2],\n        text: cap[3] || ''\n      };\n    }\n  }\n\n  heading(src) {\n    const cap = this.rules.block.heading.exec(src);\n\n    if (cap) {\n      return {\n        type: 'heading',\n        raw: cap[0],\n        depth: cap[1].length,\n        text: cap[2]\n      };\n    }\n  }\n\n  nptable(src) {\n    const cap = this.rules.block.nptable.exec(src);\n\n    if (cap) {\n      const item = {\n        type: 'table',\n        header: splitCells(cap[1].replace(/^ *| *\\| *$/g, '')),\n        align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n        cells: cap[3] ? cap[3].replace(/\\n$/, '').split('\\n') : [],\n        raw: cap[0]\n      };\n\n      if (item.header.length === item.align.length) {\n        let l = item.align.length;\n        let i;\n\n        for (i = 0; i < l; i++) {\n          if (/^ *-+: *$/.test(item.align[i])) {\n            item.align[i] = 'right';\n          } else if (/^ *:-+: *$/.test(item.align[i])) {\n            item.align[i] = 'center';\n          } else if (/^ *:-+ *$/.test(item.align[i])) {\n            item.align[i] = 'left';\n          } else {\n            item.align[i] = null;\n          }\n        }\n\n        l = item.cells.length;\n\n        for (i = 0; i < l; i++) {\n          item.cells[i] = splitCells(item.cells[i], item.header.length);\n        }\n\n        return item;\n      }\n    }\n  }\n\n  hr(src) {\n    const cap = this.rules.block.hr.exec(src);\n\n    if (cap) {\n      return {\n        type: 'hr',\n        raw: cap[0]\n      };\n    }\n  }\n\n  blockquote(src) {\n    const cap = this.rules.block.blockquote.exec(src);\n\n    if (cap) {\n      const text = cap[0].replace(/^ *> ?/gm, '');\n      return {\n        type: 'blockquote',\n        raw: cap[0],\n        text\n      };\n    }\n  }\n\n  list(src) {\n    const cap = this.rules.block.list.exec(src);\n\n    if (cap) {\n      let raw = cap[0];\n      const bull = cap[2];\n      const isordered = bull.length > 1;\n      const list = {\n        type: 'list',\n        raw,\n        ordered: isordered,\n        start: isordered ? +bull : '',\n        loose: false,\n        items: []\n      }; // Get each top-level item.\n\n      const itemMatch = cap[0].match(this.rules.block.item);\n      let next = false,\n          item,\n          space,\n          b,\n          addBack,\n          loose,\n          istask,\n          ischecked;\n      const l = itemMatch.length;\n\n      for (let i = 0; i < l; i++) {\n        item = itemMatch[i];\n        raw = item; // Remove the list item's bullet\n        // so it is seen as the next token.\n\n        space = item.length;\n        item = item.replace(/^ *([*+-]|\\d+\\.) */, ''); // Outdent whatever the\n        // list item contains. Hacky.\n\n        if (~item.indexOf('\\n ')) {\n          space -= item.length;\n          item = !this.options.pedantic ? item.replace(new RegExp('^ {1,' + space + '}', 'gm'), '') : item.replace(/^ {1,4}/gm, '');\n        } // Determine whether the next list item belongs here.\n        // Backpedal if it does not belong in this list.\n\n\n        if (i !== l - 1) {\n          b = this.rules.block.bullet.exec(itemMatch[i + 1])[0];\n\n          if (bull.length > 1 ? b.length === 1 : b.length > 1 || this.options.smartLists && b !== bull) {\n            addBack = itemMatch.slice(i + 1).join('\\n');\n            list.raw = list.raw.substring(0, list.raw.length - addBack.length);\n            i = l - 1;\n          }\n        } // Determine whether item is loose or not.\n        // Use: /(^|\\n)(?! )[^\\n]+\\n\\n(?!\\s*$)/\n        // for discount behavior.\n\n\n        loose = next || /\\n\\n(?!\\s*$)/.test(item);\n\n        if (i !== l - 1) {\n          next = item.charAt(item.length - 1) === '\\n';\n          if (!loose) loose = next;\n        }\n\n        if (loose) {\n          list.loose = true;\n        } // Check for task list items\n\n\n        istask = /^\\[[ xX]\\] /.test(item);\n        ischecked = undefined;\n\n        if (istask) {\n          ischecked = item[1] !== ' ';\n          item = item.replace(/^\\[[ xX]\\] +/, '');\n        }\n\n        list.items.push({\n          raw,\n          task: istask,\n          checked: ischecked,\n          loose: loose,\n          text: item\n        });\n      }\n\n      return list;\n    }\n  }\n\n  html(src) {\n    const cap = this.rules.block.html.exec(src);\n\n    if (cap) {\n      return {\n        type: this.options.sanitize ? 'paragraph' : 'html',\n        raw: cap[0],\n        pre: !this.options.sanitizer && (cap[1] === 'pre' || cap[1] === 'script' || cap[1] === 'style'),\n        text: this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(cap[0]) : escape(cap[0]) : cap[0]\n      };\n    }\n  }\n\n  def(src) {\n    const cap = this.rules.block.def.exec(src);\n\n    if (cap) {\n      if (cap[3]) cap[3] = cap[3].substring(1, cap[3].length - 1);\n      const tag = cap[1].toLowerCase().replace(/\\s+/g, ' ');\n      return {\n        tag,\n        raw: cap[0],\n        href: cap[2],\n        title: cap[3]\n      };\n    }\n  }\n\n  table(src) {\n    const cap = this.rules.block.table.exec(src);\n\n    if (cap) {\n      const item = {\n        type: 'table',\n        header: splitCells(cap[1].replace(/^ *| *\\| *$/g, '')),\n        align: cap[2].replace(/^ *|\\| *$/g, '').split(/ *\\| */),\n        cells: cap[3] ? cap[3].replace(/\\n$/, '').split('\\n') : []\n      };\n\n      if (item.header.length === item.align.length) {\n        item.raw = cap[0];\n        let l = item.align.length;\n        let i;\n\n        for (i = 0; i < l; i++) {\n          if (/^ *-+: *$/.test(item.align[i])) {\n            item.align[i] = 'right';\n          } else if (/^ *:-+: *$/.test(item.align[i])) {\n            item.align[i] = 'center';\n          } else if (/^ *:-+ *$/.test(item.align[i])) {\n            item.align[i] = 'left';\n          } else {\n            item.align[i] = null;\n          }\n        }\n\n        l = item.cells.length;\n\n        for (i = 0; i < l; i++) {\n          item.cells[i] = splitCells(item.cells[i].replace(/^ *\\| *| *\\| *$/g, ''), item.header.length);\n        }\n\n        return item;\n      }\n    }\n  }\n\n  lheading(src) {\n    const cap = this.rules.block.lheading.exec(src);\n\n    if (cap) {\n      return {\n        type: 'heading',\n        raw: cap[0],\n        depth: cap[2].charAt(0) === '=' ? 1 : 2,\n        text: cap[1]\n      };\n    }\n  }\n\n  paragraph(src) {\n    const cap = this.rules.block.paragraph.exec(src);\n\n    if (cap) {\n      return {\n        type: 'paragraph',\n        raw: cap[0],\n        text: cap[1].charAt(cap[1].length - 1) === '\\n' ? cap[1].slice(0, -1) : cap[1]\n      };\n    }\n  }\n\n  text(src) {\n    const cap = this.rules.block.text.exec(src);\n\n    if (cap) {\n      return {\n        type: 'text',\n        raw: cap[0],\n        text: cap[0]\n      };\n    }\n  }\n\n  escape(src) {\n    const cap = this.rules.inline.escape.exec(src);\n\n    if (cap) {\n      return {\n        type: 'escape',\n        raw: cap[0],\n        text: escape(cap[1])\n      };\n    }\n  }\n\n  tag(src, inLink, inRawBlock) {\n    const cap = this.rules.inline.tag.exec(src);\n\n    if (cap) {\n      if (!inLink && /^<a /i.test(cap[0])) {\n        inLink = true;\n      } else if (inLink && /^<\\/a>/i.test(cap[0])) {\n        inLink = false;\n      }\n\n      if (!inRawBlock && /^<(pre|code|kbd|script)(\\s|>)/i.test(cap[0])) {\n        inRawBlock = true;\n      } else if (inRawBlock && /^<\\/(pre|code|kbd|script)(\\s|>)/i.test(cap[0])) {\n        inRawBlock = false;\n      }\n\n      return {\n        type: this.options.sanitize ? 'text' : 'html',\n        raw: cap[0],\n        inLink,\n        inRawBlock,\n        text: this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(cap[0]) : escape(cap[0]) : cap[0]\n      };\n    }\n  }\n\n  link(src) {\n    const cap = this.rules.inline.link.exec(src);\n\n    if (cap) {\n      const lastParenIndex = findClosingBracket(cap[2], '()');\n\n      if (lastParenIndex > -1) {\n        const start = cap[0].indexOf('!') === 0 ? 5 : 4;\n        const linkLen = start + cap[1].length + lastParenIndex;\n        cap[2] = cap[2].substring(0, lastParenIndex);\n        cap[0] = cap[0].substring(0, linkLen).trim();\n        cap[3] = '';\n      }\n\n      let href = cap[2];\n      let title = '';\n\n      if (this.options.pedantic) {\n        const link = /^([^'\"]*[^\\s])\\s+(['\"])(.*)\\2/.exec(href);\n\n        if (link) {\n          href = link[1];\n          title = link[3];\n        } else {\n          title = '';\n        }\n      } else {\n        title = cap[3] ? cap[3].slice(1, -1) : '';\n      }\n\n      href = href.trim().replace(/^<([\\s\\S]*)>$/, '$1');\n      const token = outputLink(cap, {\n        href: href ? href.replace(this.rules.inline._escapes, '$1') : href,\n        title: title ? title.replace(this.rules.inline._escapes, '$1') : title\n      }, cap[0]);\n      return token;\n    }\n  }\n\n  reflink(src, links) {\n    let cap;\n\n    if ((cap = this.rules.inline.reflink.exec(src)) || (cap = this.rules.inline.nolink.exec(src))) {\n      let link = (cap[2] || cap[1]).replace(/\\s+/g, ' ');\n      link = links[link.toLowerCase()];\n\n      if (!link || !link.href) {\n        const text = cap[0].charAt(0);\n        return {\n          type: 'text',\n          raw: text,\n          text\n        };\n      }\n\n      const token = outputLink(cap, link, cap[0]);\n      return token;\n    }\n  }\n\n  strong(src) {\n    const cap = this.rules.inline.strong.exec(src);\n\n    if (cap) {\n      return {\n        type: 'strong',\n        raw: cap[0],\n        text: cap[4] || cap[3] || cap[2] || cap[1]\n      };\n    }\n  }\n\n  em(src) {\n    const cap = this.rules.inline.em.exec(src);\n\n    if (cap) {\n      return {\n        type: 'em',\n        raw: cap[0],\n        text: cap[6] || cap[5] || cap[4] || cap[3] || cap[2] || cap[1]\n      };\n    }\n  }\n\n  codespan(src) {\n    const cap = this.rules.inline.code.exec(src);\n\n    if (cap) {\n      return {\n        type: 'codespan',\n        raw: cap[0],\n        text: escape(cap[2].trim(), true)\n      };\n    }\n  }\n\n  br(src) {\n    const cap = this.rules.inline.br.exec(src);\n\n    if (cap) {\n      return {\n        type: 'br',\n        raw: cap[0]\n      };\n    }\n  }\n\n  del(src) {\n    const cap = this.rules.inline.del.exec(src);\n\n    if (cap) {\n      return {\n        type: 'del',\n        raw: cap[0],\n        text: cap[1]\n      };\n    }\n  }\n\n  autolink(src, mangle) {\n    const cap = this.rules.inline.autolink.exec(src);\n\n    if (cap) {\n      let text, href;\n\n      if (cap[2] === '@') {\n        text = escape(this.options.mangle ? mangle(cap[1]) : cap[1]);\n        href = 'mailto:' + text;\n      } else {\n        text = escape(cap[1]);\n        href = text;\n      }\n\n      return {\n        type: 'link',\n        raw: cap[0],\n        text,\n        href,\n        tokens: [{\n          type: 'text',\n          raw: text,\n          text\n        }]\n      };\n    }\n  }\n\n  url(src, mangle) {\n    let cap;\n\n    if (cap = this.rules.inline.url.exec(src)) {\n      let text, href;\n\n      if (cap[2] === '@') {\n        text = escape(this.options.mangle ? mangle(cap[0]) : cap[0]);\n        href = 'mailto:' + text;\n      } else {\n        // do extended autolink path validation\n        let prevCapZero;\n\n        do {\n          prevCapZero = cap[0];\n          cap[0] = this.rules.inline._backpedal.exec(cap[0])[0];\n        } while (prevCapZero !== cap[0]);\n\n        text = escape(cap[0]);\n\n        if (cap[1] === 'www.') {\n          href = 'http://' + text;\n        } else {\n          href = text;\n        }\n      }\n\n      return {\n        type: 'link',\n        raw: cap[0],\n        text,\n        href,\n        tokens: [{\n          type: 'text',\n          raw: text,\n          text\n        }]\n      };\n    }\n  }\n\n  inlineText(src, inRawBlock, smartypants) {\n    const cap = this.rules.inline.text.exec(src);\n\n    if (cap) {\n      let text;\n\n      if (inRawBlock) {\n        text = this.options.sanitize ? this.options.sanitizer ? this.options.sanitizer(cap[0]) : escape(cap[0]) : cap[0];\n      } else {\n        text = escape(this.options.smartypants ? smartypants(cap[0]) : cap[0]);\n      }\n\n      return {\n        type: 'text',\n        raw: cap[0],\n        text\n      };\n    }\n  }\n\n};\n\n/***/ }),\n\n/***/ \"./node_modules/marked/src/defaults.js\":\n/*!*********************************************!*\\\n  !*** ./node_modules/marked/src/defaults.js ***!\n  \\*********************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\nfunction getDefaults() {\n  return {\n    baseUrl: null,\n    breaks: false,\n    gfm: true,\n    headerIds: true,\n    headerPrefix: '',\n    highlight: null,\n    langPrefix: 'language-',\n    mangle: true,\n    pedantic: false,\n    renderer: null,\n    sanitize: false,\n    sanitizer: null,\n    silent: false,\n    smartLists: false,\n    smartypants: false,\n    tokenizer: null,\n    xhtml: false\n  };\n}\n\nfunction changeDefaults(newDefaults) {\n  module.exports.defaults = newDefaults;\n}\n\nmodule.exports = {\n  defaults: getDefaults(),\n  getDefaults,\n  changeDefaults\n};\n\n/***/ }),\n\n/***/ \"./node_modules/marked/src/helpers.js\":\n/*!********************************************!*\\\n  !*** ./node_modules/marked/src/helpers.js ***!\n  \\********************************************/\n/*! no static exports found */\n/***/ (function(module, exports) {\n\n/**\n * Helpers\n */\nconst escapeTest = /[&<>\"']/;\nconst escapeReplace = /[&<>\"']/g;\nconst escapeTestNoEncode = /[<>\"']|&(?!#?\\w+;)/;\nconst escapeReplaceNoEncode = /[<>\"']|&(?!#?\\w+;)/g;\nconst escapeReplacements = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  \"'\": '&#39;'\n};\n\nconst getEscapeReplacement = ch => escapeReplacements[ch];\n\nfunction escape(html, encode) {\n  if (encode) {\n    if (escapeTest.test(html)) {\n      return html.replace(escapeReplace, getEscapeReplacement);\n    }\n  } else {\n    if (escapeTestNoEncode.test(html)) {\n      return html.replace(escapeReplaceNoEncode, getEscapeReplacement);\n    }\n  }\n\n  return html;\n}\n\nconst unescapeTest = /&(#(?:\\d+)|(?:#x[0-9A-Fa-f]+)|(?:\\w+));?/ig;\n\nfunction unescape(html) {\n  // explicitly match decimal, hex, and named HTML entities\n  return html.replace(unescapeTest, (_, n) => {\n    n = n.toLowerCase();\n    if (n === 'colon') return ':';\n\n    if (n.charAt(0) === '#') {\n      return n.charAt(1) === 'x' ? String.fromCharCode(parseInt(n.substring(2), 16)) : String.fromCharCode(+n.substring(1));\n    }\n\n    return '';\n  });\n}\n\nconst caret = /(^|[^\\[])\\^/g;\n\nfunction edit(regex, opt) {\n  regex = regex.source || regex;\n  opt = opt || '';\n  const obj = {\n    replace: (name, val) => {\n      val = val.source || val;\n      val = val.replace(caret, '$1');\n      regex = regex.replace(name, val);\n      return obj;\n    },\n    getRegex: () => {\n      return new RegExp(regex, opt);\n    }\n  };\n  return obj;\n}\n\nconst nonWordAndColonTest = /[^\\w:]/g;\nconst originIndependentUrl = /^$|^[a-z][a-z0-9+.-]*:|^[?#]/i;\n\nfunction cleanUrl(sanitize, base, href) {\n  if (sanitize) {\n    let prot;\n\n    try {\n      prot = decodeURIComponent(unescape(href)).replace(nonWordAndColonTest, '').toLowerCase();\n    } catch (e) {\n      return null;\n    }\n\n    if (prot.indexOf('javascript:') === 0 || prot.indexOf('vbscript:') === 0 || prot.indexOf('data:') === 0) {\n      return null;\n    }\n  }\n\n  if (base && !originIndependentUrl.test(href)) {\n    href = resolveUrl(base, href);\n  }\n\n  try {\n    href = encodeURI(href).replace(/%25/g, '%');\n  } catch (e) {\n    return null;\n  }\n\n  return href;\n}\n\nconst baseUrls = {};\nconst justDomain = /^[^:]+:\\/*[^/]*$/;\nconst protocol = /^([^:]+:)[\\s\\S]*$/;\nconst domain = /^([^:]+:\\/*[^/]*)[\\s\\S]*$/;\n\nfunction resolveUrl(base, href) {\n  if (!baseUrls[' ' + base]) {\n    // we can ignore everything in base after the last slash of its path component,\n    // but we might need to add _that_\n    // https://tools.ietf.org/html/rfc3986#section-3\n    if (justDomain.test(base)) {\n      baseUrls[' ' + base] = base + '/';\n    } else {\n      baseUrls[' ' + base] = rtrim(base, '/', true);\n    }\n  }\n\n  base = baseUrls[' ' + base];\n  const relativeBase = base.indexOf(':') === -1;\n\n  if (href.substring(0, 2) === '//') {\n    if (relativeBase) {\n      return href;\n    }\n\n    return base.replace(protocol, '$1') + href;\n  } else if (href.charAt(0) === '/') {\n    if (relativeBase) {\n      return href;\n    }\n\n    return base.replace(domain, '$1') + href;\n  } else {\n    return base + href;\n  }\n}\n\nconst noopTest = {\n  exec: function noopTest() {}\n};\n\nfunction merge(obj) {\n  let i = 1,\n      target,\n      key;\n\n  for (; i < arguments.length; i++) {\n    target = arguments[i];\n\n    for (key in target) {\n      if (Object.prototype.hasOwnProperty.call(target, key)) {\n        obj[key] = target[key];\n      }\n    }\n  }\n\n  return obj;\n}\n\nfunction splitCells(tableRow, count) {\n  // ensure that every cell-delimiting pipe has a space\n  // before it to distinguish it from an escaped pipe\n  const row = tableRow.replace(/\\|/g, (match, offset, str) => {\n    let escaped = false,\n        curr = offset;\n\n    while (--curr >= 0 && str[curr] === '\\\\') escaped = !escaped;\n\n    if (escaped) {\n      // odd number of slashes means | is escaped\n      // so we leave it alone\n      return '|';\n    } else {\n      // add space before unescaped |\n      return ' |';\n    }\n  }),\n        cells = row.split(/ \\|/);\n  let i = 0;\n\n  if (cells.length > count) {\n    cells.splice(count);\n  } else {\n    while (cells.length < count) cells.push('');\n  }\n\n  for (; i < cells.length; i++) {\n    // leading or trailing whitespace is ignored per the gfm spec\n    cells[i] = cells[i].trim().replace(/\\\\\\|/g, '|');\n  }\n\n  return cells;\n} // Remove trailing 'c's. Equivalent to str.replace(/c*$/, '').\n// /c*$/ is vulnerable to REDOS.\n// invert: Remove suffix of non-c chars instead. Default falsey.\n\n\nfunction rtrim(str, c, invert) {\n  const l = str.length;\n\n  if (l === 0) {\n    return '';\n  } // Length of suffix matching the invert condition.\n\n\n  let suffLen = 0; // Step left until we fail to match the invert condition.\n\n  while (suffLen < l) {\n    const currChar = str.charAt(l - suffLen - 1);\n\n    if (currChar === c && !invert) {\n      suffLen++;\n    } else if (currChar !== c && invert) {\n      suffLen++;\n    } else {\n      break;\n    }\n  }\n\n  return str.substr(0, l - suffLen);\n}\n\nfunction findClosingBracket(str, b) {\n  if (str.indexOf(b[1]) === -1) {\n    return -1;\n  }\n\n  const l = str.length;\n  let level = 0,\n      i = 0;\n\n  for (; i < l; i++) {\n    if (str[i] === '\\\\') {\n      i++;\n    } else if (str[i] === b[0]) {\n      level++;\n    } else if (str[i] === b[1]) {\n      level--;\n\n      if (level < 0) {\n        return i;\n      }\n    }\n  }\n\n  return -1;\n}\n\nfunction checkSanitizeDeprecation(opt) {\n  if (opt && opt.sanitize && !opt.silent) {\n    console.warn('marked(): sanitize and sanitizer parameters are deprecated since version 0.7.0, should not be used and will be removed in the future. Read more here: https://marked.js.org/#/USING_ADVANCED.md#options');\n  }\n}\n\nmodule.exports = {\n  escape,\n  unescape,\n  edit,\n  cleanUrl,\n  resolveUrl,\n  noopTest,\n  merge,\n  splitCells,\n  rtrim,\n  findClosingBracket,\n  checkSanitizeDeprecation\n};\n\n/***/ }),\n\n/***/ \"./node_modules/marked/src/marked.js\":\n/*!*******************************************!*\\\n  !*** ./node_modules/marked/src/marked.js ***!\n  \\*******************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nconst Lexer = __webpack_require__(/*! ./Lexer.js */ \"./node_modules/marked/src/Lexer.js\");\n\nconst Parser = __webpack_require__(/*! ./Parser.js */ \"./node_modules/marked/src/Parser.js\");\n\nconst Tokenizer = __webpack_require__(/*! ./Tokenizer.js */ \"./node_modules/marked/src/Tokenizer.js\");\n\nconst Renderer = __webpack_require__(/*! ./Renderer.js */ \"./node_modules/marked/src/Renderer.js\");\n\nconst TextRenderer = __webpack_require__(/*! ./TextRenderer.js */ \"./node_modules/marked/src/TextRenderer.js\");\n\nconst Slugger = __webpack_require__(/*! ./Slugger.js */ \"./node_modules/marked/src/Slugger.js\");\n\nconst {\n  merge,\n  checkSanitizeDeprecation,\n  escape\n} = __webpack_require__(/*! ./helpers.js */ \"./node_modules/marked/src/helpers.js\");\n\nconst {\n  getDefaults,\n  changeDefaults,\n  defaults\n} = __webpack_require__(/*! ./defaults.js */ \"./node_modules/marked/src/defaults.js\");\n/**\n * Marked\n */\n\n\nfunction marked(src, opt, callback) {\n  // throw error in case of non string input\n  if (typeof src === 'undefined' || src === null) {\n    throw new Error('marked(): input parameter is undefined or null');\n  }\n\n  if (typeof src !== 'string') {\n    throw new Error('marked(): input parameter is of type ' + Object.prototype.toString.call(src) + ', string expected');\n  }\n\n  if (callback || typeof opt === 'function') {\n    if (!callback) {\n      callback = opt;\n      opt = null;\n    }\n\n    opt = merge({}, marked.defaults, opt || {});\n    checkSanitizeDeprecation(opt);\n    const highlight = opt.highlight;\n    let tokens,\n        pending,\n        i = 0;\n\n    try {\n      tokens = Lexer.lex(src, opt);\n    } catch (e) {\n      return callback(e);\n    }\n\n    pending = tokens.length;\n\n    const done = function (err) {\n      if (err) {\n        opt.highlight = highlight;\n        return callback(err);\n      }\n\n      let out;\n\n      try {\n        out = Parser.parse(tokens, opt);\n      } catch (e) {\n        err = e;\n      }\n\n      opt.highlight = highlight;\n      return err ? callback(err) : callback(null, out);\n    };\n\n    if (!highlight || highlight.length < 3) {\n      return done();\n    }\n\n    delete opt.highlight;\n    if (!pending) return done();\n\n    for (; i < tokens.length; i++) {\n      (function (token) {\n        if (token.type !== 'code') {\n          return --pending || done();\n        }\n\n        return highlight(token.text, token.lang, function (err, code) {\n          if (err) return done(err);\n\n          if (code == null || code === token.text) {\n            return --pending || done();\n          }\n\n          token.text = code;\n          token.escaped = true;\n          --pending || done();\n        });\n      })(tokens[i]);\n    }\n\n    return;\n  }\n\n  try {\n    opt = merge({}, marked.defaults, opt || {});\n    checkSanitizeDeprecation(opt);\n    return Parser.parse(Lexer.lex(src, opt), opt);\n  } catch (e) {\n    e.message += '\\nPlease report this to https://github.com/markedjs/marked.';\n\n    if ((opt || marked.defaults).silent) {\n      return '<p>An error occurred:</p><pre>' + escape(e.message + '', true) + '</pre>';\n    }\n\n    throw e;\n  }\n}\n/**\n * Options\n */\n\n\nmarked.options = marked.setOptions = function (opt) {\n  merge(marked.defaults, opt);\n  changeDefaults(marked.defaults);\n  return marked;\n};\n\nmarked.getDefaults = getDefaults;\nmarked.defaults = defaults;\n/**\n * Use Extension\n */\n\nmarked.use = function (extension) {\n  const opts = merge({}, extension);\n\n  if (extension.renderer) {\n    const renderer = marked.defaults.renderer || new Renderer();\n\n    for (const prop in extension.renderer) {\n      const prevRenderer = renderer[prop];\n\n      renderer[prop] = (...args) => {\n        let ret = extension.renderer[prop].apply(renderer, args);\n\n        if (ret === false) {\n          ret = prevRenderer.apply(renderer, args);\n        }\n\n        return ret;\n      };\n    }\n\n    opts.renderer = renderer;\n  }\n\n  if (extension.tokenizer) {\n    const tokenizer = marked.defaults.tokenizer || new Tokenizer();\n\n    for (const prop in extension.tokenizer) {\n      const prevTokenizer = tokenizer[prop];\n\n      tokenizer[prop] = (...args) => {\n        let ret = extension.tokenizer[prop].apply(tokenizer, args);\n\n        if (ret === false) {\n          ret = prevTokenizer.apply(tokenizer, args);\n        }\n\n        return ret;\n      };\n    }\n\n    opts.tokenizer = tokenizer;\n  }\n\n  marked.setOptions(opts);\n};\n/**\n * Expose\n */\n\n\nmarked.Parser = Parser;\nmarked.parser = Parser.parse;\nmarked.Renderer = Renderer;\nmarked.TextRenderer = TextRenderer;\nmarked.Lexer = Lexer;\nmarked.lexer = Lexer.lex;\nmarked.Tokenizer = Tokenizer;\nmarked.Slugger = Slugger;\nmarked.parse = marked;\nmodule.exports = marked;\n\n/***/ }),\n\n/***/ \"./node_modules/marked/src/rules.js\":\n/*!******************************************!*\\\n  !*** ./node_modules/marked/src/rules.js ***!\n  \\******************************************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\nconst {\n  noopTest,\n  edit,\n  merge\n} = __webpack_require__(/*! ./helpers.js */ \"./node_modules/marked/src/helpers.js\");\n/**\n * Block-Level Grammar\n */\n\n\nconst block = {\n  newline: /^\\n+/,\n  code: /^( {4}[^\\n]+\\n*)+/,\n  fences: /^ {0,3}(`{3,}(?=[^`\\n]*\\n)|~{3,})([^\\n]*)\\n(?:|([\\s\\S]*?)\\n)(?: {0,3}\\1[~`]* *(?:\\n+|$)|$)/,\n  hr: /^ {0,3}((?:- *){3,}|(?:_ *){3,}|(?:\\* *){3,})(?:\\n+|$)/,\n  heading: /^ {0,3}(#{1,6}) +([^\\n]*?)(?: +#+)? *(?:\\n+|$)/,\n  blockquote: /^( {0,3}> ?(paragraph|[^\\n]*)(?:\\n|$))+/,\n  list: /^( {0,3})(bull) [\\s\\S]+?(?:hr|def|\\n{2,}(?! )(?!\\1bull )\\n*|\\s*$)/,\n  html: '^ {0,3}(?:' // optional indentation\n  + '<(script|pre|style)[\\\\s>][\\\\s\\\\S]*?(?:</\\\\1>[^\\\\n]*\\\\n+|$)' // (1)\n  + '|comment[^\\\\n]*(\\\\n+|$)' // (2)\n  + '|<\\\\?[\\\\s\\\\S]*?\\\\?>\\\\n*' // (3)\n  + '|<![A-Z][\\\\s\\\\S]*?>\\\\n*' // (4)\n  + '|<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>\\\\n*' // (5)\n  + '|</?(tag)(?: +|\\\\n|/?>)[\\\\s\\\\S]*?(?:\\\\n{2,}|$)' // (6)\n  + '|<(?!script|pre|style)([a-z][\\\\w-]*)(?:attribute)*? */?>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:\\\\n{2,}|$)' // (7) open tag\n  + '|</(?!script|pre|style)[a-z][\\\\w-]*\\\\s*>(?=[ \\\\t]*(?:\\\\n|$))[\\\\s\\\\S]*?(?:\\\\n{2,}|$)' // (7) closing tag\n  + ')',\n  def: /^ {0,3}\\[(label)\\]: *\\n? *<?([^\\s>]+)>?(?:(?: +\\n? *| *\\n *)(title))? *(?:\\n+|$)/,\n  nptable: noopTest,\n  table: noopTest,\n  lheading: /^([^\\n]+)\\n {0,3}(=+|-+) *(?:\\n+|$)/,\n  // regex template, placeholders will be replaced according to different paragraph\n  // interruption rules of commonmark and the original markdown spec:\n  _paragraph: /^([^\\n]+(?:\\n(?!hr|heading|lheading|blockquote|fences|list|html)[^\\n]+)*)/,\n  text: /^[^\\n]+/\n};\nblock._label = /(?!\\s*\\])(?:\\\\[\\[\\]]|[^\\[\\]])+/;\nblock._title = /(?:\"(?:\\\\\"?|[^\"\\\\])*\"|'[^'\\n]*(?:\\n[^'\\n]+)*\\n?'|\\([^()]*\\))/;\nblock.def = edit(block.def).replace('label', block._label).replace('title', block._title).getRegex();\nblock.bullet = /(?:[*+-]|\\d{1,9}\\.)/;\nblock.item = /^( *)(bull) ?[^\\n]*(?:\\n(?!\\1bull ?)[^\\n]*)*/;\nblock.item = edit(block.item, 'gm').replace(/bull/g, block.bullet).getRegex();\nblock.list = edit(block.list).replace(/bull/g, block.bullet).replace('hr', '\\\\n+(?=\\\\1?(?:(?:- *){3,}|(?:_ *){3,}|(?:\\\\* *){3,})(?:\\\\n+|$))').replace('def', '\\\\n+(?=' + block.def.source + ')').getRegex();\nblock._tag = 'address|article|aside|base|basefont|blockquote|body|caption' + '|center|col|colgroup|dd|details|dialog|dir|div|dl|dt|fieldset|figcaption' + '|figure|footer|form|frame|frameset|h[1-6]|head|header|hr|html|iframe' + '|legend|li|link|main|menu|menuitem|meta|nav|noframes|ol|optgroup|option' + '|p|param|section|source|summary|table|tbody|td|tfoot|th|thead|title|tr' + '|track|ul';\nblock._comment = /<!--(?!-?>)[\\s\\S]*?-->/;\nblock.html = edit(block.html, 'i').replace('comment', block._comment).replace('tag', block._tag).replace('attribute', / +[a-zA-Z:_][\\w.:-]*(?: *= *\"[^\"\\n]*\"| *= *'[^'\\n]*'| *= *[^\\s\"'=<>`]+)?/).getRegex();\nblock.paragraph = edit(block._paragraph).replace('hr', block.hr).replace('heading', ' {0,3}#{1,6} ').replace('|lheading', '') // setex headings don't interrupt commonmark paragraphs\n.replace('blockquote', ' {0,3}>').replace('fences', ' {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n').replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt\n.replace('html', '</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|!--)').replace('tag', block._tag) // pars can be interrupted by type (6) html blocks\n.getRegex();\nblock.blockquote = edit(block.blockquote).replace('paragraph', block.paragraph).getRegex();\n/**\n * Normal Block Grammar\n */\n\nblock.normal = merge({}, block);\n/**\n * GFM Block Grammar\n */\n\nblock.gfm = merge({}, block.normal, {\n  nptable: '^ *([^|\\\\n ].*\\\\|.*)\\\\n' // Header\n  + ' *([-:]+ *\\\\|[-| :]*)' // Align\n  + '(?:\\\\n((?:(?!\\\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\\\n|$))*)\\\\n*|$)',\n  // Cells\n  table: '^ *\\\\|(.+)\\\\n' // Header\n  + ' *\\\\|?( *[-:]+[-| :]*)' // Align\n  + '(?:\\\\n *((?:(?!\\\\n|hr|heading|blockquote|code|fences|list|html).*(?:\\\\n|$))*)\\\\n*|$)' // Cells\n\n});\nblock.gfm.nptable = edit(block.gfm.nptable).replace('hr', block.hr).replace('heading', ' {0,3}#{1,6} ').replace('blockquote', ' {0,3}>').replace('code', ' {4}[^\\\\n]').replace('fences', ' {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n').replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt\n.replace('html', '</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|!--)').replace('tag', block._tag) // tables can be interrupted by type (6) html blocks\n.getRegex();\nblock.gfm.table = edit(block.gfm.table).replace('hr', block.hr).replace('heading', ' {0,3}#{1,6} ').replace('blockquote', ' {0,3}>').replace('code', ' {4}[^\\\\n]').replace('fences', ' {0,3}(?:`{3,}(?=[^`\\\\n]*\\\\n)|~{3,})[^\\\\n]*\\\\n').replace('list', ' {0,3}(?:[*+-]|1[.)]) ') // only lists starting from 1 can interrupt\n.replace('html', '</?(?:tag)(?: +|\\\\n|/?>)|<(?:script|pre|style|!--)').replace('tag', block._tag) // tables can be interrupted by type (6) html blocks\n.getRegex();\n/**\n * Pedantic grammar (original John Gruber's loose markdown specification)\n */\n\nblock.pedantic = merge({}, block.normal, {\n  html: edit('^ *(?:comment *(?:\\\\n|\\\\s*$)' + '|<(tag)[\\\\s\\\\S]+?</\\\\1> *(?:\\\\n{2,}|\\\\s*$)' // closed tag\n  + '|<tag(?:\"[^\"]*\"|\\'[^\\']*\\'|\\\\s[^\\'\"/>\\\\s]*)*?/?> *(?:\\\\n{2,}|\\\\s*$))').replace('comment', block._comment).replace(/tag/g, '(?!(?:' + 'a|em|strong|small|s|cite|q|dfn|abbr|data|time|code|var|samp|kbd|sub' + '|sup|i|b|u|mark|ruby|rt|rp|bdi|bdo|span|br|wbr|ins|del|img)' + '\\\\b)\\\\w+(?!:|[^\\\\w\\\\s@]*@)\\\\b').getRegex(),\n  def: /^ *\\[([^\\]]+)\\]: *<?([^\\s>]+)>?(?: +([\"(][^\\n]+[\")]))? *(?:\\n+|$)/,\n  heading: /^ *(#{1,6}) *([^\\n]+?) *(?:#+ *)?(?:\\n+|$)/,\n  fences: noopTest,\n  // fences not supported\n  paragraph: edit(block.normal._paragraph).replace('hr', block.hr).replace('heading', ' *#{1,6} *[^\\n]').replace('lheading', block.lheading).replace('blockquote', ' {0,3}>').replace('|fences', '').replace('|list', '').replace('|html', '').getRegex()\n});\n/**\n * Inline-Level Grammar\n */\n\nconst inline = {\n  escape: /^\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/,\n  autolink: /^<(scheme:[^\\s\\x00-\\x1f<>]*|email)>/,\n  url: noopTest,\n  tag: '^comment' + '|^</[a-zA-Z][\\\\w:-]*\\\\s*>' // self-closing tag\n  + '|^<[a-zA-Z][\\\\w-]*(?:attribute)*?\\\\s*/?>' // open tag\n  + '|^<\\\\?[\\\\s\\\\S]*?\\\\?>' // processing instruction, e.g. <?php ?>\n  + '|^<![a-zA-Z]+\\\\s[\\\\s\\\\S]*?>' // declaration, e.g. <!DOCTYPE html>\n  + '|^<!\\\\[CDATA\\\\[[\\\\s\\\\S]*?\\\\]\\\\]>',\n  // CDATA section\n  link: /^!?\\[(label)\\]\\(\\s*(href)(?:\\s+(title))?\\s*\\)/,\n  reflink: /^!?\\[(label)\\]\\[(?!\\s*\\])((?:\\\\[\\[\\]]?|[^\\[\\]\\\\])+)\\]/,\n  nolink: /^!?\\[(?!\\s*\\])((?:\\[[^\\[\\]]*\\]|\\\\[\\[\\]]|[^\\[\\]])*)\\](?:\\[\\])?/,\n  strong: /^__([^\\s_])__(?!_)|^\\*\\*([^\\s*])\\*\\*(?!\\*)|^__([^\\s][\\s\\S]*?[^\\s])__(?!_)|^\\*\\*([^\\s][\\s\\S]*?[^\\s])\\*\\*(?!\\*)/,\n  em: /^_([^\\s_])_(?!_)|^_([^\\s_<][\\s\\S]*?[^\\s_])_(?!_|[^\\spunctuation])|^_([^\\s_<][\\s\\S]*?[^\\s])_(?!_|[^\\spunctuation])|^\\*([^\\s*<\\[])\\*(?!\\*)|^\\*([^\\s<\"][\\s\\S]*?[^\\s\\[\\*])\\*(?![\\]`punctuation])|^\\*([^\\s*\"<\\[][\\s\\S]*[^\\s])\\*(?!\\*)/,\n  code: /^(`+)([^`]|[^`][\\s\\S]*?[^`])\\1(?!`)/,\n  br: /^( {2,}|\\\\)\\n(?!\\s*$)/,\n  del: noopTest,\n  text: /^(`+|[^`])(?:[\\s\\S]*?(?:(?=[\\\\<!\\[`*]|\\b_|$)|[^ ](?= {2,}\\n))|(?= {2,}\\n))/\n}; // list of punctuation marks from common mark spec\n// without ` and ] to workaround Rule 17 (inline code blocks/links)\n\ninline._punctuation = '!\"#$%&\\'()*+\\\\-./:;<=>?@\\\\[^_{|}~';\ninline.em = edit(inline.em).replace(/punctuation/g, inline._punctuation).getRegex();\ninline._escapes = /\\\\([!\"#$%&'()*+,\\-./:;<=>?@\\[\\]\\\\^_`{|}~])/g;\ninline._scheme = /[a-zA-Z][a-zA-Z0-9+.-]{1,31}/;\ninline._email = /[a-zA-Z0-9.!#$%&'*+/=?^_`{|}~-]+(@)[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)+(?![-_])/;\ninline.autolink = edit(inline.autolink).replace('scheme', inline._scheme).replace('email', inline._email).getRegex();\ninline._attribute = /\\s+[a-zA-Z:_][\\w.:-]*(?:\\s*=\\s*\"[^\"]*\"|\\s*=\\s*'[^']*'|\\s*=\\s*[^\\s\"'=<>`]+)?/;\ninline.tag = edit(inline.tag).replace('comment', block._comment).replace('attribute', inline._attribute).getRegex();\ninline._label = /(?:\\[[^\\[\\]]*\\]|\\\\.|`[^`]*`|[^\\[\\]\\\\`])*?/;\ninline._href = /<(?:\\\\[<>]?|[^\\s<>\\\\])*>|[^\\s\\x00-\\x1f]*/;\ninline._title = /\"(?:\\\\\"?|[^\"\\\\])*\"|'(?:\\\\'?|[^'\\\\])*'|\\((?:\\\\\\)?|[^)\\\\])*\\)/;\ninline.link = edit(inline.link).replace('label', inline._label).replace('href', inline._href).replace('title', inline._title).getRegex();\ninline.reflink = edit(inline.reflink).replace('label', inline._label).getRegex();\n/**\n * Normal Inline Grammar\n */\n\ninline.normal = merge({}, inline);\n/**\n * Pedantic Inline Grammar\n */\n\ninline.pedantic = merge({}, inline.normal, {\n  strong: /^__(?=\\S)([\\s\\S]*?\\S)__(?!_)|^\\*\\*(?=\\S)([\\s\\S]*?\\S)\\*\\*(?!\\*)/,\n  em: /^_(?=\\S)([\\s\\S]*?\\S)_(?!_)|^\\*(?=\\S)([\\s\\S]*?\\S)\\*(?!\\*)/,\n  link: edit(/^!?\\[(label)\\]\\((.*?)\\)/).replace('label', inline._label).getRegex(),\n  reflink: edit(/^!?\\[(label)\\]\\s*\\[([^\\]]*)\\]/).replace('label', inline._label).getRegex()\n});\n/**\n * GFM Inline Grammar\n */\n\ninline.gfm = merge({}, inline.normal, {\n  escape: edit(inline.escape).replace('])', '~|])').getRegex(),\n  _extended_email: /[A-Za-z0-9._+-]+(@)[a-zA-Z0-9-_]+(?:\\.[a-zA-Z0-9-_]*[a-zA-Z0-9])+(?![-_])/,\n  url: /^((?:ftp|https?):\\/\\/|www\\.)(?:[a-zA-Z0-9\\-]+\\.?)+[^\\s<]*|^email/,\n  _backpedal: /(?:[^?!.,:;*_~()&]+|\\([^)]*\\)|&(?![a-zA-Z0-9]+;$)|[?!.,:;*_~)]+(?!$))+/,\n  del: /^~+(?=\\S)([\\s\\S]*?\\S)~+/,\n  text: /^(`+|[^`])(?:[\\s\\S]*?(?:(?=[\\\\<!\\[`*~]|\\b_|https?:\\/\\/|ftp:\\/\\/|www\\.|$)|[^ ](?= {2,}\\n)|[^a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-](?=[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@))|(?= {2,}\\n|[a-zA-Z0-9.!#$%&'*+\\/=?_`{\\|}~-]+@))/\n});\ninline.gfm.url = edit(inline.gfm.url, 'i').replace('email', inline.gfm._extended_email).getRegex();\n/**\n * GFM + Line Breaks Inline Grammar\n */\n\ninline.breaks = merge({}, inline.gfm, {\n  br: edit(inline.br).replace('{2,}', '*').getRegex(),\n  text: edit(inline.gfm.text).replace('\\\\b_', '\\\\b_| {2,}\\\\n').replace(/\\{2,\\}/g, '*').getRegex()\n});\nmodule.exports = {\n  block,\n  inline\n};\n\n/***/ }),\n\n/***/ \"./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/vue-loader/lib/index.js?!./src/editor.vue?vue&type=template&id=7c83f806&\":\n/*!*************************************************************************************************************************************************************************************!*\\\n  !*** ./node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!./node_modules/vue-loader/lib??vue-loader-options!./src/editor.vue?vue&type=template&id=7c83f806& ***!\n  \\*************************************************************************************************************************************************************************************/\n/*! exports provided: render, staticRenderFns */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"render\", function() { return render; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"staticRenderFns\", function() { return staticRenderFns; });\nvar render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\n    \"div\",\n    {\n      class: [\n        \"v-md-container\",\n        _vm.css,\n        {\n          \"v-md-auto-resize\": _vm.height == \"auto\",\n          \"v-md-fullscreen\": _vm.fullScreen\n        }\n      ]\n    },\n    [\n      _vm.toolbars.length > 0\n        ? _c(\n            \"div\",\n            { staticClass: \"v-md-toolbar\" },\n            _vm._l(_vm.toolbars, function(group) {\n              return _c(\n                \"div\",\n                { staticClass: \"btn-group mr-3\", attrs: { role: \"group\" } },\n                _vm._l(group, function(i) {\n                  return _c(\n                    \"button\",\n                    {\n                      class: \"btn btn-\" + _vm.theme,\n                      attrs: {\n                        type: \"button\",\n                        title: i.title,\n                        disabled: _vm.preview && !i.ready\n                      },\n                      on: {\n                        click: function($event) {\n                          return _vm.command(i.cmd)\n                        }\n                      }\n                    },\n                    [_c(\"i\", { class: i.ico })]\n                  )\n                }),\n                0\n              )\n            }),\n            0\n          )\n        : _vm._e(),\n      _vm._v(\" \"),\n      _c(\n        \"div\",\n        {\n          staticClass: \"v-md-wrapper\",\n          on: {\n            click: function($event) {\n              return _vm.editor.focus()\n            }\n          }\n        },\n        [\n          _c(\"textarea\", {\n            staticClass: \"v-md-editor\",\n            style: _vm.styles,\n            attrs: { id: _vm.id, placeholder: _vm.placeholder }\n          }),\n          _vm._v(\" \"),\n          _vm.preview\n            ? _c(\"div\", {\n                staticClass: \"v-md-preview\",\n                domProps: { innerHTML: _vm._s(_vm.html) }\n              })\n            : _vm._e()\n        ]\n      )\n    ]\n  )\n}\nvar staticRenderFns = []\nrender._withStripped = true\n\n\n\n/***/ }),\n\n/***/ \"./node_modules/vue-loader/lib/runtime/componentNormalizer.js\":\n/*!********************************************************************!*\\\n  !*** ./node_modules/vue-loader/lib/runtime/componentNormalizer.js ***!\n  \\********************************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"default\", function() { return normalizeComponent; });\n/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file (except for modules).\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nfunction normalizeComponent (\n  scriptExports,\n  render,\n  staticRenderFns,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier, /* server only */\n  shadowMode /* vue-cli only */\n) {\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (render) {\n    options.render = render\n    options.staticRenderFns = staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = 'data-v-' + scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) { // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = shadowMode\n      ? function () { injectStyles.call(this, this.$root.$options.shadowRoot) }\n      : injectStyles\n  }\n\n  if (hook) {\n    if (options.functional) {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functional component in vue file\n      var originalRender = options.render\n      options.render = function renderWithStyleInjection (h, context) {\n        hook.call(context)\n        return originalRender(h, context)\n      }\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate\n      options.beforeCreate = existing\n        ? [].concat(existing, hook)\n        : [hook]\n    }\n  }\n\n  return {\n    exports: scriptExports,\n    options: options\n  }\n}\n\n\n/***/ }),\n\n/***/ \"./src/editor.vue\":\n/*!************************!*\\\n  !*** ./src/editor.vue ***!\n  \\************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _editor_vue_vue_type_template_id_7c83f806___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./editor.vue?vue&type=template&id=7c83f806& */ \"./src/editor.vue?vue&type=template&id=7c83f806&\");\n/* harmony import */ var _editor_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./editor.vue?vue&type=script&lang=js& */ \"./src/editor.vue?vue&type=script&lang=js&\");\n/* empty/unused harmony star reexport *//* harmony import */ var _node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ../node_modules/vue-loader/lib/runtime/componentNormalizer.js */ \"./node_modules/vue-loader/lib/runtime/componentNormalizer.js\");\n\n\n\n\n\n/* normalize component */\n\nvar component = Object(_node_modules_vue_loader_lib_runtime_componentNormalizer_js__WEBPACK_IMPORTED_MODULE_2__[\"default\"])(\n  _editor_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_1__[\"default\"],\n  _editor_vue_vue_type_template_id_7c83f806___WEBPACK_IMPORTED_MODULE_0__[\"render\"],\n  _editor_vue_vue_type_template_id_7c83f806___WEBPACK_IMPORTED_MODULE_0__[\"staticRenderFns\"],\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (false) { var api; }\ncomponent.options.__file = \"src/editor.vue\"\n/* harmony default export */ __webpack_exports__[\"default\"] = (component.exports);\n\n/***/ }),\n\n/***/ \"./src/editor.vue?vue&type=script&lang=js&\":\n/*!*************************************************!*\\\n  !*** ./src/editor.vue?vue&type=script&lang=js& ***!\n  \\*************************************************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_babel_loader_lib_index_js_node_modules_vue_loader_lib_index_js_vue_loader_options_editor_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../node_modules/babel-loader/lib!../node_modules/vue-loader/lib??vue-loader-options!./editor.vue?vue&type=script&lang=js& */ \"./node_modules/babel-loader/lib/index.js!./node_modules/vue-loader/lib/index.js?!./src/editor.vue?vue&type=script&lang=js&\");\n/* empty/unused harmony star reexport */ /* harmony default export */ __webpack_exports__[\"default\"] = (_node_modules_babel_loader_lib_index_js_node_modules_vue_loader_lib_index_js_vue_loader_options_editor_vue_vue_type_script_lang_js___WEBPACK_IMPORTED_MODULE_0__[\"default\"]); \n\n/***/ }),\n\n/***/ \"./src/editor.vue?vue&type=template&id=7c83f806&\":\n/*!*******************************************************!*\\\n  !*** ./src/editor.vue?vue&type=template&id=7c83f806& ***!\n  \\*******************************************************/\n/*! exports provided: render, staticRenderFns */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_editor_vue_vue_type_template_id_7c83f806___WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! -!../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../node_modules/vue-loader/lib??vue-loader-options!./editor.vue?vue&type=template&id=7c83f806& */ \"./node_modules/vue-loader/lib/loaders/templateLoader.js?!./node_modules/vue-loader/lib/index.js?!./src/editor.vue?vue&type=template&id=7c83f806&\");\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"render\", function() { return _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_editor_vue_vue_type_template_id_7c83f806___WEBPACK_IMPORTED_MODULE_0__[\"render\"]; });\n\n/* harmony reexport (safe) */ __webpack_require__.d(__webpack_exports__, \"staticRenderFns\", function() { return _node_modules_vue_loader_lib_loaders_templateLoader_js_vue_loader_options_node_modules_vue_loader_lib_index_js_vue_loader_options_editor_vue_vue_type_template_id_7c83f806___WEBPACK_IMPORTED_MODULE_0__[\"staticRenderFns\"]; });\n\n\n\n/***/ }),\n\n/***/ \"./src/index.css\":\n/*!***********************!*\\\n  !*** ./src/index.css ***!\n  \\***********************/\n/*! no static exports found */\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\n\n/***/ }),\n\n/***/ \"./src/index.js\":\n/*!**********************!*\\\n  !*** ./src/index.js ***!\n  \\**********************/\n/*! exports provided: default */\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var codemirror_lib_codemirror_css__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! codemirror/lib/codemirror.css */ \"./node_modules/codemirror/lib/codemirror.css\");\n/* harmony import */ var codemirror_lib_codemirror_css__WEBPACK_IMPORTED_MODULE_0___default = /*#__PURE__*/__webpack_require__.n(codemirror_lib_codemirror_css__WEBPACK_IMPORTED_MODULE_0__);\n/* harmony import */ var _index_css__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./index.css */ \"./src/index.css\");\n/* harmony import */ var _index_css__WEBPACK_IMPORTED_MODULE_1___default = /*#__PURE__*/__webpack_require__.n(_index_css__WEBPACK_IMPORTED_MODULE_1__);\n/* harmony import */ var _editor_vue__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./editor.vue */ \"./src/editor.vue\");\n\n\n\nvar MarkdownEditor = {\n  install: function install(Vue) {\n    if (Vue.__md_editor_installed) {\n      return;\n    }\n\n    Vue.__md_editor_installed = true;\n    Vue.component('markdown-editor', _editor_vue__WEBPACK_IMPORTED_MODULE_2__[\"default\"]);\n  }\n};\n\nif (typeof window !== 'undefined' && window.Vue) {\n  Vue.use(MarkdownEditor);\n}\n\n/* harmony default export */ __webpack_exports__[\"default\"] = (MarkdownEditor);\n\n/***/ })\n\n/******/ });\n});\n//# sourceMappingURL=v-markdown-editor.js.map","<template>\r\n    <div class=\"wrapper\">\r\n        <div class=\"container\">\r\n\r\n            <div class=\"card\">\r\n                <div class=\"card-body\">\r\n                    <div class=\"text-center my-40\">\r\n                        <h1>v-markdown-editor</h1>\r\n                        <h4>Markdown Editor component for Vue.js</h4>\r\n                    </div>\r\n\r\n                    <div class=\"row\">\r\n                        <div class=\"col-12 col-lg-8\">\r\n                            <div class=\"form-group\">\r\n\r\n                                <markdown-editor ref=\"md\" placeholder=\"Enter markdown content...\"\r\n                                    v-model=\"value\">\r\n                                </markdown-editor>\r\n\r\n                            </div>\r\n\r\n\r\n                            <div class=\"form-group\">\r\n                                <button @click=\"val\" class=\"btn btn-primary\">Change</button>\r\n                                <button @click=\"replace\" class=\"btn btn-primary\">Handle</button>\r\n\r\n                            </div>\r\n\r\n\r\n                            <div class=\"form-group\">\r\n                                <pre><code>{{value}}</code></pre>\r\n                            </div>\r\n\r\n\r\n                            <pre><code>&lt;markdown-editor toolbar=&quot;bold italic upload&quot; @command:upload=&quot;upload&quot; :extend=&quot;custom&quot;&gt; &lt;/markdown-editor&gt;</code></pre>\r\n\r\n                            <div class=\"form-group\">\r\n                                <markdown-editor toolbar=\"bold italic upload\" @command:upload=\"upload\" :extend=\"custom\">\r\n                                </markdown-editor>\r\n                            </div>\r\n\r\n\r\n\r\n                            <pre><code>&#x3C;markdown-editor theme=&#x22;success&#x22;&#x3E;&#x3C;/markdown-editor&#x3E;</code></pre>\r\n\r\n                            <div class=\"form-group\">\r\n                                <markdown-editor theme=\"success\"></markdown-editor>\r\n                            </div>\r\n\r\n\r\n                            <pre><code>&#x3C;markdown-editor height=\"auto\" toolbar=&#x27;&#x27;&#x3E;&#x3C;/markdown-editor&#x3E;</code></pre>\r\n                            <div class=\"form-group\">\r\n                                <markdown-editor height=\"auto\" toolbar=''></markdown-editor>\r\n                            </div>\r\n\r\n                        </div>\r\n\r\n                        <div class=\"col-12 col-lg-4\">\r\n                            <div class=\"viralroll\" data-id=\"5e8d2bb73364491e2a946eec\"></div>\r\n                        </div>\r\n                    </div>\r\n\r\n\r\n\r\n\r\n                </div>\r\n            </div>\r\n        </div>\r\n\r\n\r\n        <footer class=\"text-center\">\r\n\r\n            <p>\r\n                <a class=\"social-icon\" href=\"https://github.com/nasa8x/v-markdown-editor\" target=\"_blank\">\r\n                    <i class=\"fa-3x fab fa-github-square\"></i>\r\n                </a>\r\n\r\n            </p>\r\n\r\n            <p>Themed by <a href=\"http://on.morioh.net/96d5d36367\" target=\"_blank\">Morioh Theme</a><br>\r\n                Made Love by <a href=\"https://morioh.com/@5c22e47440738156a7078a19\">Nasa8x</a>\r\n\r\n            </p>\r\n\r\n\r\n        </footer>\r\n\r\n    </div>\r\n</template>\r\n\r\n\r\n<script>\r\n\r\n    export default {\r\n        data() {\r\n            return {\r\n                value: '',\r\n\r\n                custom: {\r\n                    'upload': {\r\n                        cmd: 'upload',\r\n                        ico: 'fas fa-cloud',\r\n                        title: 'Upload File'\r\n                    }\r\n                }\r\n            }\r\n        },\r\n\r\n        methods: {\r\n            val() {\r\n                this.value = \"This's new value\";\r\n            },           \r\n\r\n            onChange(val) {\r\n\r\n                console.log(val);\r\n            },\r\n\r\n            replace() {\r\n                this.$refs.md.editor.replaceSelection(\"Handle editor\");\r\n            },\r\n\r\n            upload(md) {\r\n                md.drawImage({ url: 'https://i.imgur.com/CbCXhBe.png', title: 'this image title' });\r\n            }\r\n        },\r\n\r\n    }\r\n\r\n</script>","var render = function() {\n  var _vm = this\n  var _h = _vm.$createElement\n  var _c = _vm._self._c || _h\n  return _c(\"div\", { staticClass: \"wrapper\" }, [\n    _c(\"div\", { staticClass: \"container\" }, [\n      _c(\"div\", { staticClass: \"card\" }, [\n        _c(\"div\", { staticClass: \"card-body\" }, [\n          _vm._m(0),\n          _vm._v(\" \"),\n          _c(\"div\", { staticClass: \"row\" }, [\n            _c(\"div\", { staticClass: \"col-12 col-lg-8\" }, [\n              _c(\n                \"div\",\n                { staticClass: \"form-group\" },\n                [\n                  _c(\"markdown-editor\", {\n                    ref: \"md\",\n                    attrs: { placeholder: \"Enter markdown content...\" },\n                    model: {\n                      value: _vm.value,\n                      callback: function($$v) {\n                        _vm.value = $$v\n                      },\n                      expression: \"value\"\n                    }\n                  })\n                ],\n                1\n              ),\n              _vm._v(\" \"),\n              _c(\"div\", { staticClass: \"form-group\" }, [\n                _c(\n                  \"button\",\n                  { staticClass: \"btn btn-primary\", on: { click: _vm.val } },\n                  [_vm._v(\"Change\")]\n                ),\n                _vm._v(\" \"),\n                _c(\n                  \"button\",\n                  {\n                    staticClass: \"btn btn-primary\",\n                    on: { click: _vm.replace }\n                  },\n                  [_vm._v(\"Handle\")]\n                )\n              ]),\n              _vm._v(\" \"),\n              _c(\"div\", { staticClass: \"form-group\" }, [\n                _c(\"pre\", [_c(\"code\", [_vm._v(_vm._s(_vm.value))])])\n              ]),\n              _vm._v(\" \"),\n              _vm._m(1),\n              _vm._v(\" \"),\n              _c(\n                \"div\",\n                { staticClass: \"form-group\" },\n                [\n                  _c(\"markdown-editor\", {\n                    attrs: {\n                      toolbar: \"bold italic upload\",\n                      extend: _vm.custom\n                    },\n                    on: { \"command:upload\": _vm.upload }\n                  })\n                ],\n                1\n              ),\n              _vm._v(\" \"),\n              _vm._m(2),\n              _vm._v(\" \"),\n              _c(\n                \"div\",\n                { staticClass: \"form-group\" },\n                [_c(\"markdown-editor\", { attrs: { theme: \"success\" } })],\n                1\n              ),\n              _vm._v(\" \"),\n              _vm._m(3),\n              _vm._v(\" \"),\n              _c(\n                \"div\",\n                { staticClass: \"form-group\" },\n                [\n                  _c(\"markdown-editor\", {\n                    attrs: { height: \"auto\", toolbar: \"\" }\n                  })\n                ],\n                1\n              )\n            ]),\n            _vm._v(\" \"),\n            _vm._m(4)\n          ])\n        ])\n      ])\n    ]),\n    _vm._v(\" \"),\n    _vm._m(5)\n  ])\n}\nvar staticRenderFns = [\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"div\", { staticClass: \"text-center my-40\" }, [\n      _c(\"h1\", [_vm._v(\"v-markdown-editor\")]),\n      _vm._v(\" \"),\n      _c(\"h4\", [_vm._v(\"Markdown Editor component for Vue.js\")])\n    ])\n  },\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"pre\", [\n      _c(\"code\", [\n        _vm._v(\n          '<markdown-editor toolbar=\"bold italic upload\" @command:upload=\"upload\" :extend=\"custom\"> </markdown-editor>'\n        )\n      ])\n    ])\n  },\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"pre\", [\n      _c(\"code\", [\n        _vm._v('<markdown-editor theme=\"success\"></markdown-editor>')\n      ])\n    ])\n  },\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"pre\", [\n      _c(\"code\", [\n        _vm._v(\"<markdown-editor height=\\\"auto\\\" toolbar=''></markdown-editor>\")\n      ])\n    ])\n  },\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"div\", { staticClass: \"col-12 col-lg-4\" }, [\n      _c(\"div\", {\n        staticClass: \"viralroll\",\n        attrs: { \"data-id\": \"5e8d2bb73364491e2a946eec\" }\n      })\n    ])\n  },\n  function() {\n    var _vm = this\n    var _h = _vm.$createElement\n    var _c = _vm._self._c || _h\n    return _c(\"footer\", { staticClass: \"text-center\" }, [\n      _c(\"p\", [\n        _c(\n          \"a\",\n          {\n            staticClass: \"social-icon\",\n            attrs: {\n              href: \"https://github.com/nasa8x/v-markdown-editor\",\n              target: \"_blank\"\n            }\n          },\n          [_c(\"i\", { staticClass: \"fa-3x fab fa-github-square\" })]\n        )\n      ]),\n      _vm._v(\" \"),\n      _c(\"p\", [\n        _vm._v(\"Themed by \"),\n        _c(\n          \"a\",\n          {\n            attrs: { href: \"http://on.morioh.net/96d5d36367\", target: \"_blank\" }\n          },\n          [_vm._v(\"Morioh Theme\")]\n        ),\n        _c(\"br\"),\n        _vm._v(\"\\n            Made Love by \"),\n        _c(\n          \"a\",\n          { attrs: { href: \"https://morioh.com/@5c22e47440738156a7078a19\" } },\n          [_vm._v(\"Nasa8x\")]\n        )\n      ])\n    ])\n  }\n]\nrender._withStripped = true\n\nexport { render, staticRenderFns }","/* globals __VUE_SSR_CONTEXT__ */\n\n// IMPORTANT: Do NOT use ES2015 features in this file (except for modules).\n// This module is a runtime utility for cleaner component module output and will\n// be included in the final webpack user bundle.\n\nexport default function normalizeComponent (\n  scriptExports,\n  render,\n  staticRenderFns,\n  functionalTemplate,\n  injectStyles,\n  scopeId,\n  moduleIdentifier, /* server only */\n  shadowMode /* vue-cli only */\n) {\n  // Vue.extend constructor export interop\n  var options = typeof scriptExports === 'function'\n    ? scriptExports.options\n    : scriptExports\n\n  // render functions\n  if (render) {\n    options.render = render\n    options.staticRenderFns = staticRenderFns\n    options._compiled = true\n  }\n\n  // functional template\n  if (functionalTemplate) {\n    options.functional = true\n  }\n\n  // scopedId\n  if (scopeId) {\n    options._scopeId = 'data-v-' + scopeId\n  }\n\n  var hook\n  if (moduleIdentifier) { // server build\n    hook = function (context) {\n      // 2.3 injection\n      context =\n        context || // cached call\n        (this.$vnode && this.$vnode.ssrContext) || // stateful\n        (this.parent && this.parent.$vnode && this.parent.$vnode.ssrContext) // functional\n      // 2.2 with runInNewContext: true\n      if (!context && typeof __VUE_SSR_CONTEXT__ !== 'undefined') {\n        context = __VUE_SSR_CONTEXT__\n      }\n      // inject component styles\n      if (injectStyles) {\n        injectStyles.call(this, context)\n      }\n      // register component module identifier for async chunk inferrence\n      if (context && context._registeredComponents) {\n        context._registeredComponents.add(moduleIdentifier)\n      }\n    }\n    // used by ssr in case component is cached and beforeCreate\n    // never gets called\n    options._ssrRegister = hook\n  } else if (injectStyles) {\n    hook = shadowMode\n      ? function () { injectStyles.call(this, this.$root.$options.shadowRoot) }\n      : injectStyles\n  }\n\n  if (hook) {\n    if (options.functional) {\n      // for template-only hot-reload because in that case the render fn doesn't\n      // go through the normalizer\n      options._injectStyles = hook\n      // register for functional component in vue file\n      var originalRender = options.render\n      options.render = function renderWithStyleInjection (h, context) {\n        hook.call(context)\n        return originalRender(h, context)\n      }\n    } else {\n      // inject component registration as beforeCreate hook\n      var existing = options.beforeCreate\n      options.beforeCreate = existing\n        ? [].concat(existing, hook)\n        : [hook]\n    }\n  }\n\n  return {\n    exports: scriptExports,\n    options: options\n  }\n}\n","module.exports = function(module) {\n\tif (!module.webpackPolyfill) {\n\t\tmodule.deprecate = function() {};\n\t\tmodule.paths = [];\n\t\t// module.parent = undefined by default\n\t\tif (!module.children) module.children = [];\n\t\tObject.defineProperty(module, \"loaded\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.l;\n\t\t\t}\n\t\t});\n\t\tObject.defineProperty(module, \"id\", {\n\t\t\tenumerable: true,\n\t\t\tget: function() {\n\t\t\t\treturn module.i;\n\t\t\t}\n\t\t});\n\t\tmodule.webpackPolyfill = 1;\n\t}\n\treturn module;\n};\n","import '../dist/v-markdown-editor.css';\r\n\r\nimport Vue from 'vue';\r\nimport App from './app.vue';\r\nimport Editor from '../dist/v-markdown-editor';\r\n\r\nVue.use(Editor);\r\n\r\nnew Vue({\r\n  el: '#app', \r\n \r\n  render: h => h(App)\r\n})\r\n","import { render, staticRenderFns } from \"./app.vue?vue&type=template&id=0d4f360b&\"\nimport script from \"./app.vue?vue&type=script&lang=js&\"\nexport * from \"./app.vue?vue&type=script&lang=js&\"\n\n\n/* normalize component */\nimport normalizer from \"!../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\n/* hot reload */\nif (module.hot) {\n  var api = require(\"/app/node_modules/vue-hot-reload-api/dist/index.js\")\n  api.install(require('vue'))\n  if (api.compatible) {\n    module.hot.accept()\n    if (!api.isRecorded('0d4f360b')) {\n      api.createRecord('0d4f360b', component.options)\n    } else {\n      api.reload('0d4f360b', component.options)\n    }\n    module.hot.accept(\"./app.vue?vue&type=template&id=0d4f360b&\", function () {\n      api.rerender('0d4f360b', {\n        render: render,\n        staticRenderFns: staticRenderFns\n      })\n    })\n  }\n}\ncomponent.options.__file = \"www/app.vue\"\nexport default component.exports","import mod from \"-!../node_modules/babel-loader/lib/index.js!../node_modules/vue-loader/lib/index.js??vue-loader-options!./app.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../node_modules/babel-loader/lib/index.js!../node_modules/vue-loader/lib/index.js??vue-loader-options!./app.vue?vue&type=script&lang=js&\"","export * from \"-!../node_modules/vue-loader/lib/loaders/templateLoader.js??vue-loader-options!../node_modules/vue-loader/lib/index.js??vue-loader-options!./app.vue?vue&type=template&id=0d4f360b&\"","module.exports = Vue;"],"sourceRoot":""}